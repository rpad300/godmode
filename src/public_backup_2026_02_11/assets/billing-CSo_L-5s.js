import{h as t}from"./main-v_cFye9p.js";async function c(){try{return(await t.get("/api/admin/billing/projects")).data?.projects||[]}catch(r){return console.error("[Billing] Error getting all projects billing:",r),[]}}async function l(){try{return(await t.get("/api/admin/billing/pricing")).data?.config||null}catch(r){return console.error("[Billing] Error getting global pricing config:",r),null}}async function g(r){try{return(await t.post("/api/admin/billing/pricing",r)).data||{success:!1}}catch(e){return console.error("[Billing] Error setting global pricing config:",e),{success:!1,error:String(e)}}}async function u(){try{const r=await t.get("/api/admin/billing/pricing/tiers");return{tiers:r.data?.tiers||[],config_id:r.data?.config_id||null}}catch(r){return console.error("[Billing] Error getting global pricing tiers:",r),{tiers:[],config_id:null}}}async function p(r){try{return(await t.post("/api/admin/billing/pricing/tiers",{tiers:r})).data||{success:!1}}catch(e){return console.error("[Billing] Error setting global pricing tiers:",e),{success:!1,error:String(e)}}}async function d(r){try{return(await t.get(`/api/admin/billing/projects/${r}`)).data?.summary||null}catch(e){return console.error("[Billing] Error getting project billing summary:",e),null}}async function f(r){try{const e=await t.get(`/api/admin/billing/projects/${r}/balance`);return e.data?.success?e.data:null}catch(e){return console.error("[Billing] Error getting project balance:",e),null}}async function m(r,e,n){try{const i=await t.post(`/api/admin/billing/projects/${r}/balance`,{amount:e,description:n});return{success:i.data?.success||!1,new_balance:i.data?.new_balance,error:i.data?.reason}}catch(i){return console.error("[Billing] Error crediting project balance:",i),{success:!1,error:String(i)}}}async function b(r,e){try{return{success:(await t.post(`/api/admin/billing/projects/${r}/balance`,{unlimited:e})).data?.success||!1}}catch(n){return console.error("[Billing] Error setting project unlimited:",n),{success:!1,error:String(n)}}}async function y(r,e=50){try{return(await t.get(`/api/admin/billing/projects/${r}/transactions?limit=${e}`)).data?.transactions||[]}catch(n){return console.error("[Billing] Error getting balance transactions:",n),[]}}async function h(r){try{const e=await t.get(`/api/admin/billing/projects/${r}/pricing`);return{override:e.data?.override||null,using_global:e.data?.using_global??!0,global_config:e.data?.global_config||null}}catch(e){return console.error("[Billing] Error getting project pricing override:",e),{override:null,using_global:!0,global_config:null}}}async function j(r,e){try{return(await t.post(`/api/admin/billing/projects/${r}/pricing`,e)).data||{success:!1}}catch(n){return console.error("[Billing] Error setting project pricing override:",n),{success:!1,error:String(n)}}}async function B(r){try{return(await t.delete(`/api/admin/billing/projects/${r}/pricing`)).data?.success||!1}catch(e){return console.error("[Billing] Error deleting project pricing override:",e),!1}}async function E(r){try{return(await t.get(`/api/projects/${r}/billing`)).data?.summary||null}catch(e){return console.error("[Billing] Error getting project billing summary:",e),null}}function w(r){return new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}function a(r){return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toString()}function P(r){return!r||r.length===0?"No tiers configured":r.map((e,n)=>{const i=n>0?r[n-1].token_limit:0,o=a(i||0),s=e.token_limit?a(e.token_limit):"âˆž";return`${o}-${s}: +${e.markup_percent}%`}).join(" | ")}async function _(){try{const r=await t.get("/api/admin/billing/exchange-rate");return r.data?.success?{auto:r.data.auto,manualRate:r.data.manualRate,currentRate:r.data.currentRate,source:r.data.source,lastUpdated:r.data.lastUpdated,defaultRate:r.data.defaultRate}:null}catch(r){return console.error("[Billing] Error getting exchange rate config:",r),null}}async function $(r,e){try{return(await t.post("/api/admin/billing/exchange-rate",{auto:r,manualRate:e})).data||{success:!1}}catch(n){return console.error("[Billing] Error setting exchange rate mode:",n),{success:!1,error:String(n)}}}async function S(){try{return(await t.post("/api/admin/billing/exchange-rate/refresh",{})).data||{success:!1}}catch(r){return console.error("[Billing] Error refreshing exchange rate:",r),{success:!1,error:String(r)}}}const v={getAllProjectsBilling:c,getGlobalPricingConfig:l,setGlobalPricingConfig:g,getGlobalPricingTiers:u,setGlobalPricingTiers:p,getProjectBillingSummaryAdmin:d,getProjectBalance:f,creditProjectBalance:m,setProjectUnlimited:b,getBalanceTransactions:y,getProjectPricingOverride:h,setProjectPricingOverride:j,deleteProjectPricingOverride:B,getExchangeRateConfig:_,setExchangeRateMode:$,refreshExchangeRate:S,getProjectBillingSummary:E,formatEur:w,formatTokens:a,getTierDisplayInfo:P};export{a,v as b,w as f};
//# sourceMappingURL=billing-CSo_L-5s.js.map
