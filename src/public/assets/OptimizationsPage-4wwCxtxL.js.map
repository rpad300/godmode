{"version":3,"file":"OptimizationsPage-4wwCxtxL.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/git-merge.js","../../../node_modules/lucide-react/dist/esm/icons/tag.js","../../../node_modules/lucide-react/dist/esm/icons/thumbs-down.js","../../../node_modules/lucide-react/dist/esm/icons/thumbs-up.js","../../frontend/src/pages/OptimizationsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"18\", cy: \"18\", r: \"3\", key: \"1xkwt0\" }],\n  [\"circle\", { cx: \"6\", cy: \"6\", r: \"3\", key: \"1lh9wr\" }],\n  [\"path\", { d: \"M6 21V9a9 9 0 0 0 9 9\", key: \"7kw0sc\" }]\n];\nconst GitMerge = createLucideIcon(\"git-merge\", __iconNode);\n\nexport { __iconNode, GitMerge as default };\n//# sourceMappingURL=git-merge.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"vktsd0\"\n    }\n  ],\n  [\"circle\", { cx: \"7.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"kqv944\" }]\n];\nconst Tag = createLucideIcon(\"tag\", __iconNode);\n\nexport { __iconNode, Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z\",\n      key: \"m61m77\"\n    }\n  ],\n  [\"path\", { d: \"M17 14V2\", key: \"8ymqnk\" }]\n];\nconst ThumbsDown = createLucideIcon(\"thumbs-down\", __iconNode);\n\nexport { __iconNode, ThumbsDown as default };\n//# sourceMappingURL=thumbs-down.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z\",\n      key: \"emmmcr\"\n    }\n  ],\n  [\"path\", { d: \"M7 10v12\", key: \"1qc93n\" }]\n];\nconst ThumbsUp = createLucideIcon(\"thumbs-up\", __iconNode);\n\nexport { __iconNode, ThumbsUp as default };\n//# sourceMappingURL=thumbs-up.js.map\n","import { useState } from 'react';\r\nimport {\r\n  Zap, Brain, BarChart3, Sparkles, Trash2, Tag, Search,\r\n  RefreshCw, Loader2, AlertTriangle, Activity, Database, Cpu,\r\n  Download, ThumbsUp, ThumbsDown, GitMerge, MessageSquare,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { cn } from '../lib/utils';\r\nimport { ErrorState } from '../components/shared/ErrorState';\r\nimport {\r\n  useOptimizationsAnalytics,\r\n  useOptimizationsInsights,\r\n  useOptimizationsSummary,\r\n  useOptimizationsDigest,\r\n  useOptimizationsHealth,\r\n  useOptimizationsHealthSummary,\r\n  useOptimizationsSuggestions,\r\n  useOptimizationsUsage,\r\n  useOptimizationsCacheStats,\r\n  useOptimizationsDedup,\r\n  useOptimizationsTag,\r\n  useOptimizationsNER,\r\n  useOptimizationsContextOptimize,\r\n  useOptimizationsCacheClear,\r\n  useOptimizationsFeedbackStats,\r\n  useOptimizationsResolveDuplicates,\r\n  useOptimizationsFeedback,\r\n} from '../hooks/useGodMode';\r\n\r\ntype Tab = 'overview' | 'tools' | 'insights' | 'digest';\r\n\r\nconst TAB_LIST: { key: Tab; label: string; icon: typeof Zap }[] = [\r\n  { key: 'overview', label: 'Overview', icon: BarChart3 },\r\n  { key: 'tools', label: 'AI Tools', icon: Brain },\r\n  { key: 'insights', label: 'Insights', icon: Sparkles },\r\n  { key: 'digest', label: 'Digest', icon: Zap },\r\n];\r\n\r\nfunction DataCard({ title, icon: Icon, data, isLoading, isError, refetch }: {\r\n  title: string;\r\n  icon: typeof Zap;\r\n  data: unknown;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n  refetch?: () => void;\r\n}) {\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary flex items-center justify-center min-h-[120px]\">\r\n        <Loader2 className=\"w-5 h-5 animate-spin text-gm-interactive-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n  if (isError) {\r\n    return (\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n        <ErrorState message={`Failed to load ${title.toLowerCase()}.`} onRetry={refetch} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const entries = data && typeof data === 'object' && !Array.isArray(data)\r\n    ? Object.entries(data as Record<string, unknown>).filter(([, v]) => v != null)\r\n    : [];\r\n\r\n  return (\r\n    <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <Icon className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n        <h3 className=\"text-xs font-semibold text-gm-text-primary\">{title}</h3>\r\n      </div>\r\n      {entries.length > 0 ? (\r\n        <div className=\"space-y-2\">\r\n          {entries.map(([key, val]) => (\r\n            <div key={key} className=\"flex items-start justify-between gap-2 text-[11px]\">\r\n              <span className=\"text-gm-text-tertiary capitalize shrink-0\">{key.replace(/[_-]/g, ' ')}</span>\r\n              <span className=\"text-gm-text-primary text-right break-all\">\r\n                {typeof val === 'object' ? JSON.stringify(val, null, 0) : String(val)}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-[11px] text-gm-text-tertiary\">No data available</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ArrayCard({ title, icon: Icon, data, isLoading, isError, refetch }: {\r\n  title: string;\r\n  icon: typeof Zap;\r\n  data: unknown;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n  refetch?: () => void;\r\n}) {\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary flex items-center justify-center min-h-[120px]\">\r\n        <Loader2 className=\"w-5 h-5 animate-spin text-gm-interactive-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n  if (isError) {\r\n    return (\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n        <ErrorState message={`Failed to load ${title.toLowerCase()}.`} onRetry={refetch} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const items = Array.isArray(data) ? data : data && typeof data === 'object' ? [data] : [];\r\n\r\n  return (\r\n    <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <Icon className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n        <h3 className=\"text-xs font-semibold text-gm-text-primary\">{title}</h3>\r\n        <span className=\"text-[10px] text-gm-text-tertiary bg-gm-surface-secondary px-2 py-0.5 rounded-full ml-auto\">\r\n          {items.length}\r\n        </span>\r\n      </div>\r\n      {items.length > 0 ? (\r\n        <div className=\"space-y-2\">\r\n          {items.map((item, idx) => (\r\n            <div key={idx} className=\"bg-gm-surface-secondary rounded-lg p-3 border border-[var(--gm-border-primary)]\">\r\n              {typeof item === 'object' && item !== null ? (\r\n                <div className=\"space-y-1.5\">\r\n                  {Object.entries(item as Record<string, unknown>).filter(([, v]) => v != null).map(([k, v]) => (\r\n                    <div key={k} className=\"text-[11px]\">\r\n                      <span className=\"text-gm-text-tertiary capitalize\">{k.replace(/[_-]/g, ' ')}: </span>\r\n                      <span className=\"text-gm-text-primary\">\r\n                        {typeof v === 'object' ? JSON.stringify(v, null, 0) : String(v)}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-[11px] text-gm-text-primary\">{String(item)}</p>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-[11px] text-gm-text-tertiary\">No items available</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OverviewTab() {\r\n  const healthSummary = useOptimizationsHealthSummary();\r\n  const usage = useOptimizationsUsage();\r\n  const cache = useOptimizationsCacheStats();\r\n  const analytics = useOptimizationsAnalytics();\r\n  const health = useOptimizationsHealth();\r\n  const feedback = useOptimizationsFeedbackStats();\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n      <DataCard title=\"Health Summary\" icon={Activity} data={healthSummary.data} isLoading={healthSummary.isLoading} isError={healthSummary.isError} refetch={healthSummary.refetch} />\r\n      <DataCard title=\"Health Metrics\" icon={Cpu} data={health.data} isLoading={health.isLoading} isError={health.isError} refetch={health.refetch} />\r\n      <DataCard title=\"Usage Stats\" icon={BarChart3} data={usage.data} isLoading={usage.isLoading} isError={usage.isError} refetch={usage.refetch} />\r\n      <DataCard title=\"Cache Stats\" icon={Database} data={cache.data} isLoading={cache.isLoading} isError={cache.isError} refetch={cache.refetch} />\r\n      <DataCard title=\"Analytics\" icon={BarChart3} data={analytics.data} isLoading={analytics.isLoading} isError={analytics.isError} refetch={analytics.refetch} />\r\n      <DataCard title=\"Feedback Stats\" icon={Sparkles} data={feedback.data} isLoading={feedback.isLoading} isError={feedback.isError} refetch={feedback.refetch} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ToolsTab() {\r\n  const dedup = useOptimizationsDedup();\r\n  const resolveDuplicates = useOptimizationsResolveDuplicates();\r\n  const autoTag = useOptimizationsTag();\r\n  const ner = useOptimizationsNER();\r\n  const contextOpt = useOptimizationsContextOptimize();\r\n  const cacheClear = useOptimizationsCacheClear();\r\n\r\n  const [nerText, setNerText] = useState('');\r\n  const [nerResult, setNerResult] = useState<unknown>(null);\r\n  const [ctxQuery, setCtxQuery] = useState('');\r\n  const [ctxResult, setCtxResult] = useState<unknown>(null);\r\n  const [dedupResult, setDedupResult] = useState<unknown>(null);\r\n\r\n  const handleDedup = () => {\r\n    dedup.mutate(undefined, {\r\n      onSuccess: (data) => {\r\n        toast.success('Deduplication scan completed');\r\n        setDedupResult(data);\r\n      },\r\n      onError: () => toast.error('Deduplication failed'),\r\n    });\r\n  };\r\n\r\n  const handleResolveDuplicates = () => {\r\n    const result = dedupResult as Record<string, unknown> | null;\r\n    const ids = (result?.duplicate_ids ?? result?.ids ?? []) as string[];\r\n    if (ids.length === 0) {\r\n      toast.info('Run dedup scan first to find duplicates');\r\n      return;\r\n    }\r\n    resolveDuplicates.mutate({ ids }, {\r\n      onSuccess: () => { toast.success('Duplicates resolved'); setDedupResult(null); },\r\n      onError: () => toast.error('Failed to resolve duplicates'),\r\n    });\r\n  };\r\n\r\n  const handleAutoTag = () => {\r\n    autoTag.mutate({}, {\r\n      onSuccess: () => toast.success('Auto-tagging completed'),\r\n      onError: () => toast.error('Auto-tagging failed'),\r\n    });\r\n  };\r\n\r\n  const handleNER = () => {\r\n    if (!nerText.trim()) return;\r\n    ner.mutate({ text: nerText }, {\r\n      onSuccess: (data) => { setNerResult(data); toast.success('NER analysis complete'); },\r\n      onError: () => toast.error('NER analysis failed'),\r\n    });\r\n  };\r\n\r\n  const handleContextOptimize = () => {\r\n    if (!ctxQuery.trim()) return;\r\n    contextOpt.mutate({ query: ctxQuery }, {\r\n      onSuccess: (data) => { setCtxResult(data); toast.success('Context optimized'); },\r\n      onError: () => toast.error('Context optimization failed'),\r\n    });\r\n  };\r\n\r\n  const handleCacheClear = () => {\r\n    cacheClear.mutate(undefined, {\r\n      onSuccess: () => toast.success('Cache cleared'),\r\n      onError: () => toast.error('Failed to clear cache'),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Quick Actions */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <RefreshCw className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n            <h3 className=\"text-xs font-semibold text-gm-text-primary\">Deduplication</h3>\r\n          </div>\r\n          <p className=\"text-[11px] text-gm-text-tertiary\">Scan and merge duplicate entities across the knowledge base.</p>\r\n          <div className=\"flex gap-2\">\r\n            <button onClick={handleDedup} disabled={dedup.isPending}\r\n              className=\"flex-1 px-3 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center justify-center gap-1.5 transition-colors\">\r\n              {dedup.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Search className=\"w-3.5 h-3.5\" />}\r\n              Scan\r\n            </button>\r\n            <button onClick={handleResolveDuplicates} disabled={resolveDuplicates.isPending || !dedupResult}\r\n              className=\"flex-1 px-3 py-2 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs font-medium hover:bg-gm-surface-hover border border-gm-border-primary disabled:opacity-50 flex items-center justify-center gap-1.5 transition-colors\">\r\n              {resolveDuplicates.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <GitMerge className=\"w-3.5 h-3.5\" />}\r\n              Resolve\r\n            </button>\r\n          </div>\r\n          {dedupResult && (\r\n            <div className=\"bg-gm-surface-secondary rounded-lg p-2 border border-[var(--gm-border-primary)]\">\r\n            <ResultDisplay data={dedupResult} />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Tag className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n            <h3 className=\"text-xs font-semibold text-gm-text-primary\">Auto-Tag</h3>\r\n          </div>\r\n          <p className=\"text-[11px] text-gm-text-tertiary\">Automatically classify and tag all entities using AI.</p>\r\n          <button onClick={handleAutoTag} disabled={autoTag.isPending}\r\n            className=\"w-full px-3 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center justify-center gap-1.5 transition-colors\">\r\n            {autoTag.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Tag className=\"w-3.5 h-3.5\" />}\r\n            Run Auto-Tag\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Trash2 className=\"w-4 h-4 text-gm-status-danger\" />\r\n            <h3 className=\"text-xs font-semibold text-gm-text-primary\">Clear Cache</h3>\r\n          </div>\r\n          <p className=\"text-[11px] text-gm-text-tertiary\">Purge all optimization caches. Data will be re-computed on next request.</p>\r\n          <button onClick={handleCacheClear} disabled={cacheClear.isPending}\r\n            className=\"w-full px-3 py-2 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs font-medium hover:bg-gm-surface-hover border border-gm-border-primary disabled:opacity-50 flex items-center justify-center gap-1.5 transition-colors\">\r\n            {cacheClear.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Trash2 className=\"w-3.5 h-3.5\" />}\r\n            Clear Cache\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* NER Tool */}\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Search className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n          <h3 className=\"text-xs font-semibold text-gm-text-primary\">Named Entity Recognition</h3>\r\n        </div>\r\n        <p className=\"text-[11px] text-gm-text-tertiary\">Extract named entities (people, orgs, locations, etc.) from text.</p>\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            value={nerText} onChange={e => setNerText(e.target.value)}\r\n            placeholder=\"Paste text to analyze...\"\r\n            className=\"flex-1 px-3 py-2 bg-gm-surface-primary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary placeholder:text-gm-text-tertiary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\"\r\n          />\r\n          <button onClick={handleNER} disabled={ner.isPending || !nerText.trim()}\r\n            className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors shrink-0\">\r\n            {ner.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Brain className=\"w-3.5 h-3.5\" />}\r\n            Analyze\r\n          </button>\r\n        </div>\r\n        {nerResult && (\r\n          <div className=\"bg-gm-surface-secondary rounded-lg p-3 border border-[var(--gm-border-primary)]\">\r\n            <ResultDisplay data={nerResult} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Context Optimize Tool */}\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Cpu className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n          <h3 className=\"text-xs font-semibold text-gm-text-primary\">Context Optimization</h3>\r\n        </div>\r\n        <p className=\"text-[11px] text-gm-text-tertiary\">Optimize RAG context retrieval for a given query.</p>\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            value={ctxQuery} onChange={e => setCtxQuery(e.target.value)}\r\n            placeholder=\"Enter query to optimize context for...\"\r\n            className=\"flex-1 px-3 py-2 bg-gm-surface-primary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary placeholder:text-gm-text-tertiary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\"\r\n          />\r\n          <button onClick={handleContextOptimize} disabled={contextOpt.isPending || !ctxQuery.trim()}\r\n            className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors shrink-0\">\r\n            {contextOpt.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Cpu className=\"w-3.5 h-3.5\" />}\r\n            Optimize\r\n          </button>\r\n        </div>\r\n        {ctxResult && (\r\n          <div className=\"bg-gm-surface-secondary rounded-lg p-3 border border-[var(--gm-border-primary)]\">\r\n            <ResultDisplay data={ctxResult} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InsightsTab() {\r\n  const insights = useOptimizationsInsights();\r\n  const suggestions = useOptimizationsSuggestions();\r\n  const feedback = useOptimizationsFeedback();\r\n  const [feedbackText, setFeedbackText] = useState('');\r\n  const [feedbackRating, setFeedbackRating] = useState<'positive' | 'negative' | null>(null);\r\n\r\n  const handleFeedback = () => {\r\n    if (!feedbackText.trim() || !feedbackRating) return;\r\n    feedback.mutate({ message: feedbackText, rating: feedbackRating, category: 'general' }, {\r\n      onSuccess: () => { toast.success('Feedback submitted'); setFeedbackText(''); setFeedbackRating(null); },\r\n      onError: () => toast.error('Failed to submit feedback'),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n        <ArrayCard title=\"Insights\" icon={Sparkles} data={insights.data} isLoading={insights.isLoading} isError={insights.isError} refetch={insights.refetch} />\r\n        <ArrayCard title=\"Suggestions\" icon={AlertTriangle} data={suggestions.data} isLoading={suggestions.isLoading} isError={suggestions.isError} refetch={suggestions.refetch} />\r\n      </div>\r\n\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <MessageSquare className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n          <h3 className=\"text-xs font-semibold text-gm-text-primary\">Submit Feedback</h3>\r\n        </div>\r\n        <p className=\"text-[11px] text-gm-text-tertiary\">Help improve optimization suggestions by providing feedback.</p>\r\n        <div className=\"flex gap-2\">\r\n          <button onClick={() => setFeedbackRating(feedbackRating === 'positive' ? null : 'positive')}\r\n            className={cn('px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-colors border',\r\n              feedbackRating === 'positive' ? 'bg-green-500/10 border-green-500/30 text-gm-status-success' : 'border-gm-border-primary text-gm-text-tertiary hover:text-gm-text-primary')}>\r\n            <ThumbsUp className=\"w-3.5 h-3.5\" /> Helpful\r\n          </button>\r\n          <button onClick={() => setFeedbackRating(feedbackRating === 'negative' ? null : 'negative')}\r\n            className={cn('px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-colors border',\r\n              feedbackRating === 'negative' ? 'bg-red-500/10 border-red-500/30 text-gm-status-danger' : 'border-gm-border-primary text-gm-text-tertiary hover:text-gm-text-primary')}>\r\n            <ThumbsDown className=\"w-3.5 h-3.5\" /> Not Helpful\r\n          </button>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <input value={feedbackText} onChange={e => setFeedbackText(e.target.value)}\r\n            placeholder=\"Describe your experience or suggestion...\"\r\n            className=\"flex-1 px-3 py-2 bg-gm-surface-primary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary placeholder:text-gm-text-tertiary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n          <button onClick={handleFeedback} disabled={feedback.isPending || !feedbackText.trim() || !feedbackRating}\r\n            className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors shrink-0\">\r\n            {feedback.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DigestTab() {\r\n  const digest = useOptimizationsDigest();\r\n  const summary = useOptimizationsSummary();\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          <Zap className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n          <h3 className=\"text-xs font-semibold text-gm-text-primary\">Periodic Digest</h3>\r\n        </div>\r\n        {digest.isLoading ? (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <Loader2 className=\"w-5 h-5 animate-spin text-gm-interactive-primary\" />\r\n          </div>\r\n        ) : digest.isError ? (\r\n          <ErrorState message=\"Failed to load digest.\" onRetry={digest.refetch} />\r\n        ) : (\r\n          <ResultDisplay data={digest.data} />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"bg-[var(--gm-surface-hover)] rounded-xl p-4 border border-gm-border-primary\">\r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          <Brain className=\"w-4 h-4 text-gm-interactive-primary\" />\r\n          <h3 className=\"text-xs font-semibold text-gm-text-primary\">AI Project Summary</h3>\r\n        </div>\r\n        {summary.isLoading ? (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <Loader2 className=\"w-5 h-5 animate-spin text-gm-interactive-primary\" />\r\n          </div>\r\n        ) : summary.isError ? (\r\n          <ErrorState message=\"Failed to load summary.\" onRetry={summary.refetch} />\r\n        ) : (\r\n          <ResultDisplay data={summary.data} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ResultDisplay({ data }: { data: unknown }) {\r\n  if (data == null) return <p className=\"text-[11px] text-gm-text-tertiary\">No data</p>;\r\n\r\n  if (typeof data === 'string') {\r\n    return <p className=\"text-[11px] text-gm-text-primary whitespace-pre-wrap\">{data}</p>;\r\n  }\r\n\r\n  if (Array.isArray(data)) {\r\n    return (\r\n      <div className=\"space-y-2\">\r\n        {data.map((item, i) => (\r\n          <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-2 border border-[var(--gm-border-primary)]\">\r\n            <ResultDisplay data={item} />\r\n          </div>\r\n        ))}\r\n        {data.length === 0 && <p className=\"text-[11px] text-gm-text-tertiary\">Empty list</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (typeof data === 'object') {\r\n    const entries = Object.entries(data as Record<string, unknown>).filter(([, v]) => v != null);\r\n    return (\r\n      <div className=\"space-y-1.5\">\r\n        {entries.map(([key, val]) => (\r\n          <div key={key} className=\"text-[11px]\">\r\n            <span className=\"text-gm-text-tertiary capitalize font-medium\">{key.replace(/[_-]/g, ' ')}: </span>\r\n            {typeof val === 'object' ? (\r\n              <div className=\"ml-3 mt-1\"><ResultDisplay data={val} /></div>\r\n            ) : (\r\n              <span className=\"text-gm-text-primary\">{String(val)}</span>\r\n            )}\r\n          </div>\r\n        ))}\r\n        {entries.length === 0 && <p className=\"text-[11px] text-gm-text-tertiary\">Empty object</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <p className=\"text-[11px] text-gm-text-primary\">{String(data)}</p>;\r\n}\r\n\r\nexport default function OptimizationsPage() {\r\n  const [tab, setTab] = useState<Tab>('overview');\r\n  const [showExport, setShowExport] = useState(false);\r\n\r\n  const handleExport = (format: 'json' | 'csv') => {\r\n    window.open(`/api/optimizations/export/${format}`, '_blank');\r\n    setShowExport(false);\r\n    toast.success(`Exporting as ${format.toUpperCase()}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6 overflow-y-auto h-[calc(100vh-4rem)]\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between flex-wrap gap-3\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Zap className=\"w-5 h-5 text-gm-interactive-primary\" />\r\n          <h1 className=\"text-base font-bold text-gm-text-primary\">Optimizations</h1>\r\n          <span className=\"text-[10px] text-gm-text-tertiary bg-gm-surface-secondary px-2 py-0.5 rounded-full\">\r\n            AI-Powered\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* Export */}\r\n          <div className=\"relative\">\r\n            <button onClick={() => setShowExport(!showExport)}\r\n              className=\"px-3 py-1.5 rounded-lg bg-gm-surface-secondary text-gm-text-secondary text-[10px] font-medium hover:bg-gm-surface-hover border border-gm-border-primary flex items-center gap-1.5 transition-colors\">\r\n              <Download className=\"w-3 h-3\" /> Export\r\n            </button>\r\n            {showExport && (\r\n              <div className=\"absolute right-0 mt-1 bg-gm-surface-primary border border-gm-border-primary rounded-lg shadow-lg z-10 py-1 min-w-[100px]\">\r\n                <button onClick={() => handleExport('json')} className=\"w-full text-left px-3 py-1.5 text-[10px] text-gm-text-primary hover:bg-gm-surface-hover\">JSON</button>\r\n                <button onClick={() => handleExport('csv')} className=\"w-full text-left px-3 py-1.5 text-[10px] text-gm-text-primary hover:bg-gm-surface-hover\">CSV</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Tab Bar */}\r\n          <div className=\"flex bg-gm-surface-secondary rounded-lg border border-gm-border-primary overflow-hidden\">\r\n            {TAB_LIST.map(t => {\r\n              const Icon = t.icon;\r\n              return (\r\n                <button key={t.key} onClick={() => setTab(t.key)}\r\n                  className={cn(\r\n                    'px-3 py-1.5 text-[10px] font-medium flex items-center gap-1 transition-colors',\r\n                    tab === t.key\r\n                      ? 'bg-gm-interactive-primary text-gm-text-on-brand'\r\n                      : 'text-gm-text-tertiary hover:text-gm-text-primary',\r\n                  )}>\r\n                  <Icon className=\"w-3 h-3\" /> {t.label}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      {tab === 'overview' && <OverviewTab />}\r\n      {tab === 'tools' && <ToolsTab />}\r\n      {tab === 'insights' && <InsightsTab />}\r\n      {tab === 'digest' && <DigestTab />}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","GitMerge","createLucideIcon","Tag","ThumbsDown","ThumbsUp","TAB_LIST","BarChart3","Brain","Sparkles","Zap","DataCard","title","Icon","data","isLoading","isError","refetch","jsx","Loader2","ErrorState","entries","v","jsxs","key","val","ArrayCard","items","item","idx","k","OverviewTab","healthSummary","useOptimizationsHealthSummary","usage","useOptimizationsUsage","cache","useOptimizationsCacheStats","analytics","useOptimizationsAnalytics","health","useOptimizationsHealth","feedback","useOptimizationsFeedbackStats","Activity","Cpu","Database","ToolsTab","dedup","useOptimizationsDedup","resolveDuplicates","useOptimizationsResolveDuplicates","autoTag","useOptimizationsTag","ner","useOptimizationsNER","contextOpt","useOptimizationsContextOptimize","cacheClear","useOptimizationsCacheClear","nerText","setNerText","useState","nerResult","setNerResult","ctxQuery","setCtxQuery","ctxResult","setCtxResult","dedupResult","setDedupResult","handleDedup","toast","handleResolveDuplicates","result","ids","handleAutoTag","handleNER","handleContextOptimize","handleCacheClear","RefreshCw","Search","ResultDisplay","Trash2","e","InsightsTab","insights","useOptimizationsInsights","suggestions","useOptimizationsSuggestions","useOptimizationsFeedback","feedbackText","setFeedbackText","feedbackRating","setFeedbackRating","handleFeedback","AlertTriangle","MessageSquare","cn","DigestTab","digest","useOptimizationsDigest","summary","useOptimizationsSummary","i","OptimizationsPage","tab","setTab","showExport","setShowExport","handleExport","format","Download","t"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}