{"version":3,"file":"ProfilePage-Cuds6Xh0.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/at-sign.js","../../../node_modules/lucide-react/dist/esm/icons/headphones.js","../../../node_modules/lucide-react/dist/esm/icons/list-checks.js","../../../node_modules/lucide-react/dist/esm/icons/lock.js","../../../node_modules/lucide-react/dist/esm/icons/text-align-start.js","../../../node_modules/lucide-react/dist/esm/icons/type.js","../../frontend/src/pages/ProfilePage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8\", key: \"7n84p3\" }]\n];\nconst AtSign = createLucideIcon(\"at-sign\", __iconNode);\n\nexport { __iconNode, AtSign as default };\n//# sourceMappingURL=at-sign.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3\",\n      key: \"1xhozi\"\n    }\n  ]\n];\nconst Headphones = createLucideIcon(\"headphones\", __iconNode);\n\nexport { __iconNode, Headphones as default };\n//# sourceMappingURL=headphones.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M13 5h8\", key: \"a7qcls\" }],\n  [\"path\", { d: \"M13 12h8\", key: \"h98zly\" }],\n  [\"path\", { d: \"M13 19h8\", key: \"c3s6r1\" }],\n  [\"path\", { d: \"m3 17 2 2 4-4\", key: \"1jhpwq\" }],\n  [\"path\", { d: \"m3 7 2 2 4-4\", key: \"1obspn\" }]\n];\nconst ListChecks = createLucideIcon(\"list-checks\", __iconNode);\n\nexport { __iconNode, ListChecks as default };\n//# sourceMappingURL=list-checks.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n];\nconst Lock = createLucideIcon(\"lock\", __iconNode);\n\nexport { __iconNode, Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 5H3\", key: \"1fi0y6\" }],\n  [\"path\", { d: \"M15 12H3\", key: \"6jk70r\" }],\n  [\"path\", { d: \"M17 19H3\", key: \"z6ezky\" }]\n];\nconst TextAlignStart = createLucideIcon(\"text-align-start\", __iconNode);\n\nexport { __iconNode, TextAlignStart as default };\n//# sourceMappingURL=text-align-start.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 4v16\", key: \"1654pz\" }],\n  [\"path\", { d: \"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2\", key: \"e0r10z\" }],\n  [\"path\", { d: \"M9 20h6\", key: \"s66wpe\" }]\n];\nconst Type = createLucideIcon(\"type\", __iconNode);\n\nexport { __iconNode, Type as default };\n//# sourceMappingURL=type.js.map\n","/**\n * Purpose:\n *   User profile management page with four sections: General (account info, preferences),\n *   Security (password change, account deletion), Sessions (active login sessions),\n *   and Integrations (Krisp AI webhook configuration).\n *\n * Responsibilities:\n *   - General: edit username, display name, bio, avatar URL, timezone, language; save via API\n *   - Security: change password with validation, \"danger zone\" account deletion prompt\n *   - Sessions: display current browser session (hardcoded single session); sign-out-all action\n *   - Integrations: Krisp webhook URL + auth token display, copy-to-clipboard, MCP import button,\n *     transcript stats, credential regeneration prompt\n *\n * Key dependencies:\n *   - useUser: profile data and updateProfile mutation\n *   - useAuth (AuthContext): resetPassword, logout\n *   - framer-motion: section transition animations\n *\n * Side effects:\n *   - Network: profile updates, password reset, logout\n *   - Clipboard: copies webhook URL and auth token\n *\n * Notes:\n *   - Sessions section currently only shows the current browser session (navigator.userAgent);\n *     multi-session tracking is not yet implemented.\n *   - The auth token in IntegrationsSection is hardcoded as a placeholder.\n *   - Account deletion is not implemented; it shows a toast directing the user to an admin.\n */\nimport { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport {\n  User, Lock, Monitor, Link2, Mail, AtSign, Type, AlignLeft, Image,\n  Globe, Languages, Key, AlertTriangle, Trash2, LogOut, Mic,\n  Check, Loader2, ChevronRight, Building2, Plus, Eye, Edit2,\n  Zap, ArrowLeft, RefreshCw, Code2, Palette, Sparkles, Info,\n  UserCog, Clock, Shield,\n  ExternalLink, CheckCircle2, XCircle, Download, Calendar,\n  ChevronDown, ChevronUp, FileText, ListChecks, Lightbulb, Headphones\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useUser } from '@/hooks/useUser';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useProject } from '@/contexts/ProjectContext';\nimport { cn, getInitials, isValidAvatarUrl } from '@/lib/utils';\nimport { apiClient } from '@/lib/api-client';\nimport { AvatarUpload } from '@/components/shared/AvatarUpload';\nimport {\n  AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent,\n  AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport {\n  useKrispOAuthStatus,\n  useKrispOAuthAuthorize,\n  useKrispOAuthDisconnect,\n  useKrispOAuthMeetings,\n  useKrispOAuthImportMeetings,\n  useKrispMeetingPreview,\n  type KrispMeeting,\n  type KrispImportOptions,\n  useProjects,\n} from '@/hooks/useGodMode';\n\n// ── Style tokens (aligned with AdminPage) ────────────────────────────────────\n\ntype ProfileSection = 'general' | 'security' | 'sessions' | 'integrations' | 'companies' | 'settings';\n\nconst CARD = 'rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200';\nconst INPUT = 'w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)] transition-all duration-150';\nconst BTN_PRIMARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] hover:bg-[var(--gm-interactive-primary-hover)] shadow-sm transition-all duration-150 disabled:opacity-50';\nconst BTN_SECONDARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150';\nconst BTN_DANGER = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)] shadow-sm transition-all duration-150 disabled:opacity-50';\nconst SECTION_TITLE = 'text-[10px] font-bold text-[var(--gm-accent-primary)] uppercase tracking-[0.1em]';\nconst LABEL = 'text-[10px] font-bold text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1 flex items-center gap-1.5';\n\nconst NAV_ITEMS = [\n  { id: 'general' as const, label: 'General', icon: User },\n  { id: 'security' as const, label: 'Security', icon: Lock },\n  { id: 'sessions' as const, label: 'Sessions', icon: Monitor },\n  { id: 'settings' as const, label: 'User Settings', icon: Sparkles },\n  { id: 'companies' as const, label: 'Companies', icon: Building2 },\n  { id: 'integrations' as const, label: 'Integrations', icon: Link2 },\n];\n\nfunction SectionHeader({ title, subtitle }: { title: string; subtitle?: string }) {\n  return (\n    <div className=\"mb-6\">\n      <h2 className=\"text-lg font-bold text-[var(--gm-text-primary)]\">{title}</h2>\n      {subtitle && <p className=\"text-xs text-[var(--gm-text-tertiary)] mt-0.5\">{subtitle}</p>}\n    </div>\n  );\n}\n\nconst ProfilePage = () => {\n  const { user, isLoading } = useUser();\n  const [activeSection, setActiveSection] = useState<ProfileSection>('general');\n\n  if (isLoading) {\n    return <div className=\"flex items-center justify-center py-16\"><Loader2 className=\"h-6 w-6 animate-spin text-[var(--gm-accent-primary)]\" /></div>;\n  }\n\n  const initials = getInitials(user?.display_name || user?.email || '');\n\n  return (\n    <div className=\"flex h-full\">\n      {/* Side Nav */}\n      <div className=\"w-48 shrink-0 border-r border-[var(--gm-border-primary)] bg-[var(--gm-bg-primary)] overflow-y-auto\">\n        <div className=\"flex items-center gap-2.5 px-4 py-4 border-b border-[var(--gm-border-primary)]\">\n          {isValidAvatarUrl(user?.avatar_url) ? (\n            <img src={user!.avatar_url!} alt={user?.display_name || ''} className=\"w-7 h-7 rounded-full object-cover\" onError={(e) => { (e.target as HTMLImageElement).style.display = 'none'; }} />\n          ) : (\n            <div className=\"w-7 h-7 rounded-full bg-[var(--gm-interactive-primary)]/10 flex items-center justify-center\">\n              <span className=\"text-[10px] font-bold text-[var(--gm-accent-primary)]\">{initials}</span>\n            </div>\n          )}\n          <div className=\"min-w-0\">\n            <span className=\"text-sm font-bold text-[var(--gm-accent-primary)]\">Profile</span>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] truncate\">{user?.email}</p>\n          </div>\n        </div>\n        <nav className=\"py-2\">\n          {NAV_ITEMS.map(item => {\n            const Icon = item.icon;\n            const active = activeSection === item.id;\n            return (\n              <button key={item.id} onClick={() => setActiveSection(item.id)}\n                className={cn('w-full flex items-center gap-2.5 px-4 py-2 text-xs transition-colors',\n                  active ? 'text-[var(--gm-accent-primary)] bg-[var(--gm-surface-hover)] font-semibold' : 'text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]')}>\n                <Icon className=\"w-3.5 h-3.5 shrink-0\" />\n                <span className=\"flex-1 text-left\">{item.label}</span>\n                {active && <ChevronRight className=\"w-3 h-3 shrink-0\" />}\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {activeSection === 'general' && <GeneralSection />}\n        {activeSection === 'security' && <SecuritySection />}\n        {activeSection === 'sessions' && <SessionsSection />}\n        {activeSection === 'settings' && <UserSettingsSection />}\n        {activeSection === 'companies' && <CompaniesSection />}\n        {activeSection === 'integrations' && <IntegrationsSection />}\n      </div>\n    </div>\n  );\n};\n\n// ==================== GENERAL ====================\n\nfunction GeneralSection() {\n  const { user, updateProfile, uploadAvatar, deleteAvatar } = useUser();\n  const [username, setUsername] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [bio, setBio] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n  const [timezone, setTimezone] = useState('Europe/Lisbon');\n  const [language, setLanguage] = useState('en');\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      setUsername(user.username || '');\n      setDisplayName(user.display_name || '');\n      setAvatarUrl(user.avatar_url || '');\n      setTimezone(user.timezone || 'Europe/Lisbon');\n    }\n  }, [user]);\n\n  const handleSave = async () => {\n    if (username && !/^[a-zA-Z0-9_]{3,30}$/.test(username)) {\n      toast.error('Username must be 3-30 characters, alphanumeric and underscores only');\n      return;\n    }\n    if (displayName && displayName.trim().length < 2) {\n      toast.error('Display name must be at least 2 characters');\n      return;\n    }\n    setSaving(true);\n    try {\n      await updateProfile.mutateAsync({\n        username,\n        display_name: displayName,\n        avatar_url: avatarUrl || undefined,\n        timezone,\n      });\n      toast.success('Profile updated');\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to update profile');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"General\" subtitle=\"Manage your account information and preferences\" />\n\n      <div className={cn(CARD, 'p-5 space-y-5')}>\n        <h3 className={SECTION_TITLE}>Account Information</h3>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className={LABEL}><Mail className=\"w-3 h-3\" /> Email</label>\n            <input value={user?.email || ''} readOnly className={cn(INPUT, 'opacity-60 cursor-not-allowed')} />\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">Email cannot be changed</p>\n          </div>\n          <div>\n            <label className={LABEL}><AtSign className=\"w-3 h-3\" /> Username</label>\n            <input value={username} onChange={e => setUsername(e.target.value)} className={INPUT} />\n          </div>\n        </div>\n\n        <div>\n          <label className={LABEL}><Type className=\"w-3 h-3\" /> Display Name</label>\n          <input value={displayName} onChange={e => setDisplayName(e.target.value)} className={INPUT} />\n        </div>\n\n        <div>\n          <label className={LABEL}><AlignLeft className=\"w-3 h-3\" /> Bio</label>\n          <textarea value={bio} onChange={e => setBio(e.target.value)} placeholder=\"Tell us a bit about yourself\" rows={3}\n            className={cn(INPUT, 'resize-y')} />\n        </div>\n\n        <div>\n          <label className={LABEL}><Image className=\"w-3 h-3\" /> Avatar</label>\n          <div className=\"mt-2\">\n            <AvatarUpload\n              currentUrl={avatarUrl}\n              name={displayName || username || user?.email || ''}\n              onUpload={async (file) => {\n                const url = await uploadAvatar.mutateAsync(file);\n                setAvatarUrl(url);\n                toast.success('Avatar uploaded');\n                return url;\n              }}\n              onUrlChange={(url) => {\n                setAvatarUrl(url);\n                toast.info('URL set — click Save to apply');\n              }}\n              onRemove={async () => {\n                await deleteAvatar.mutateAsync();\n                setAvatarUrl('');\n                toast.success('Avatar removed');\n              }}\n              size=\"lg\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Preferences</h3>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className={LABEL}><Globe className=\"w-3 h-3\" /> Timezone</label>\n            <select value={timezone} onChange={e => setTimezone(e.target.value)} className={INPUT}>\n              <option value=\"Europe/Lisbon\">Lisbon, Portugal (+00:00)</option>\n              <option value=\"Europe/London\">London, UK (+00:00)</option>\n              <option value=\"Europe/Paris\">Paris, France (+01:00)</option>\n              <option value=\"Europe/Berlin\">Berlin, Germany (+01:00)</option>\n              <option value=\"America/New_York\">New York, USA (-05:00)</option>\n              <option value=\"America/Los_Angeles\">Los Angeles, USA (-08:00)</option>\n              <option value=\"Asia/Tokyo\">Tokyo, Japan (+09:00)</option>\n              <option value=\"Australia/Sydney\">Sydney, Australia (+11:00)</option>\n            </select>\n          </div>\n          <div>\n            <label className={LABEL}><Languages className=\"w-3 h-3\" /> Language</label>\n            <select value={language} onChange={e => setLanguage(e.target.value)} className={INPUT}>\n              <option value=\"en\">English</option>\n              <option value=\"pt\">Português</option>\n              <option value=\"es\">Español</option>\n              <option value=\"fr\">Français</option>\n              <option value=\"de\">Deutsch</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end pt-2\">\n          <button onClick={handleSave} disabled={saving} className={BTN_PRIMARY}>\n            {saving ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Check className=\"w-3.5 h-3.5\" />}\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ==================== SECURITY ====================\n\nfunction SecuritySection() {\n  const { resetPassword } = useAuth();\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [updating, setUpdating] = useState(false);\n\n  const handleUpdatePassword = async () => {\n    if (!newPassword || !confirmPassword) {\n      toast.error('Please fill in all password fields');\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      toast.error('New passwords do not match');\n      return;\n    }\n    if (newPassword.length < 6) {\n      toast.error('Password must be at least 6 characters');\n      return;\n    }\n    setUpdating(true);\n    try {\n      await resetPassword(newPassword);\n      toast.success('Password updated successfully');\n      setCurrentPassword('');\n      setNewPassword('');\n      setConfirmPassword('');\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to update password');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  const handleDeleteAccount = () => {\n    toast.error('Account deletion requires contacting an administrator');\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Security\" subtitle=\"Manage your password and account security\" />\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Change Password</h3>\n        <div>\n          <label className={LABEL}><Key className=\"w-3 h-3\" /> Current Password</label>\n          <input type=\"password\" value={currentPassword} onChange={e => setCurrentPassword(e.target.value)} className={INPUT} />\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className={LABEL}>New Password</label>\n            <input type=\"password\" value={newPassword} onChange={e => setNewPassword(e.target.value)} className={INPUT} />\n          </div>\n          <div>\n            <label className={LABEL}>Confirm Password</label>\n            <input type=\"password\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} className={INPUT} />\n          </div>\n        </div>\n        <p className=\"text-[10px] text-[var(--gm-accent-primary)]\">Minimum 6 characters</p>\n        <div className=\"flex justify-end pt-2\">\n          <button onClick={handleUpdatePassword} disabled={updating} className={BTN_PRIMARY}>\n            {updating ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Key className=\"w-3.5 h-3.5\" />}\n            {updating ? 'Updating...' : 'Update Password'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"rounded-xl border border-[var(--color-danger-500)]/30 bg-[var(--color-danger-500)]/5 p-5\">\n        <h3 className=\"text-xs font-bold text-[var(--color-danger-500)] mb-1 flex items-center gap-2\">\n          <AlertTriangle className=\"w-3.5 h-3.5\" /> Danger Zone\n        </h3>\n        <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mb-3\">Permanently delete your account and all associated data. This action cannot be undone.</p>\n        <button onClick={handleDeleteAccount} className={BTN_DANGER}>\n          <Trash2 className=\"w-3.5 h-3.5\" /> Delete Account\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// ==================== SESSIONS ====================\n\nfunction SessionsSection() {\n  const { logout } = useAuth();\n\n  const sessions = [\n    {\n      id: '1',\n      userAgent: navigator.userAgent,\n      ip: '::1',\n      lastActive: 'Just now',\n      current: true,\n    },\n  ];\n\n  const handleSignOutAll = async () => {\n    try {\n      await logout();\n      toast.success('All other sessions signed out');\n    } catch {\n      toast.error('Failed to sign out other sessions');\n    }\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Sessions\" subtitle=\"Active login sessions for your account\" />\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Active Sessions</h3>\n        <div className=\"space-y-3\">\n          {sessions.map(session => (\n            <div key={session.id}\n              className={cn('flex items-center gap-4 p-4 rounded-lg border',\n                session.current\n                  ? 'border-[var(--gm-accent-primary)]/30 bg-[var(--gm-accent-primary)]/5'\n                  : 'border-[var(--gm-border-primary)]')}>\n              <Monitor className=\"w-7 h-7 text-[var(--gm-text-tertiary)] flex-shrink-0\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-xs text-[var(--gm-text-primary)] break-all\">{session.userAgent}</p>\n                <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">\n                  {session.ip} &bull; Last active: {session.lastActive}\n                </p>\n              </div>\n              {session.current && (\n                <span className=\"text-[10px] font-bold text-[var(--gm-accent-primary)] bg-[var(--gm-accent-primary)]/10 px-2 py-0.5 rounded-full flex-shrink-0\">Current</span>\n              )}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"flex justify-end pt-2\">\n          <button onClick={handleSignOutAll} className={BTN_SECONDARY}>\n            <LogOut className=\"w-3.5 h-3.5\" /> Sign out all other sessions\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ==================== MEETING PREVIEW (sub-component for hooks) ====================\n\nfunction MeetingPreview({ meeting: m }: { meeting: KrispMeeting }) {\n  const { data: preview, isLoading } = useKrispMeetingPreview(m.meeting_id);\n  const [activeTab, setActiveTab] = useState<'transcript' | 'outline' | 'keypoints' | 'actions' | 'audio'>('outline');\n\n  const tabs = [\n    { id: 'transcript' as const, label: 'Transcript', icon: FileText, available: true },\n    { id: 'outline' as const, label: 'Outline', icon: AlignLeft, available: m.detailed_summary.length > 0 },\n    { id: 'keypoints' as const, label: 'Key Points', icon: Lightbulb, available: m.key_points.length > 0 },\n    { id: 'actions' as const, label: 'Actions', icon: ListChecks, available: m.action_items.length > 0 },\n    { id: 'audio' as const, label: 'Audio', icon: Headphones, available: true },\n  ];\n\n  return (\n    <div className=\"border-t border-[var(--gm-border-primary)]/50 mx-4 mb-2\">\n      <div className=\"flex gap-0.5 pt-2 pb-1 overflow-x-auto\">\n        {tabs.map(({ id, label, icon: Icon, available }) => (\n          <button key={id} onClick={() => setActiveTab(id)}\n            className={cn('flex items-center gap-1 px-2.5 py-1.5 rounded-md text-[10px] font-medium whitespace-nowrap transition-colors',\n              activeTab === id\n                ? 'bg-[var(--gm-accent-primary)]/10 text-[var(--gm-accent-primary)]'\n                : available\n                  ? 'text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]'\n                  : 'text-[var(--gm-text-tertiary)]/40 cursor-default')}>\n            <Icon className=\"w-3 h-3\" />\n            {label}\n            {id === 'actions' && m.action_items.length > 0 && <span className=\"ml-0.5 text-[9px] opacity-60\">({m.action_items.length})</span>}\n            {id === 'keypoints' && m.key_points.length > 0 && <span className=\"ml-0.5 text-[9px] opacity-60\">({m.key_points.length})</span>}\n            {id === 'outline' && m.detailed_summary.length > 0 && <span className=\"ml-0.5 text-[9px] opacity-60\">({m.detailed_summary.length})</span>}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"pb-3 pt-1\">\n        {activeTab === 'transcript' && (\n          <div>\n            {isLoading ? (\n              <div className=\"flex items-center gap-2 py-4 justify-center\">\n                <Loader2 className=\"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]\" />\n                <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">Fetching transcript...</span>\n              </div>\n            ) : preview?.transcript ? (\n              <pre className=\"text-[10px] text-[var(--gm-text-secondary)] whitespace-pre-wrap max-h-[200px] overflow-y-auto bg-[var(--gm-bg-tertiary)] rounded-md p-3 font-mono leading-relaxed\">\n                {preview.transcript}\n              </pre>\n            ) : (\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] italic py-2\">\n                {preview?.error || 'No transcript content available.'}\n              </p>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'outline' && (\n          <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n            {m.detailed_summary.length > 0 ? m.detailed_summary.map((s, i) => (\n              <div key={i} className=\"text-[10px]\">\n                <span className=\"font-medium text-[var(--gm-text-primary)]\">{s.title}</span>\n                <p className=\"text-[var(--gm-text-tertiary)] mt-0.5\">{s.description}</p>\n              </div>\n            )) : (\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] italic\">No outline available.</p>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'keypoints' && (\n          <ul className=\"space-y-1.5 max-h-[200px] overflow-y-auto\">\n            {m.key_points.length > 0 ? m.key_points.map((kp, i) => (\n              <li key={i} className=\"text-[10px] text-[var(--gm-text-tertiary)] flex gap-1.5\">\n                <span className=\"text-[var(--gm-accent-primary)] mt-0.5 flex-shrink-0\">&bull;</span>\n                <span>{kp.replace(/\\{\\{.*?\\}\\}/g, '').trim()}</span>\n              </li>\n            )) : (\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] italic\">No key points available.</p>\n            )}\n          </ul>\n        )}\n\n        {activeTab === 'actions' && (\n          <ul className=\"space-y-1.5 max-h-[200px] overflow-y-auto\">\n            {m.action_items.length > 0 ? m.action_items.map((ai, i) => (\n              <li key={i} className=\"text-[10px] flex items-start gap-1.5\">\n                <span className={cn('mt-0.5 flex-shrink-0', ai.completed ? 'text-emerald-500' : 'text-[var(--gm-text-tertiary)]')}>\n                  {ai.completed ? '✓' : '○'}\n                </span>\n                <span className=\"text-[var(--gm-text-primary)] flex-1\">{ai.title}</span>\n                {ai.assignee && (\n                  <span className=\"text-[9px] px-1.5 py-0 rounded border border-[var(--gm-border-primary)] text-[var(--gm-text-tertiary)] flex-shrink-0\">\n                    {ai.assignee}\n                  </span>\n                )}\n              </li>\n            )) : (\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] italic\">No action items available.</p>\n            )}\n          </ul>\n        )}\n\n        {activeTab === 'audio' && (\n          <div>\n            {isLoading ? (\n              <div className=\"flex items-center gap-2 py-4 justify-center\">\n                <Loader2 className=\"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]\" />\n                <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">Checking for audio...</span>\n              </div>\n            ) : preview?.audioUrl ? (\n              <div className=\"space-y-2\">\n                <audio controls className=\"w-full h-8\" preload=\"none\">\n                  <source src={preview.audioUrl} type=\"audio/mpeg\" />\n                </audio>\n                <a href={preview.audioUrl} target=\"_blank\" rel=\"noopener noreferrer\"\n                  className=\"inline-flex items-center gap-1 text-[10px] text-[var(--gm-accent-primary)] hover:underline\">\n                  <ExternalLink className=\"w-3 h-3\" /> Open audio file\n                </a>\n              </div>\n            ) : (\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] italic py-2\">\n                No audio recording available for this meeting.\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ==================== INTEGRATIONS ====================\n\nfunction IntegrationsSection() {\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { data: allProjects = [] } = useProjects();\n  const [showMeetings, setShowMeetings] = useState(false);\n  const [selectedMeetings, setSelectedMeetings] = useState<Set<string>>(new Set());\n  const [expandedMeeting, setExpandedMeeting] = useState<string | null>(null);\n  const [importProjectId, setImportProjectId] = useState<string>('');\n  const [importOpts, setImportOpts] = useState<KrispImportOptions>({\n    transcript: true, keyPoints: true, actionItems: true, outline: true, audio: true,\n  });\n  const [dateAfter, setDateAfter] = useState(() => {\n    const d = new Date();\n    d.setDate(d.getDate() - 30);\n    return d.toISOString().split('T')[0];\n  });\n  const [dateBefore, setDateBefore] = useState(() => new Date().toISOString().split('T')[0]);\n\n  const { data: oauthStatus, isLoading: statusLoading } = useKrispOAuthStatus();\n  const authorizeMut = useKrispOAuthAuthorize();\n  const disconnectMut = useKrispOAuthDisconnect();\n  const importMut = useKrispOAuthImportMeetings();\n  const { data: meetingsData, isLoading: meetingsLoading } = useKrispOAuthMeetings({\n    limit: 50,\n    after: dateAfter || undefined,\n    before: dateBefore || undefined,\n    enabled: showMeetings && !!oauthStatus?.connected,\n  });\n\n  useEffect(() => {\n    const connected = searchParams.get('krisp_connected');\n    const error = searchParams.get('krisp_error');\n    if (connected === 'true') {\n      toast.success('Krisp connected successfully!');\n      setSearchParams({}, { replace: true });\n    } else if (error) {\n      toast.error(`Krisp connection failed: ${decodeURIComponent(error)}`);\n      setSearchParams({}, { replace: true });\n    }\n  }, [searchParams, setSearchParams]);\n\n  const handleConnect = async () => {\n    try {\n      const result = await authorizeMut.mutateAsync();\n      if (result.url) window.location.href = result.url;\n    } catch {\n      toast.error('Failed to start Krisp authorization');\n    }\n  };\n\n  const handleDisconnect = async () => {\n    if (!confirm('Disconnect Krisp? You can reconnect anytime.')) return;\n    try {\n      await disconnectMut.mutateAsync();\n      setShowMeetings(false);\n      toast.success('Krisp disconnected');\n    } catch {\n      toast.error('Failed to disconnect');\n    }\n  };\n\n  const toggleMeeting = (id: string) => {\n    setSelectedMeetings(prev => {\n      const next = new Set(prev);\n      if (next.has(id)) next.delete(id); else next.add(id);\n      return next;\n    });\n  };\n\n  const toggleOpt = (key: keyof KrispImportOptions) => {\n    setImportOpts(prev => ({ ...prev, [key]: !prev[key] }));\n  };\n\n  const handleImport = async () => {\n    if (selectedMeetings.size === 0) return toast.error('Select at least one meeting');\n    if (!importProjectId) return toast.error('Select a target project');\n    if (!importOpts.transcript && !importOpts.keyPoints && !importOpts.actionItems && !importOpts.outline) {\n      return toast.error('Select at least one content type to import');\n    }\n    const target = allProjects.find((p: any) => p.id === importProjectId);\n    try {\n      const result = await importMut.mutateAsync({\n        meetingIds: Array.from(selectedMeetings),\n        projectId: importProjectId,\n        importOptions: importOpts,\n      });\n      if (result.succeeded > 0) {\n        toast.success(`Imported ${result.succeeded} meeting(s) to ${target?.name || 'project'}`);\n        setSelectedMeetings(new Set());\n      }\n      if (result.failed > 0) toast.error(`${result.failed} meeting(s) failed to import`);\n    } catch {\n      toast.error('Import failed');\n    }\n  };\n\n  const connected = oauthStatus?.connected === true;\n  const meetings = meetingsData?.meetings || [];\n\n  const optionItems: { key: keyof KrispImportOptions; icon: typeof FileText; label: string }[] = [\n    { key: 'transcript', icon: FileText, label: 'Transcript' },\n    { key: 'keyPoints', icon: Lightbulb, label: 'Key Points' },\n    { key: 'actionItems', icon: ListChecks, label: 'Action Items' },\n    { key: 'outline', icon: AlignLeft, label: 'Outline' },\n    { key: 'audio', icon: Headphones, label: 'Audio' },\n  ];\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Integrations\" subtitle=\"Connect external services to your account\" />\n\n      <div className={cn(CARD, 'p-5')}>\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h3 className={cn(SECTION_TITLE, 'flex items-center gap-2')}>\n              <Mic className=\"w-3.5 h-3.5\" /> Krisp AI Meeting Assistant\n            </h3>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">\n              Connect your Krisp account via OAuth to import transcripts and recordings.\n            </p>\n          </div>\n          {statusLoading ? (\n            <Loader2 className=\"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]\" />\n          ) : connected ? (\n            <span className=\"inline-flex items-center gap-1 text-[10px] font-bold text-emerald-500 bg-emerald-500/10 border border-emerald-500/30 px-2 py-0.5 rounded-full\">\n              <CheckCircle2 className=\"w-3 h-3\" /> Connected\n            </span>\n          ) : (\n            <span className=\"inline-flex items-center gap-1 text-[10px] font-bold text-[var(--gm-text-tertiary)] border border-[var(--gm-border-primary)] px-2 py-0.5 rounded-full\">\n              <XCircle className=\"w-3 h-3\" /> Not connected\n            </span>\n          )}\n        </div>\n\n        {!connected ? (\n          <button onClick={handleConnect} disabled={authorizeMut.isPending}\n            className={cn(BTN_PRIMARY, 'w-full justify-center py-2.5')}>\n            {authorizeMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <ExternalLink className=\"w-3.5 h-3.5\" />}\n            Connect Krisp Account\n          </button>\n        ) : (\n          <>\n            <div className=\"flex gap-2 mb-4\">\n              <button onClick={() => setShowMeetings(!showMeetings)} className={cn(BTN_PRIMARY, 'flex-1 justify-center py-2')}>\n                <Download className=\"w-3.5 h-3.5\" />\n                {showMeetings ? 'Hide Meetings' : 'Browse & Import Meetings'}\n              </button>\n              <button onClick={handleDisconnect} disabled={disconnectMut.isPending}\n                className={cn(BTN_SECONDARY, 'hover:text-[var(--color-danger-500)] hover:border-[var(--color-danger-500)]/30')}>\n                {disconnectMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <XCircle className=\"w-3.5 h-3.5\" />}\n                Disconnect\n              </button>\n            </div>\n\n            {showMeetings && (\n              <div className=\"border border-[var(--gm-border-primary)] rounded-lg overflow-hidden\">\n                <div className=\"flex items-center gap-3 px-4 py-3 bg-[var(--gm-bg-tertiary)] border-b border-[var(--gm-border-primary)]\">\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-[10px] text-[var(--gm-text-tertiary)] whitespace-nowrap uppercase tracking-wider font-bold\">From</label>\n                    <input type=\"date\" value={dateAfter} onChange={e => setDateAfter(e.target.value)}\n                      className=\"px-2 py-1 text-xs rounded-md border border-[var(--gm-border-primary)] bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-primary)]\" />\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-[10px] text-[var(--gm-text-tertiary)] whitespace-nowrap uppercase tracking-wider font-bold\">To</label>\n                    <input type=\"date\" value={dateBefore} onChange={e => setDateBefore(e.target.value)}\n                      className=\"px-2 py-1 text-xs rounded-md border border-[var(--gm-border-primary)] bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-primary)]\" />\n                  </div>\n                  <span className=\"text-[10px] text-[var(--gm-text-tertiary)] ml-auto\">{meetings.length} meeting(s)</span>\n                </div>\n\n                {selectedMeetings.size > 0 && (\n                  <div className=\"px-4 py-3 bg-[var(--gm-accent-primary)]/5 border-b border-[var(--gm-border-primary)] space-y-2.5\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-xs text-[var(--gm-text-primary)] font-medium whitespace-nowrap\">\n                        {selectedMeetings.size} selected &rarr;\n                      </span>\n                      <select value={importProjectId} onChange={e => setImportProjectId(e.target.value)} className={cn(INPUT, 'flex-1')}>\n                        <option value=\"\">Select target project...</option>\n                        {allProjects.map((p: any) => (\n                          <option key={p.id} value={p.id}>{p.name}</option>\n                        ))}\n                      </select>\n                      <button onClick={handleImport} disabled={importMut.isPending || !importProjectId} className={BTN_PRIMARY}>\n                        {importMut.isPending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <Download className=\"w-3 h-3\" />}\n                        Import\n                      </button>\n                    </div>\n                    <div className=\"flex items-center gap-1.5 flex-wrap\">\n                      <span className=\"text-[10px] text-[var(--gm-text-tertiary)] mr-1\">Include:</span>\n                      {optionItems.map(({ key, icon: Icon, label }) => (\n                        <button key={key} onClick={() => toggleOpt(key)}\n                          className={cn('flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-medium border transition-colors',\n                            importOpts[key]\n                              ? 'bg-[var(--gm-accent-primary)]/10 border-[var(--gm-accent-primary)]/30 text-[var(--gm-accent-primary)]'\n                              : 'bg-[var(--gm-bg-tertiary)] border-[var(--gm-border-primary)] text-[var(--gm-text-tertiary)]')}>\n                          <Icon className=\"w-3 h-3\" />\n                          {label}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {meetingsLoading ? (\n                  <div className=\"flex items-center justify-center py-8\">\n                    <Loader2 className=\"w-5 h-5 animate-spin text-[var(--gm-text-tertiary)]\" />\n                    <span className=\"ml-2 text-xs text-[var(--gm-text-tertiary)]\">Loading meetings from Krisp...</span>\n                  </div>\n                ) : meetings.length === 0 ? (\n                  <div className=\"text-center py-8 text-[var(--gm-text-tertiary)] text-xs\">\n                    No meetings found for the selected date range.\n                  </div>\n                ) : (\n                  <div className=\"max-h-[500px] overflow-y-auto divide-y divide-[var(--gm-border-primary)]\">\n                    {meetings.map((m: KrispMeeting) => {\n                      const isSelected = selectedMeetings.has(m.meeting_id);\n                      const isExpanded = expandedMeeting === m.meeting_id;\n                      const importedToTarget = importProjectId\n                        ? m.importedTo.some(p => p.projectId === importProjectId)\n                        : false;\n\n                      return (\n                        <div key={m.meeting_id} className={cn(isSelected && 'bg-[var(--gm-accent-primary)]/5', importedToTarget && 'opacity-60')}>\n                          <div className=\"flex items-center gap-3 px-4 py-3\">\n                            <input type=\"checkbox\" checked={isSelected} onChange={() => toggleMeeting(m.meeting_id)}\n                              disabled={importedToTarget} className=\"rounded border-[var(--gm-border-primary)] flex-shrink-0\" />\n                            <button onClick={() => setExpandedMeeting(isExpanded ? null : m.meeting_id)} className=\"flex-1 min-w-0 text-left\">\n                              <p className=\"text-xs font-medium text-[var(--gm-text-primary)] truncate\">{m.name}</p>\n                              <div className=\"flex items-center gap-3 mt-0.5\">\n                                <span className=\"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-1\">\n                                  <Calendar className=\"w-3 h-3\" />\n                                  {m.date ? new Date(m.date).toLocaleDateString() : '—'}\n                                </span>\n                                {m.speakers.length > 0 && (\n                                  <span className=\"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-1\">\n                                    <User className=\"w-3 h-3\" />\n                                    {m.speakers.slice(0, 3).join(', ')}\n                                    {m.speakers.length > 3 && ` +${m.speakers.length - 3}`}\n                                  </span>\n                                )}\n                                {m.detailed_summary.length > 0 && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{m.detailed_summary.length} topics</span>}\n                                {m.key_points.length > 0 && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{m.key_points.length} key pts</span>}\n                                {m.action_items.length > 0 && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{m.action_items.length} actions</span>}\n                              </div>\n                            </button>\n                            <div className=\"flex items-center gap-2 flex-shrink-0\">\n                              {importedToTarget && (\n                                <span className=\"inline-flex items-center gap-0.5 text-[10px] font-bold text-emerald-500 border border-emerald-500/30 px-1.5 py-0 rounded\">\n                                  <Check className=\"w-3 h-3\" /> Imported\n                                </span>\n                              )}\n                              {m.importedTo.length > 0 && !importedToTarget && (\n                                <span className=\"text-[10px] border border-[var(--gm-border-primary)] px-1.5 py-0 rounded text-[var(--gm-text-tertiary)]\">\n                                  In {m.importedTo.map(p => p.projectName).join(', ')}\n                                </span>\n                              )}\n                              <button onClick={() => setExpandedMeeting(isExpanded ? null : m.meeting_id)}\n                                className=\"p-1 text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] transition-colors\">\n                                {isExpanded ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n                              </button>\n                            </div>\n                          </div>\n\n                          {isExpanded && <MeetingPreview meeting={m} />}\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div className=\"flex justify-end mt-3\">\n              <button onClick={() => navigate('/files')}\n                className=\"flex items-center gap-2 text-[10px] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-accent-primary)] transition-colors\">\n                View imported transcripts <ExternalLink className=\"w-3 h-3\" />\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ══════════════════════════════════════════════════════════════════════════════\n// USER SETTINGS SECTION\n// ══════════════════════════════════════════════════════════════════════════════\n\nfunction Toggle({ checked, onChange, disabled }: { checked: boolean; onChange: (v: boolean) => void; disabled?: boolean }) {\n  return (\n    <button onClick={() => !disabled && onChange(!checked)} disabled={disabled}\n      className=\"relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border border-[var(--gm-border-primary)] transition-colors duration-200 disabled:opacity-50\"\n      style={{ backgroundColor: checked ? 'var(--color-brand-500)' : 'var(--gm-bg-tertiary)' }}>\n      <span className={cn('pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-sm transition-transform duration-200', checked ? 'translate-x-4' : 'translate-x-0')} />\n    </button>\n  );\n}\n\nfunction UserSettingsSection() {\n  const { user, updateProfile } = useUser();\n  const { currentProject, currentProjectId } = useProject();\n\n  const [theme, setTheme] = useState(() => localStorage.getItem('godmode-theme') || 'dark');\n  const [language, setLanguage] = useState(() => localStorage.getItem('godmode-language') || 'en');\n\n  const [availableRoles, setAvailableRoles] = useState<any[]>([]);\n  const [availableTimezones, setAvailableTimezones] = useState<Array<{ code: string; name: string; utc_offset: string; abbreviation: string }>>([]);\n  const [selectedRole, setSelectedRole] = useState('');\n  const [selectedTimezone, setSelectedTimezone] = useState('');\n\n  const [analytics, setAnalytics] = useState(true);\n  const [errorReporting, setErrorReporting] = useState(true);\n  const [aiData, setAiData] = useState(false);\n\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    if (user?.timezone) setSelectedTimezone(user.timezone);\n    if (currentProject?.role) setSelectedRole(currentProject.role);\n\n    apiClient.get<any>('/api/role-templates')\n      .then(res => { if (res.roles) setAvailableRoles(res.roles); })\n      .catch(() => {});\n    apiClient.get<any>('/api/timezones')\n      .then(res => { if (res.timezones) setAvailableTimezones(res.timezones); })\n      .catch(() => {});\n\n    try {\n      const saved = JSON.parse(localStorage.getItem('godmode-privacy') || '{}');\n      if (saved.analytics !== undefined) setAnalytics(saved.analytics);\n      if (saved.errorReporting !== undefined) setErrorReporting(saved.errorReporting);\n      if (saved.aiData !== undefined) setAiData(saved.aiData);\n    } catch { /* ignore */ }\n  }, [user, currentProject, currentProjectId]);\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      localStorage.setItem('godmode-theme', theme);\n      localStorage.setItem('godmode-language', language);\n      localStorage.setItem('godmode-privacy', JSON.stringify({ analytics, errorReporting, aiData }));\n      if (theme === 'dark') document.documentElement.classList.add('dark');\n      else if (theme === 'light') document.documentElement.classList.remove('dark');\n\n      if (selectedTimezone !== user?.timezone) {\n        await updateProfile.mutateAsync({ timezone: selectedTimezone });\n      }\n      if (currentProjectId && selectedRole !== currentProject?.role) {\n        await apiClient.put(`/api/projects/${currentProjectId}/members/${user?.id}`, { role: selectedRole });\n      }\n      toast.success('Settings saved');\n    } catch (e: any) {\n      toast.error(e.message || 'Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const privacyToggles = [\n    { label: 'Analytics', desc: 'Help improve GodMode with anonymous usage data', value: analytics, set: setAnalytics },\n    { label: 'Error Reporting', desc: 'Automatically report errors to help fix bugs', value: errorReporting, set: setErrorReporting },\n    { label: 'AI Data Improvement', desc: 'Allow anonymized data to improve AI responses', value: aiData, set: setAiData },\n  ];\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"User Settings\" subtitle=\"Appearance, role, and privacy preferences\" />\n\n      {/* Appearance */}\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Appearance</h3>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className={LABEL}><Sparkles className=\"w-3 h-3\" /> Theme</label>\n            <select value={theme} onChange={e => setTheme(e.target.value)} className={INPUT}>\n              <option value=\"light\">Light</option>\n              <option value=\"dark\">Dark</option>\n              <option value=\"system\">System</option>\n            </select>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">Choose your preferred color scheme</p>\n          </div>\n          <div>\n            <label className={LABEL}><Languages className=\"w-3 h-3\" /> Language</label>\n            <select value={language} onChange={e => setLanguage(e.target.value)} className={INPUT}>\n              <option value=\"en\">English</option>\n              <option value=\"pt\">Português</option>\n              <option value=\"es\">Español</option>\n              <option value=\"fr\">Français</option>\n              <option value=\"de\">Deutsch</option>\n            </select>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">Interface language preference</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3 p-3 rounded-lg border border-[var(--gm-accent-primary)]/20 bg-[var(--gm-accent-primary)]/5\">\n          <Info className=\"w-4 h-4 text-[var(--gm-accent-primary)] flex-shrink-0\" />\n          <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">\n            For <span className=\"text-[var(--gm-accent-primary)] font-medium\">LLM configuration</span> and <span className=\"text-[var(--gm-accent-primary)] font-medium\">Graph</span> settings, use the <span className=\"text-[var(--gm-accent-primary)] font-medium\">Admin</span> section.\n          </p>\n        </div>\n      </div>\n\n      {/* Profile & Role */}\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Role & Context</h3>\n        <div className=\"p-3 rounded-lg bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)]\">\n          <p className=\"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider font-bold mb-1\">Active Project</p>\n          <p className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{currentProject?.name || 'No Active Project'}</p>\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className={LABEL}><Building2 className=\"w-3 h-3\" /> Project Role</label>\n            <select value={selectedRole} onChange={e => setSelectedRole(e.target.value)}\n              disabled={!currentProjectId || currentProjectId === 'default'} className={INPUT}>\n              <option value=\"\">Select a role...</option>\n              {availableRoles.filter((r: any) => r.name || r.display_name).map((r: any) => (\n                <option key={r.id || r.name} value={r.display_name || r.name}>{r.display_name || r.name}</option>\n              ))}\n            </select>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">Your role in the current project</p>\n          </div>\n          <div>\n            <label className={LABEL}><Clock className=\"w-3 h-3\" /> Timezone</label>\n            <select value={selectedTimezone} onChange={e => setSelectedTimezone(e.target.value)} className={INPUT}>\n              <option value=\"\">Select timezone...</option>\n              {availableTimezones.map(tz => (\n                <option key={tz.code} value={tz.code}>{tz.name} ({tz.utc_offset})</option>\n              ))}\n            </select>\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1\">Used for scheduling and notifications</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Data & Privacy */}\n      <div className={cn(CARD, 'p-5')}>\n        <h3 className={cn(SECTION_TITLE, 'mb-4')}>Data & Privacy</h3>\n        <div className=\"space-y-1\">\n          {privacyToggles.map(t => (\n            <div key={t.label} className=\"flex items-center justify-between py-3 border-b border-[var(--gm-border-primary)] last:border-0\">\n              <div>\n                <p className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{t.label}</p>\n                <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{t.desc}</p>\n              </div>\n              <Toggle checked={t.value} onChange={t.set} />\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Save */}\n      <div className={cn(CARD, 'p-4 flex justify-end')}>\n        <button onClick={handleSave} disabled={saving} className={BTN_PRIMARY}>\n          {saving ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Check className=\"w-3.5 h-3.5\" />}\n          {saving ? 'Saving...' : 'Save Settings'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// ══════════════════════════════════════════════════════════════════════════════\n// COMPANIES SECTION\n// ══════════════════════════════════════════════════════════════════════════════\n\ninterface Company {\n  id: string;\n  name: string;\n  logo_url?: string;\n  website?: string;\n  linkedin?: string;\n  description?: string;\n  status?: 'analyzed' | 'not_analyzed';\n  colors?: string[];\n  report?: Record<string, string>;\n}\n\nconst REPORT_SECTIONS = [\n  'Ficha de Identidade', 'Visão Geral e Posicionamento', 'Produtos e Serviços',\n  'Público-Alvo e Clientes', 'Equipa e Liderança', 'Presença Digital e Marketing',\n  'Análise Competitiva', 'Indicadores de Crescimento', 'Análise SWOT', 'Conclusões e Insights',\n];\n\ntype CompanyPageView = 'list' | 'view' | 'edit' | 'templates';\n\nfunction CompaniesSection() {\n  const [pageView, setPageView] = useState<CompanyPageView>('list');\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchCompanies = async () => {\n    try {\n      setLoading(true);\n      const data = await apiClient.get<{ companies: Company[] }>('/api/companies');\n      setCompanies(data.companies || []);\n    } catch {\n      toast.error('Failed to load companies');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { fetchCompanies(); }, []);\n\n  const openView = (company: Company, view: CompanyPageView) => {\n    setSelectedCompany(company);\n    setPageView(view);\n  };\n\n  const backToList = () => {\n    setPageView('list');\n    setSelectedCompany(null);\n    fetchCompanies();\n  };\n\n  return (\n    <div>\n      {pageView === 'list' && <CompanyListView companies={companies} loading={loading} onView={c => openView(c, 'view')} onEdit={c => openView(c, 'edit')} onTemplates={c => openView(c, 'templates')} onRefresh={fetchCompanies} />}\n      {pageView === 'view' && selectedCompany && <CompanyDetailView company={selectedCompany} onBack={backToList} onEdit={() => setPageView('edit')} />}\n      {pageView === 'edit' && selectedCompany && <CompanyEditView company={selectedCompany} onBack={backToList} onTemplates={() => setPageView('templates')} />}\n      {pageView === 'templates' && selectedCompany && <CompanyTemplatesView company={selectedCompany} onBack={() => setPageView('edit')} />}\n    </div>\n  );\n}\n\n// ── Companies: List ──────────────────────────────────────────────────────────\n\nfunction CompanyListView({ companies, loading, onView, onEdit, onTemplates, onRefresh }: {\n  companies: Company[]; loading: boolean;\n  onView: (c: Company) => void; onEdit: (c: Company) => void; onTemplates: (c: Company) => void; onRefresh: () => void;\n}) {\n  const [creating, setCreating] = useState(false);\n  const [newName, setNewName] = useState('');\n  const [deleteTarget, setDeleteTarget] = useState<Company | null>(null);\n\n  const handleCreate = async () => {\n    if (!newName.trim()) { toast.error('Company name is required'); return; }\n    setCreating(true);\n    try {\n      await apiClient.post('/api/companies', { name: newName.trim() });\n      toast.success('Company created');\n      setNewName('');\n      onRefresh();\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to create company');\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleAnalyze = async (company: Company) => {\n    toast.info(`Analyzing ${company.name}...`);\n    try {\n      await apiClient.post(`/api/companies/${company.id}/analyze`, {});\n      toast.success(`${company.name} analysis started`);\n      onRefresh();\n    } catch (err: any) {\n      toast.error(err.message || 'Analysis failed');\n    }\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!deleteTarget) return;\n    try {\n      await apiClient.delete(`/api/companies/${deleteTarget.id}`);\n      toast.success('Company deleted');\n      onRefresh();\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to delete');\n    } finally {\n      setDeleteTarget(null);\n    }\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <AlertDialog open={!!deleteTarget} onOpenChange={(open) => { if (!open) setDeleteTarget(null); }}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete {deleteTarget?.name || 'this item'}?</AlertDialogTitle>\n            <AlertDialogDescription>This action cannot be undone. The company and all its data will be permanently removed.</AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={handleDeleteConfirm} className=\"bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)]\">Delete</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <SectionHeader title=\"Companies\" subtitle=\"Manage company profiles and assets\" />\n\n      <div className=\"flex gap-2\">\n        <input value={newName} onChange={e => setNewName(e.target.value)} placeholder=\"New company name...\"\n          className={cn(INPUT, 'max-w-xs')} onKeyDown={e => { if (e.key === 'Enter') handleCreate(); }} />\n        <button onClick={handleCreate} disabled={creating} className={BTN_PRIMARY}>\n          {creating ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Plus className=\"w-3.5 h-3.5\" />} New company\n        </button>\n      </div>\n\n      {loading ? (\n        <div className=\"flex justify-center py-12\"><Loader2 className=\"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]\" /></div>\n      ) : companies.length === 0 ? (\n        <div className={cn(CARD, 'p-10 text-center text-[var(--gm-text-tertiary)] text-sm')}>No companies yet. Create one above.</div>\n      ) : (\n        <div className=\"space-y-2\">\n          {companies.map(company => (\n            <div key={company.id} className={cn(CARD, 'p-4 hover:border-[var(--gm-accent-primary)]/30')}>\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-10 h-10 rounded-lg bg-[var(--gm-bg-tertiary)] flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-[10px] font-bold text-[var(--gm-text-primary)]\">{(company.name || '???').substring(0, 3).toUpperCase()}</span>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2\">\n                    <h3 className=\"text-xs font-semibold text-[var(--gm-text-primary)]\">{company.name}</h3>\n                    {(company.colors || []).length > 0 && (\n                      <div className=\"flex gap-0.5\">\n                        {(company.colors || []).map((c, i) => (\n                          <div key={i} className=\"w-2.5 h-2.5 rounded-sm\" style={{ backgroundColor: c }} />\n                        ))}\n                      </div>\n                    )}\n                    <span className={cn('text-[10px] px-2 py-0.5 rounded-full font-medium',\n                      company.status === 'analyzed'\n                        ? 'bg-emerald-500/10 text-emerald-500'\n                        : 'bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]')}>\n                      {company.status === 'analyzed' ? 'Analyzed' : 'Not analyzed'}\n                    </span>\n                  </div>\n                  {company.website && <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{company.website}</p>}\n                </div>\n                <div className=\"flex items-center gap-1 flex-shrink-0 flex-wrap\">\n                  <button onClick={() => onView(company)} className={cn(BTN_SECONDARY, 'border-0 px-2')}>\n                    <Eye className=\"w-3 h-3\" /> View\n                  </button>\n                  <button onClick={() => onEdit(company)} className={cn(BTN_SECONDARY, 'border-0 px-2')}>\n                    <Edit2 className=\"w-3 h-3\" /> Edit\n                  </button>\n                  <button onClick={() => onTemplates(company)} className={cn(BTN_SECONDARY, 'border-0 px-2')}>\n                    <FileText className=\"w-3 h-3\" /> Templates\n                  </button>\n                  <button onClick={() => handleAnalyze(company)} className={cn(BTN_SECONDARY, 'border-0 px-2')}>\n                    <Zap className=\"w-3 h-3\" /> {company.status === 'analyzed' ? 'Re-analyze' : 'Analyze'}\n                  </button>\n                  <button onClick={() => setDeleteTarget(company)}\n                    className=\"p-1.5 rounded-lg text-[var(--gm-text-tertiary)] hover:bg-[var(--color-danger-500)]/10 hover:text-[var(--color-danger-500)] transition-colors\">\n                    <Trash2 className=\"w-3.5 h-3.5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ── Companies: Detail View ───────────────────────────────────────────────────\n\nfunction CompanyDetailView({ company, onBack, onEdit }: { company: Company; onBack: () => void; onEdit: () => void }) {\n  const [activeSection, setActiveSection] = useState(REPORT_SECTIONS[0]);\n  const [analyzing, setAnalyzing] = useState(false);\n\n  const handleReanalyze = async () => {\n    setAnalyzing(true);\n    try {\n      await apiClient.post(`/api/companies/${company.id}/analyze`, {});\n      toast.success('Analysis started');\n    } catch (err: any) {\n      toast.error(err.message || 'Analysis failed');\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <button onClick={onBack} className=\"flex items-center gap-1.5 text-[10px] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-accent-primary)] transition-colors\">\n        <ArrowLeft className=\"w-3.5 h-3.5\" /> Back to Companies\n      </button>\n\n      <div className=\"flex items-center gap-4\">\n        <div className=\"w-12 h-12 rounded-xl bg-[var(--gm-bg-tertiary)] flex items-center justify-center\">\n          <span className=\"text-sm font-bold text-[var(--gm-text-primary)]\">{(company.name || '???').substring(0, 3).toUpperCase()}</span>\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"text-lg font-bold text-[var(--gm-text-primary)]\">{company.name}</h2>\n          <div className=\"flex items-center gap-3 mt-0.5\">\n            {company.website && <a href={company.website} target=\"_blank\" rel=\"noreferrer\" className=\"text-[10px] text-[var(--gm-accent-primary)] flex items-center gap-1 hover:underline\"><Globe className=\"w-3 h-3\" /> {company.website}</a>}\n            {company.linkedin && <a href={company.linkedin} target=\"_blank\" rel=\"noreferrer\" className=\"text-[10px] text-[var(--gm-accent-primary)] flex items-center gap-1 hover:underline\"><ExternalLink className=\"w-3 h-3\" /> LinkedIn</a>}\n          </div>\n        </div>\n        <div className=\"flex gap-2 flex-shrink-0\">\n          <button onClick={handleReanalyze} disabled={analyzing} className={BTN_PRIMARY}>\n            {analyzing ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <RefreshCw className=\"w-3.5 h-3.5\" />} Re-analyze\n          </button>\n          <button onClick={onEdit} className={BTN_SECONDARY}>\n            <Edit2 className=\"w-3.5 h-3.5\" /> Edit\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex gap-5\">\n        <div className=\"w-52 flex-shrink-0 space-y-0.5\">\n          <p className={cn(SECTION_TITLE, 'mb-2 px-1')}>Report Sections</p>\n          {REPORT_SECTIONS.map(section => (\n            <button key={section} onClick={() => setActiveSection(section)}\n              className={cn('w-full text-left px-3 py-2 rounded-lg text-[10px] transition-colors flex items-center justify-between',\n                activeSection === section\n                  ? 'text-[var(--gm-accent-primary)] bg-[var(--gm-surface-hover)] font-semibold'\n                  : 'text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]')}>\n              <span className=\"truncate\">{section}</span>\n              {activeSection === section && <ChevronRight className=\"w-3 h-3 flex-shrink-0\" />}\n            </button>\n          ))}\n        </div>\n\n        <div className={cn(CARD, 'flex-1 p-5')}>\n          <h3 className=\"text-sm font-bold text-[var(--gm-text-primary)] mb-3\">{activeSection}</h3>\n          <div className=\"text-xs text-[var(--gm-text-secondary)] whitespace-pre-line leading-relaxed\">\n            {company.report?.[activeSection] || `Content for \"${activeSection}\" — run analysis to populate.`}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ── Companies: Edit ──────────────────────────────────────────────────────────\n\nfunction CompanyEditView({ company, onBack, onTemplates }: { company: Company; onBack: () => void; onTemplates: () => void }) {\n  const [name, setName] = useState(company.name);\n  const [description, setDescription] = useState(company.description || '');\n  const [logoUrl, setLogoUrl] = useState(company.logo_url || '');\n  const [website, setWebsite] = useState(company.website || '');\n  const [linkedin, setLinkedin] = useState(company.linkedin || '');\n  const [saving, setSaving] = useState(false);\n\n  const handleSave = async () => {\n    if (!name.trim()) { toast.error('Name is required'); return; }\n    const urlPattern = /^https?:\\/\\//;\n    if (website.trim() && !urlPattern.test(website.trim())) {\n      toast.error('Website must start with http:// or https://');\n      return;\n    }\n    if (linkedin.trim() && !urlPattern.test(linkedin.trim())) {\n      toast.error('LinkedIn URL must start with http:// or https://');\n      return;\n    }\n    setSaving(true);\n    try {\n      await apiClient.put(`/api/companies/${company.id}`, { name, description, logo_url: logoUrl, website, linkedin });\n      toast.success('Company updated');\n      onBack();\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <button onClick={onBack} className=\"flex items-center gap-1.5 text-[10px] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-accent-primary)] transition-colors\">\n        <ArrowLeft className=\"w-3.5 h-3.5\" /> Back to Companies\n      </button>\n\n      <SectionHeader title={`Edit ${company.name}`} />\n\n      <div className={cn(CARD, 'p-5')}>\n        <div className=\"max-w-lg space-y-4\">\n          <div>\n            <label className={LABEL}>Name *</label>\n            <input value={name} onChange={e => setName(e.target.value)} className={INPUT} />\n          </div>\n          <div>\n            <label className={LABEL}><AlignLeft className=\"w-3 h-3\" /> Description</label>\n            <textarea value={description} onChange={e => setDescription(e.target.value)} rows={3} className={cn(INPUT, 'resize-y')} />\n          </div>\n          <div>\n            <label className={LABEL}><Image className=\"w-3 h-3\" /> Logo URL</label>\n            <input value={logoUrl} onChange={e => setLogoUrl(e.target.value)} placeholder=\"https://...\" className={cn(INPUT, 'font-mono text-xs')} />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className={LABEL}><Globe className=\"w-3 h-3\" /> Website</label>\n              <input value={website} onChange={e => setWebsite(e.target.value)} className={INPUT} />\n            </div>\n            <div>\n              <label className={LABEL}><ExternalLink className=\"w-3 h-3\" /> LinkedIn</label>\n              <input value={linkedin} onChange={e => setLinkedin(e.target.value)} className={INPUT} />\n            </div>\n          </div>\n\n          <div className=\"border-t border-[var(--gm-border-primary)] pt-4 flex justify-center gap-2\">\n            <button onClick={handleSave} disabled={saving} className={BTN_PRIMARY}>\n              {saving ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Check className=\"w-3.5 h-3.5\" />}\n              {saving ? 'Saving...' : 'Save'}\n            </button>\n            <button onClick={onBack} className={BTN_SECONDARY}>Cancel</button>\n          </div>\n        </div>\n\n        <div className=\"mt-6 pt-5 border-t border-[var(--gm-border-primary)]\">\n          <h3 className={cn(SECTION_TITLE, 'mb-3')}>Documents</h3>\n          <button onClick={onTemplates} className={BTN_SECONDARY}>\n            <FileText className=\"w-3.5 h-3.5\" /> Templates (A4 / PPT)\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ── Companies: Templates ─────────────────────────────────────────────────────\n\nfunction CompanyTemplatesView({ company, onBack }: { company: Company; onBack: () => void }) {\n  const [templateType, setTemplateType] = useState<'a4' | 'ppt'>('a4');\n  const [codeTab, setCodeTab] = useState<'code' | 'theme'>('code');\n  const [templateCode, setTemplateCode] = useState('');\n  const [loadingTemplate, setLoadingTemplate] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const loadTemplate = async () => {\n    setLoadingTemplate(true);\n    try {\n      const data = await apiClient.get<{ template: { content: string } }>(`/api/companies/${company.id}/templates/${templateType}`);\n      setTemplateCode(data.template?.content || `<!-- No ${templateType} template yet -->`);\n      toast.success('Template loaded');\n    } catch {\n      setTemplateCode(`<!-- No ${templateType} template found -->`);\n    } finally {\n      setLoadingTemplate(false);\n    }\n  };\n\n  const handleGenerate = async () => {\n    setGenerating(true);\n    try {\n      const data = await apiClient.post<{ template: { content: string } }>(`/api/companies/${company.id}/templates/generate`, { type: templateType });\n      setTemplateCode(data.template?.content || templateCode);\n      toast.success('Template generated');\n    } catch (err: any) {\n      toast.error(err.message || 'Generation failed');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      await apiClient.put(`/api/companies/${company.id}/templates/${templateType}`, { content: templateCode });\n      toast.success('Template saved');\n    } catch (err: any) {\n      toast.error(err.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  useEffect(() => { loadTemplate(); }, [templateType]);\n\n  return (\n    <div className=\"space-y-5\">\n      <button onClick={onBack} className=\"flex items-center gap-1.5 text-[10px] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-accent-primary)] transition-colors\">\n        <ArrowLeft className=\"w-3.5 h-3.5\" /> Back to Edit\n      </button>\n\n      <SectionHeader title={`${company.name} — Templates`} subtitle=\"Manage document templates for this company\" />\n\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex gap-1\">\n          {(['a4', 'ppt'] as const).map(t => (\n            <button key={t} onClick={() => setTemplateType(t)}\n              className={cn('px-3 py-1.5 rounded-lg text-xs font-medium transition-colors',\n                templateType === t\n                  ? 'bg-[var(--gm-accent-primary)]/10 text-[var(--gm-accent-primary)]'\n                  : 'text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]')}>\n              {t === 'a4' ? 'A4 document' : 'Presentation'}\n            </button>\n          ))}\n        </div>\n        <div className=\"flex gap-2\">\n          <button onClick={loadTemplate} disabled={loadingTemplate} className={BTN_SECONDARY}>\n            {loadingTemplate ? 'Loading...' : 'Load current'}\n          </button>\n          <button onClick={handleGenerate} disabled={generating} className={BTN_PRIMARY}>\n            {generating ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Zap className=\"w-3.5 h-3.5\" />}\n            {generating ? 'Generating...' : 'Generate with AI'}\n          </button>\n          <button onClick={handleSave} disabled={saving} className={BTN_PRIMARY}>\n            {saving ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Check className=\"w-3.5 h-3.5\" />}\n            {saving ? 'Saving...' : 'Save template'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"flex border-b border-[var(--gm-border-primary)] mb-2\">\n            {(['code', 'theme'] as const).map(tab => (\n              <button key={tab} onClick={() => setCodeTab(tab)}\n                className={cn('flex items-center gap-1.5 px-3 py-2 text-xs border-b-2 transition-colors',\n                  codeTab === tab\n                    ? 'text-[var(--gm-accent-primary)] border-[var(--gm-accent-primary)]'\n                    : 'text-[var(--gm-text-tertiary)] border-transparent')}>\n                {tab === 'code' ? <Code2 className=\"w-3 h-3\" /> : <Palette className=\"w-3 h-3\" />}\n                {tab === 'code' ? 'Code' : 'Theme'}\n              </button>\n            ))}\n          </div>\n          <textarea value={templateCode} onChange={e => setTemplateCode(e.target.value)}\n            className={cn(INPUT, 'h-[500px] font-mono text-[10px] resize-none')} />\n        </div>\n\n        <div className=\"w-[300px] flex-shrink-0\">\n          <p className={cn(SECTION_TITLE, 'mb-2')}>Preview</p>\n          <div className=\"bg-white border border-[var(--gm-border-primary)] rounded-lg overflow-hidden h-[500px]\">\n            <div className=\"h-1.5 bg-[var(--color-danger-500)]\" />\n            <div className=\"p-5\">\n              <div className=\"flex items-center gap-2 mb-5\">\n                <div className=\"w-8 h-8 bg-[var(--gm-bg-tertiary)] rounded flex items-center justify-center\">\n                  <span className=\"text-[8px] font-bold text-[var(--gm-text-tertiary)]\">{(company.name || '???').substring(0, 3)}</span>\n                </div>\n                <div>\n                  <p className=\"text-[10px] font-bold text-[var(--gm-text-primary)]\">{company.name}</p>\n                  <p className=\"text-[8px] text-[var(--gm-text-tertiary)]\">{templateType === 'a4' ? 'Document' : 'Presentation'} Template</p>\n                </div>\n              </div>\n              <div className=\"text-[9px] text-[var(--gm-text-tertiary)] whitespace-pre-wrap font-mono max-h-[400px] overflow-auto\">\n                {templateCode.substring(0, 500)}\n                {templateCode.length > 500 && '...'}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfilePage;\n"],"names":["__iconNode","AtSign","createLucideIcon","Headphones","ListChecks","Lock","TextAlignStart","Type","CARD","INPUT","BTN_PRIMARY","BTN_SECONDARY","BTN_DANGER","SECTION_TITLE","LABEL","NAV_ITEMS","User","Monitor","Sparkles","Building2","Link2","SectionHeader","title","subtitle","jsxs","jsx","ProfilePage","user","isLoading","useUser","activeSection","setActiveSection","useState","Loader2","initials","getInitials","isValidAvatarUrl","e","item","Icon","active","cn","ChevronRight","GeneralSection","SecuritySection","SessionsSection","UserSettingsSection","CompaniesSection","IntegrationsSection","updateProfile","uploadAvatar","deleteAvatar","username","setUsername","displayName","setDisplayName","bio","setBio","avatarUrl","setAvatarUrl","timezone","setTimezone","language","setLanguage","saving","setSaving","useEffect","handleSave","toast","err","Mail","AlignLeft","Image","AvatarUpload","file","url","Globe","Languages","Check","resetPassword","useAuth","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","updating","setUpdating","handleUpdatePassword","handleDeleteAccount","Key","AlertTriangle","Trash2","logout","sessions","handleSignOutAll","session","LogOut","MeetingPreview","m","preview","useKrispMeetingPreview","activeTab","setActiveTab","tabs","FileText","Lightbulb","id","label","available","s","i","kp","ai","ExternalLink","navigate","useNavigate","searchParams","setSearchParams","useSearchParams","allProjects","useProjects","showMeetings","setShowMeetings","selectedMeetings","setSelectedMeetings","expandedMeeting","setExpandedMeeting","importProjectId","setImportProjectId","importOpts","setImportOpts","dateAfter","setDateAfter","d","dateBefore","setDateBefore","oauthStatus","statusLoading","useKrispOAuthStatus","authorizeMut","useKrispOAuthAuthorize","disconnectMut","useKrispOAuthDisconnect","importMut","useKrispOAuthImportMeetings","meetingsData","meetingsLoading","useKrispOAuthMeetings","connected","error","handleConnect","result","handleDisconnect","toggleMeeting","prev","next","toggleOpt","key","handleImport","target","p","meetings","optionItems","Mic","CheckCircle2","XCircle","Fragment","Download","isSelected","isExpanded","importedToTarget","Calendar","ChevronUp","ChevronDown","Toggle","checked","onChange","disabled","currentProject","currentProjectId","useProject","theme","setTheme","availableRoles","setAvailableRoles","availableTimezones","setAvailableTimezones","selectedRole","setSelectedRole","selectedTimezone","setSelectedTimezone","analytics","setAnalytics","errorReporting","setErrorReporting","aiData","setAiData","apiClient","res","saved","privacyToggles","Info","r","Clock","tz","t","REPORT_SECTIONS","pageView","setPageView","selectedCompany","setSelectedCompany","companies","setCompanies","loading","setLoading","fetchCompanies","data","openView","company","view","backToList","CompanyListView","c","CompanyDetailView","CompanyEditView","CompanyTemplatesView","onView","onEdit","onTemplates","onRefresh","creating","setCreating","newName","setNewName","deleteTarget","setDeleteTarget","handleCreate","handleAnalyze","handleDeleteConfirm","AlertDialog","open","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","Plus","Eye","Edit2","Zap","onBack","analyzing","setAnalyzing","handleReanalyze","ArrowLeft","RefreshCw","section","name","setName","description","setDescription","logoUrl","setLogoUrl","website","setWebsite","linkedin","setLinkedin","urlPattern","templateType","setTemplateType","codeTab","setCodeTab","templateCode","setTemplateCode","loadingTemplate","setLoadingTemplate","generating","setGenerating","loadTemplate","handleGenerate","tab","Code2","Palette"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}