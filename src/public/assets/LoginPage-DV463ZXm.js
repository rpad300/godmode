import{r as a,j as e}from"./vendor-react-CZ-WyKWZ.js";import{t as s}from"./vendor-ui-BS9QKitv.js";import{ev as S,L as g,Z as k}from"./main-B3DZn5B_.js";import{E as C}from"./eye-off-Co-RWywx.js";import{E as P}from"./eye-RsgK9PvA.js";import{A as E}from"./arrow-left-BUrpeDp8.js";import{b as A}from"./vendor-router-D_XeKoA_.js";import"./vendor-supabase-Bpw_79gH.js";import"./vendor-query-DSf7I7Ei.js";import"./vendor-markdown-Cu8AM8lU.js";function F(){const{isAuthenticated:x,isLoading:u,login:p,register:v,forgotPassword:f}=S(),[t,o]=a.useState("login"),[n,h]=a.useState(""),[i,b]=a.useState(""),[d,y]=a.useState(""),[m,w]=a.useState(!1),[c,l]=a.useState(!1);if(u)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-[var(--gm-bg-primary)]",children:e.jsx(g,{className:"h-8 w-8 animate-spin text-[var(--gm-accent-primary)]"})});if(x)return e.jsx(A,{to:"/dashboard",replace:!0});const j=async r=>{r.preventDefault(),l(!0);try{if(t==="login")await p(n,i),s.success("Welcome back!");else if(t==="register"){if(i!==d){s.error("Passwords do not match"),l(!1);return}if(i.length<6){s.error("Password must be at least 6 characters"),l(!1);return}await v(n,i),s.success("Registration successful! Please check your email to confirm."),o("login")}else t==="forgot"&&(await f(n),s.success("If an account exists, a password reset email has been sent."),o("login"))}catch(N){s.error(N.message||"Authentication failed")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[var(--gm-bg-primary)] flex items-center justify-center px-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-[var(--gm-interactive-primary)]/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-[var(--gm-interactive-primary)]/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--gm-interactive-primary)] to-[var(--gm-interactive-primary)]/70 flex items-center justify-center shadow-lg shadow-[var(--gm-interactive-primary)]/30",children:e.jsx(k,{className:"w-5 h-5 text-[var(--gm-text-on-brand)]"})}),e.jsx("span",{className:"text-2xl font-bold text-[var(--gm-text-primary)] tracking-tight",children:"GodMode"})]}),e.jsxs("div",{className:"bg-[var(--gm-surface-primary)] rounded-2xl border border-[var(--gm-border-primary)] p-8 shadow-xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-xl font-bold text-[var(--gm-text-primary)]",children:t==="login"?"Welcome back":t==="register"?"Create account":"Reset password"}),e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] mt-1",children:t==="login"?"Sign in to your account":t==="register"?"Get started with GodMode":"Enter your email to receive a reset link"})]}),t!=="forgot"&&e.jsx("div",{className:"flex mb-6 bg-[var(--gm-bg-tertiary)] rounded-lg p-1",children:["login","register"].map(r=>e.jsx("button",{type:"button",onClick:()=>o(r),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t===r?"bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] shadow-sm":"text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]"}`,children:r==="login"?"Sign In":"Sign Up"},r))}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1.5",children:"Email"}),e.jsx("input",{type:"email",value:n,onChange:r=>h(r.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email",className:"w-full px-3 py-2.5 bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)]"})]}),t!=="forgot"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1.5",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",value:i,onChange:r=>b(r.target.value),placeholder:t==="register"?"Min 6 characters":"Your password",required:!0,autoComplete:t==="login"?"current-password":"new-password",className:"w-full px-3 py-2.5 pr-10 bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)]"}),e.jsx("button",{type:"button",onClick:()=>w(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]",children:m?e.jsx(C,{className:"w-4 h-4"}):e.jsx(P,{className:"w-4 h-4"})})]})]}),t==="register"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1.5",children:"Confirm Password"}),e.jsx("input",{type:"password",value:d,onChange:r=>y(r.target.value),placeholder:"Repeat your password",required:!0,autoComplete:"new-password",className:"w-full px-3 py-2.5 bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)]"})]}),e.jsxs("button",{type:"submit",disabled:c,className:"w-full py-2.5 bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] rounded-lg text-sm font-medium hover:bg-[var(--gm-interactive-primary-hover)] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[c&&e.jsx(g,{className:"w-4 h-4 animate-spin"}),c?t==="login"?"Signing in...":t==="register"?"Creating account...":"Sending...":t==="login"?"Sign In":t==="register"?"Create Account":"Send Reset Link"]})]}),e.jsxs("div",{className:"mt-4 text-center",children:[t==="login"&&e.jsx("button",{type:"button",onClick:()=>o("forgot"),className:"text-xs text-[var(--gm-accent-primary)] hover:text-[var(--gm-accent-primary)]/80 transition-colors",children:"Forgot password?"}),t==="forgot"&&e.jsxs("button",{type:"button",onClick:()=>o("login"),className:"text-xs text-[var(--gm-accent-primary)] hover:text-[var(--gm-accent-primary)]/80 transition-colors inline-flex items-center gap-1",children:[e.jsx(E,{className:"w-3 h-3"})," Back to sign in"]})]})]}),e.jsx("p",{className:"text-center text-xs text-[var(--gm-text-tertiary)] mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})}export{F as default};
//# sourceMappingURL=LoginPage-DV463ZXm.js.map
