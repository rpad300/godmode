{"version":3,"file":"ConversationsPage-D2oQj8wl.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/hash.js","../../frontend/src/components/conversations/ConversationDetailModal.tsx","../../frontend/src/components/conversations/ConversationImportModal.tsx","../../frontend/src/pages/ConversationsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"9\", y2: \"9\", key: \"4lhtct\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"15\", y2: \"15\", key: \"vyu0kd\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"3\", y2: \"21\", key: \"1ggp8o\" }],\n  [\"line\", { x1: \"16\", x2: \"14\", y1: \"3\", y2: \"21\", key: \"weycgp\" }]\n];\nconst Hash = createLucideIcon(\"hash\", __iconNode);\n\nexport { __iconNode, Hash as default };\n//# sourceMappingURL=hash.js.map\n","import { useState, useMemo } from 'react';\r\nimport {\r\n  MessageSquare, Users, Hash, Clock, RotateCw, Trash2, Loader2,\r\n  ArrowLeft, Brain, Sparkles, FileText, Contact, Lightbulb,\r\n  AlertTriangle, HelpCircle, CheckCircle, Cpu, Link2, BookOpen,\r\n  Edit3, Save, X,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { Dialog, DialogContent, DialogTitle } from '../ui/Dialog';\r\nimport { cn, getInitials, resolveAvatarUrl, isValidAvatarUrl } from '../../lib/utils';\r\nimport {\r\n  useConversationDetail, useReembedConversation, useDeleteConversation,\r\n  useUpdateConversation, useSummarizeConversation,\r\n} from '../../hooks/useGodMode';\r\nimport { CommentsPanel } from '../shared/CommentsPanel';\r\n\r\ntype Tab = 'messages' | 'summary' | 'knowledge' | 'entities' | 'people';\r\n\r\nconst sourceColors: Record<string, string> = {\r\n  whatsapp: 'bg-green-500/10 text-green-500 border-green-500/20',\r\n  slack: 'bg-purple-500/10 text-purple-500 border-purple-500/20',\r\n  teams: 'bg-blue-500/10 text-blue-500 border-blue-500/20',\r\n  discord: 'bg-indigo-500/10 text-indigo-500 border-indigo-500/20',\r\n  zoom: 'bg-sky-500/10 text-sky-500 border-sky-500/20',\r\n  telegram: 'bg-cyan-500/10 text-cyan-500 border-cyan-500/20',\r\n};\r\n\r\nconst sourceLabels: Record<string, string> = {\r\n  whatsapp: 'WhatsApp', slack: 'Slack', teams: 'Teams',\r\n  discord: 'Discord', zoom: 'Zoom', telegram: 'Telegram',\r\n};\r\n\r\ninterface Props {\r\n  conversationId: string | null;\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function ConversationDetailModal({ conversationId, open, onClose }: Props) {\r\n  const [tab, setTab] = useState<Tab>('messages');\r\n  const [editingTitle, setEditingTitle] = useState(false);\r\n  const [titleDraft, setTitleDraft] = useState('');\r\n  const [messageSearch, setMessageSearch] = useState('');\r\n\r\n  const detail = useConversationDetail(open ? conversationId : null);\r\n  const deleteConv = useDeleteConversation();\r\n  const reembed = useReembedConversation();\r\n  const updateConv = useUpdateConversation();\r\n  const summarize = useSummarizeConversation();\r\n\r\n  const conversation = (detail.data as Record<string, unknown>)?.conversation as Record<string, unknown> | undefined;\r\n\r\n  const title = String(conversation?.title || conversation?.name || 'Untitled Conversation');\r\n  const summary = String(conversation?.summary || '');\r\n  const sourceApp = String(conversation?.sourceApp || conversation?.source_app || '');\r\n  const channelName = String(conversation?.channelName || conversation?.channel_name || '');\r\n  const workspaceName = String(conversation?.workspaceName || conversation?.workspace_name || '');\r\n  const participants = (conversation?.participants || []) as string[];\r\n  const messageCount = Number(conversation?.messageCount || conversation?.message_count || 0);\r\n  const messages = (conversation?.messages || []) as Array<Record<string, unknown>>;\r\n  const dateRange = conversation?.dateRange as Record<string, unknown> | undefined;\r\n  const importedAt = conversation?.importedAt ? new Date(String(conversation.importedAt)).toLocaleString() : '';\r\n  const isEmbedded = !!(conversation?.is_embedded || conversation?.isEmbedded);\r\n  const aiProcessedAt = conversation?.aiProcessedAt ? new Date(String(conversation.aiProcessedAt)).toLocaleString() : '';\r\n\r\n  const extraction = (conversation?.extraction_result || conversation?.extractedEntities || {}) as Record<string, unknown>;\r\n  const facts = (extraction.facts || []) as Array<Record<string, unknown>>;\r\n  const decisions = (extraction.decisions || []) as Array<Record<string, unknown>>;\r\n  const risks = (extraction.risks || []) as Array<Record<string, unknown>>;\r\n  const actionItems = (extraction.actionItems || []) as Array<Record<string, unknown>>;\r\n  const questions = (extraction.questions || []) as Array<Record<string, unknown>>;\r\n  const entities = (extraction.entities || conversation?.extractedEntities || []) as Array<Record<string, unknown>>;\r\n  const relationships = (extraction.relationships || conversation?.extractedRelationships || []) as Array<Record<string, unknown>>;\r\n  const extractedParticipants = (extraction.participants || []) as Array<Record<string, unknown>>;\r\n\r\n  const hasKnowledge = facts.length + decisions.length + risks.length + actionItems.length + questions.length > 0;\r\n  const hasEntities = entities.length + relationships.length > 0;\r\n  const hasPeople = extractedParticipants.length > 0 || participants.length > 0;\r\n\r\n  const filteredMessages = useMemo(() => {\r\n    if (!messageSearch.trim()) return messages;\r\n    const q = messageSearch.toLowerCase();\r\n    return messages.filter(m =>\r\n      String(m.text || m.content || m.body || '').toLowerCase().includes(q) ||\r\n      String(m.sender || m.author || '').toLowerCase().includes(q)\r\n    );\r\n  }, [messages, messageSearch]);\r\n\r\n  const participantColors = useMemo(() => {\r\n    const colors = [\r\n      'bg-blue-500/20 text-blue-500', 'bg-green-500/20 text-green-500', 'bg-purple-500/20 text-purple-500',\r\n      'bg-orange-500/20 text-orange-500', 'bg-pink-500/20 text-pink-500', 'bg-cyan-500/20 text-cyan-500',\r\n      'bg-yellow-500/20 text-yellow-500', 'bg-red-500/20 text-red-500',\r\n    ];\r\n    const map: Record<string, string> = {};\r\n    const uniqueNames = [...new Set(messages.map(m => String(m.sender || m.author || 'Unknown')))];\r\n    uniqueNames.forEach((name, i) => { map[name] = colors[i % colors.length]; });\r\n    return map;\r\n  }, [messages]);\r\n\r\n  const handleDelete = () => {\r\n    if (!conversationId || !confirm('Delete this conversation?')) return;\r\n    deleteConv.mutate(conversationId, {\r\n      onSuccess: () => { toast.success('Conversation deleted'); onClose(); },\r\n      onError: () => toast.error('Failed to delete'),\r\n    });\r\n  };\r\n\r\n  const handleReembed = () => {\r\n    if (!conversationId) return;\r\n    reembed.mutate(conversationId, {\r\n      onSuccess: () => toast.success('Re-embedding started'),\r\n      onError: () => toast.error('Failed to re-embed'),\r\n    });\r\n  };\r\n\r\n  const handleSaveTitle = () => {\r\n    if (!conversationId || !titleDraft.trim()) return;\r\n    updateConv.mutate({ id: conversationId, data: { title: titleDraft.trim() } }, {\r\n      onSuccess: () => { toast.success('Title updated'); setEditingTitle(false); },\r\n      onError: () => toast.error('Failed to update title'),\r\n    });\r\n  };\r\n\r\n  const handleSummarize = () => {\r\n    if (!conversationId) return;\r\n    summarize.mutate(conversationId, {\r\n      onSuccess: () => toast.success('Summary generated'),\r\n      onError: () => toast.error('Failed to generate summary'),\r\n    });\r\n  };\r\n\r\n  const tabs: { key: Tab; label: string; icon: typeof FileText; count?: number; hidden?: boolean }[] = [\r\n    { key: 'messages', label: 'Messages', icon: MessageSquare, count: messageCount },\r\n    { key: 'summary', label: 'Summary', icon: Brain },\r\n    { key: 'knowledge', label: 'Knowledge', icon: BookOpen, count: facts.length + decisions.length + actionItems.length + risks.length + questions.length, hidden: !hasKnowledge },\r\n    { key: 'entities', label: 'Entities', icon: Cpu, count: entities.length + relationships.length, hidden: !hasEntities },\r\n    { key: 'people', label: 'People', icon: Contact, count: hasPeople ? (extractedParticipants.length || participants.length) : 0, hidden: !hasPeople },\r\n  ];\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={o => !o && onClose()}>\r\n      <DialogContent className=\"max-w-4xl p-0 overflow-hidden max-h-[90vh] flex flex-col\">\r\n        <DialogTitle className=\"sr-only\">{title}</DialogTitle>\r\n\r\n        {detail.isLoading && (\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <Loader2 className=\"w-8 h-8 animate-spin text-blue-400\" />\r\n          </div>\r\n        )}\r\n\r\n        {!detail.isLoading && !conversation && (\r\n          <div className=\"flex items-center justify-center h-48 text-slate-400 text-sm\">Conversation not found.</div>\r\n        )}\r\n\r\n        {!detail.isLoading && conversation && (\r\n          <>\r\n            {/* Header */}\r\n            <div className=\"p-5 shrink-0\" style={{ background: 'linear-gradient(to right, rgba(37,99,235,0.25), rgba(37,99,235,0.08))' }}>\r\n              <div className=\"flex items-start gap-3\">\r\n                <button onClick={onClose} className=\"text-slate-400 hover:text-white transition-colors mt-1\">\r\n                  <ArrowLeft className=\"w-5 h-5\" />\r\n                </button>\r\n                <div className={cn('w-12 h-12 rounded-xl flex items-center justify-center shrink-0 border',\r\n                  sourceColors[sourceApp] || 'border-blue-500/30')} style={{ backgroundColor: sourceColors[sourceApp] ? undefined : 'rgba(37,99,235,0.15)' }}>\r\n                  <MessageSquare className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  {editingTitle ? (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input value={titleDraft} onChange={e => setTitleDraft(e.target.value)}\r\n                        className=\"bg-white/10 border border-white/20 rounded-lg px-2 py-1 text-sm text-white flex-1 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                        autoFocus onKeyDown={e => e.key === 'Enter' && handleSaveTitle()} />\r\n                      <button onClick={handleSaveTitle} className=\"text-green-400 hover:text-green-300\"><Save className=\"w-4 h-4\" /></button>\r\n                      <button onClick={() => setEditingTitle(false)} className=\"text-slate-400 hover:text-white\"><X className=\"w-4 h-4\" /></button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <h2 className=\"text-lg font-semibold text-white leading-tight truncate\">{title}</h2>\r\n                      <button onClick={() => { setTitleDraft(title); setEditingTitle(true); }} className=\"text-slate-400 hover:text-slate-200 transition-colors\">\r\n                        <Edit3 className=\"w-3.5 h-3.5\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex items-center gap-2 mt-1.5 flex-wrap\">\r\n                    {sourceApp && (\r\n                      <span className={cn('text-[10px] px-2 py-0.5 rounded-full font-medium border',\r\n                        sourceColors[sourceApp] || 'bg-white/10 text-slate-300 border-white/20')}>\r\n                        {sourceLabels[sourceApp] || sourceApp}\r\n                      </span>\r\n                    )}\r\n                    {channelName && <span className=\"text-[10px] px-2 py-0.5 rounded-full text-slate-300\" style={{ backgroundColor: 'rgba(255,255,255,0.1)' }}>#{channelName}</span>}\r\n                    {workspaceName && <span className=\"text-[10px] text-slate-300\">{workspaceName}</span>}\r\n                    <span className=\"text-[10px] text-slate-300 flex items-center gap-0.5\"><Users className=\"w-3 h-3\" /> {participants.length}</span>\r\n                    <span className=\"text-[10px] text-slate-300 flex items-center gap-0.5\"><Hash className=\"w-3 h-3\" /> {messageCount} msgs</span>\r\n                    {dateRange?.first && <span className=\"text-[10px] text-slate-300 flex items-center gap-0.5\"><Clock className=\"w-3 h-3\" /> {String(dateRange.first).split('T')[0]}</span>}\r\n                    {isEmbedded ? (\r\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 font-medium flex items-center gap-0.5\"><CheckCircle className=\"w-3 h-3\" /> Embedded</span>\r\n                    ) : (\r\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-yellow-500/20 text-yellow-400 font-medium\">Not embedded</span>\r\n                    )}\r\n                    {aiProcessedAt && <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 flex items-center gap-0.5\"><Sparkles className=\"w-3 h-3\" /> AI processed</span>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-1 shrink-0\">\r\n                  <button onClick={handleReembed} disabled={reembed.isPending} className=\"p-2 rounded-lg text-slate-400 hover:bg-white/10 transition-colors\" title=\"Re-embed\">\r\n                    {reembed.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <RotateCw className=\"w-4 h-4\" />}\r\n                  </button>\r\n                  <button onClick={handleDelete} className=\"p-2 rounded-lg text-slate-400 hover:bg-red-500/20 transition-colors\" title=\"Delete\">\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-1 px-5 border-b border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)' }}>\r\n              {tabs.filter(t => !t.hidden).map(t => {\r\n                const Icon = t.icon;\r\n                return (\r\n                  <button key={t.key} onClick={() => setTab(t.key)}\r\n                    className={cn('flex items-center gap-1.5 px-4 py-2.5 text-xs font-medium border-b-2 transition-colors',\r\n                      tab === t.key ? 'border-blue-500 text-blue-400' : 'border-transparent text-slate-400 hover:text-slate-200')}>\r\n                    <Icon className=\"w-3.5 h-3.5\" /> {t.label}\r\n                    {t.count !== undefined && t.count > 0 && (\r\n                      <span className=\"text-[10px] px-1.5 py-0.5 rounded-full bg-white/10 text-slate-300\">{t.count}</span>\r\n                    )}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n              {tab === 'messages' && (\r\n                <>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <input value={messageSearch} onChange={e => setMessageSearch(e.target.value)} placeholder=\"Search messages...\"\r\n                      className=\"flex-1 bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-1.5 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                    <span className=\"text-[10px] text-gm-text-tertiary\">{filteredMessages.length}/{messages.length}</span>\r\n                  </div>\r\n                  {filteredMessages.length === 0 ? (\r\n                    <p className=\"text-sm text-gm-text-tertiary text-center py-8\">No messages {messageSearch ? 'matching your search' : 'available'}.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {filteredMessages.map((msg, i) => {\r\n                        const sender = String(msg.sender || msg.author || 'Unknown');\r\n                        const initial = sender.charAt(0).toUpperCase();\r\n                        const text = String(msg.text || msg.content || msg.body || '');\r\n                        const time = msg.timestamp ? new Date(String(msg.timestamp)).toLocaleString() : '';\r\n                        const colorClass = participantColors[sender] || 'bg-blue-600/20 text-gm-interactive-primary';\r\n\r\n                        return (\r\n                          <div key={i} className=\"flex gap-3 group\">\r\n                            <div className={cn('w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold', colorClass)}>\r\n                              {initial}\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-xs font-semibold text-gm-text-primary\">{sender}</span>\r\n                                {time && <span className=\"text-[10px] text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity\">{time}</span>}\r\n                              </div>\r\n                              <p className=\"text-xs text-gm-text-secondary mt-0.5 whitespace-pre-wrap leading-relaxed\">{text}</p>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {tab === 'summary' && (\r\n                <div className=\"space-y-4\">\r\n                  {summary ? (\r\n                    <div className=\"bg-blue-600/5 border-l-[3px] border-gm-interactive-primary rounded-r-lg p-4\">\r\n                      <div className=\"text-[10px] uppercase tracking-wider text-gm-interactive-primary font-semibold mb-1.5 flex items-center gap-1.5\">\r\n                        <Sparkles className=\"w-3.5 h-3.5\" /> AI Summary\r\n                      </div>\r\n                      <p className=\"text-sm text-gm-text-primary leading-relaxed\">{summary}</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8\">\r\n                      <Brain className=\"w-10 h-10 mx-auto mb-3 text-gray-600\" />\r\n                      <p className=\"text-sm text-gm-text-tertiary mb-3\">No AI summary generated yet.</p>\r\n                      <button onClick={handleSummarize} disabled={summarize.isPending}\r\n                        className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 mx-auto disabled:opacity-50 transition-colors\">\r\n                        {summarize.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n                        Generate Summary\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Metadata */}\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    <MetadataCard label=\"Participants\" icon={Users}>\r\n                      <div className=\"flex flex-wrap gap-1.5 mt-1\">\r\n                        {participants.map((p, i) => (\r\n                          <span key={i} className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-primary border border-gm-border-primary\">{p}</span>\r\n                        ))}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"Statistics\" icon={Hash}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-gm-text-secondary\">\r\n                        <p>{messageCount} messages</p>\r\n                        <p>{participants.length} participants</p>\r\n                        {dateRange?.first && <p>From: {String(dateRange.first).split('T')[0]}</p>}\r\n                        {dateRange?.last && <p>To: {String(dateRange.last).split('T')[0]}</p>}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"Source\" icon={MessageSquare}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-gm-text-secondary\">\r\n                        {sourceApp && <p>Platform: {sourceLabels[sourceApp] || sourceApp}</p>}\r\n                        {channelName && <p>Channel: #{channelName}</p>}\r\n                        {workspaceName && <p>Workspace: {workspaceName}</p>}\r\n                        {importedAt && <p>Imported: {importedAt}</p>}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"AI Processing\" icon={Sparkles}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-gm-text-secondary\">\r\n                        <p>Status: {aiProcessedAt ? 'Processed' : 'Not processed'}</p>\r\n                        {aiProcessedAt && <p>At: {aiProcessedAt}</p>}\r\n                        <p>Embedded: {isEmbedded ? 'Yes' : 'No'}</p>\r\n                      </div>\r\n                    </MetadataCard>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'knowledge' && (\r\n                <div className=\"space-y-5\">\r\n                  {facts.length > 0 && (\r\n                    <KnowledgeSection title=\"Facts\" icon={Lightbulb} color=\"text-gm-interactive-primary\" count={facts.length}>\r\n                      {facts.map((f, i) => (\r\n                        <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <p className=\"text-xs text-gm-text-primary\">{String(f.content)}</p>\r\n                          <div className=\"flex gap-2 mt-1.5\">\r\n                            {f.category && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary capitalize\">{String(f.category)}</span>}\r\n                            {f.confidence && <span className=\"text-[10px] text-gm-text-tertiary\">{Math.round(Number(f.confidence) * 100)}% confidence</span>}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n\r\n                  {actionItems.length > 0 && (\r\n                    <KnowledgeSection title=\"Action Items\" icon={CheckCircle} color=\"text-gm-status-success\" count={actionItems.length}>\r\n                      {actionItems.map((a, i) => (\r\n                        <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <p className=\"text-xs text-gm-text-primary flex items-start gap-1.5\">\r\n                            <span className=\"text-gm-status-success mt-0.5\">☐</span> {String(a.task)}\r\n                          </p>\r\n                          <div className=\"flex gap-2 mt-1.5 flex-wrap\">\r\n                            {a.owner && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary\">Owner: {String(a.owner)}</span>}\r\n                            {a.deadline && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary\">Due: {String(a.deadline)}</span>}\r\n                            {a.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-blue-600/10 text-gm-interactive-primary capitalize\">{String(a.status)}</span>}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n\r\n                  {decisions.length > 0 && (\r\n                    <KnowledgeSection title=\"Decisions\" icon={Lightbulb} color=\"text-blue-500\" count={decisions.length}>\r\n                      {decisions.map((d, i) => (\r\n                        <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <p className=\"text-xs text-gm-text-primary\">{String(d.content)}</p>\r\n                          <div className=\"flex gap-2 mt-1.5\">\r\n                            {d.owner && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary\">By: {String(d.owner)}</span>}\r\n                            {d.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-500 capitalize\">{String(d.status)}</span>}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n\r\n                  {risks.length > 0 && (\r\n                    <KnowledgeSection title=\"Risks\" icon={AlertTriangle} color=\"text-gm-status-danger\" count={risks.length}>\r\n                      {risks.map((r, i) => (\r\n                        <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <p className=\"text-xs text-gm-text-primary\">{String(r.content)}</p>\r\n                          <div className=\"flex gap-2 mt-1.5\">\r\n                            {r.impact && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-status-danger-bg text-gm-status-danger\">Impact: {String(r.impact)}</span>}\r\n                            {r.likelihood && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-status-warning-bg text-gm-status-warning\">Likelihood: {String(r.likelihood)}</span>}\r\n                          </div>\r\n                          {r.mitigation && <p className=\"text-[10px] text-gm-text-tertiary mt-1.5 italic\">Mitigation: {String(r.mitigation)}</p>}\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n\r\n                  {questions.length > 0 && (\r\n                    <KnowledgeSection title=\"Questions\" icon={HelpCircle} color=\"text-gm-status-warning\" count={questions.length}>\r\n                      {questions.map((q, i) => (\r\n                        <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <p className=\"text-xs text-gm-text-primary flex items-start gap-1.5\">\r\n                            <HelpCircle className=\"w-3.5 h-3.5 text-gm-status-warning shrink-0 mt-0.5\" /> {String(q.content)}\r\n                          </p>\r\n                          <div className=\"flex gap-2 mt-1.5\">\r\n                            {q.assigned_to && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary\">Assigned: {String(q.assigned_to)}</span>}\r\n                            {q.priority && <span className={cn('text-[10px] px-1.5 py-0.5 rounded capitalize',\r\n                              q.priority === 'high' ? 'bg-gm-status-danger-bg text-gm-status-danger' :\r\n                              q.priority === 'medium' ? 'bg-gm-status-warning-bg text-gm-status-warning' :\r\n                              'bg-gm-surface-secondary text-gm-text-tertiary'\r\n                            )}>{String(q.priority)}</span>}\r\n                            {q.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-gm-surface-secondary text-gm-text-tertiary capitalize\">{String(q.status)}</span>}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'entities' && (\r\n                <div className=\"space-y-5\">\r\n                  {entities.length > 0 && (\r\n                    <KnowledgeSection title=\"Entities\" icon={Cpu} color=\"text-gm-interactive-primary\" count={entities.length}>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {entities.map((e, i) => (\r\n                          <span key={i} className=\"text-xs px-3 py-1.5 rounded-lg bg-blue-600/10 text-gm-interactive-primary font-medium border border-blue-600/20\">\r\n                            {String(e.name || e.text || e.label || JSON.stringify(e))}\r\n                            {e.type && <span className=\"text-[10px] text-blue-500 ml-1.5 capitalize\">({String(e.type)})</span>}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </KnowledgeSection>\r\n                  )}\r\n\r\n                  {relationships.length > 0 && (\r\n                    <KnowledgeSection title=\"Relationships\" icon={Link2} color=\"text-purple-500\" count={relationships.length}>\r\n                      {relationships.map((r, i) => (\r\n                        <div key={i} className=\"flex items-center gap-2 bg-[var(--gm-surface-hover)] rounded-lg p-3\">\r\n                          <span className=\"text-xs font-medium text-gm-text-primary\">{String(r.from || r.source)}</span>\r\n                          <span className=\"text-[10px] px-2 py-0.5 rounded bg-purple-500/10 text-purple-500\">{String(r.type || r.label || '').replace(/_/g, ' ')}</span>\r\n                          <span className=\"text-xs font-medium text-gm-text-primary\">{String(r.to || r.target)}</span>\r\n                        </div>\r\n                      ))}\r\n                    </KnowledgeSection>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'people' && (\r\n                <div className=\"space-y-3\">\r\n                  {extractedParticipants.length > 0 ? (\r\n                    extractedParticipants.map((p, i) => {\r\n                      const name = String(p.name || 'Unknown');\r\n                      const avatarSrc = resolveAvatarUrl(p as any);\r\n                      return (\r\n                        <div key={i} className=\"flex items-center gap-3 bg-[var(--gm-surface-hover)] rounded-xl p-4\">\r\n                          <div className=\"w-10 h-10 rounded-full bg-blue-600/20 flex items-center justify-center text-sm font-bold text-gm-interactive-primary shrink-0 overflow-hidden\">\r\n                            {isValidAvatarUrl(avatarSrc) ? (\r\n                              <img src={avatarSrc} alt={name} className=\"w-full h-full object-cover\" onError={(e) => { (e.target as HTMLImageElement).style.display = 'none'; (e.target as HTMLImageElement).nextElementSibling && ((e.target as HTMLImageElement).nextElementSibling as HTMLElement).classList.remove('hidden'); }} />\r\n                            ) : null}\r\n                            <span className={isValidAvatarUrl(avatarSrc) ? 'hidden' : ''}>{getInitials(name)}</span>\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gm-text-primary\">{name}</p>\r\n                            <div className=\"flex flex-wrap gap-2 mt-0.5\">\r\n                              {p.role && <span className=\"text-[10px] text-gm-text-tertiary\">{String(p.role)}</span>}\r\n                              {p.organization && <span className=\"text-[10px] text-gm-text-tertiary\">at {String(p.organization)}</span>}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    participants.map((name, i) => {\r\n                      const msgCount = messages.filter(m => String(m.sender || m.author) === name).length;\r\n                      return (\r\n                        <div key={i} className=\"flex items-center gap-3 bg-[var(--gm-surface-hover)] rounded-xl p-4\">\r\n                          <div className={cn('w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold shrink-0',\r\n                            participantColors[name] || 'bg-blue-600/20 text-gm-interactive-primary')}>\r\n                            {getInitials(name)}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gm-text-primary\">{name}</p>\r\n                            <p className=\"text-[10px] text-gm-text-tertiary\">{msgCount} message{msgCount !== 1 ? 's' : ''}</p>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Comments */}\r\n        {conversationId && (\r\n          <div className=\"mt-4\">\r\n            <CommentsPanel targetType=\"conversation\" targetId={conversationId} />\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction MetadataCard({ label, icon: Icon, children }: { label: string; icon: typeof Users; children: React.ReactNode }) {\r\n  return (\r\n    <div className=\"bg-gm-surface-secondary rounded-xl p-4 border border-gm-border-primary\">\r\n      <h4 className=\"text-[10px] uppercase tracking-wider text-gm-text-tertiary font-semibold flex items-center gap-1.5\">\r\n        <Icon className=\"w-3.5 h-3.5\" /> {label}\r\n      </h4>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction KnowledgeSection({ title, icon: Icon, color, count, children }: {\r\n  title: string; icon: typeof FileText; color: string; count: number; children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div>\r\n      <h3 className={cn('text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2', color)}>\r\n        <Icon className=\"w-4 h-4\" /> {title}\r\n        <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary ml-auto\">{count}</span>\r\n      </h3>\r\n      <div className=\"space-y-2\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useRef, useCallback } from 'react';\r\nimport {\r\n  X, Upload, Loader2, FileText, MessageSquare, Sparkles, Users,\r\n  Hash, Calendar, CheckCircle, AlertTriangle, Paperclip,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { Dialog, DialogContent, DialogTitle } from '../ui/Dialog';\r\nimport { cn } from '../../lib/utils';\r\nimport { useParseConversation, useImportConversation } from '../../hooks/useGodMode';\r\n\r\ntype Step = 'input' | 'preview' | 'importing';\r\ntype InputTab = 'paste' | 'upload';\r\n\r\nconst formatOptions = [\r\n  { value: '', label: 'Auto-detect' },\r\n  { value: 'whatsapp', label: 'WhatsApp' },\r\n  { value: 'slack', label: 'Slack' },\r\n  { value: 'teams', label: 'Microsoft Teams' },\r\n  { value: 'discord', label: 'Discord' },\r\n  { value: 'zoom', label: 'Zoom Chat' },\r\n  { value: 'telegram', label: 'Telegram' },\r\n  { value: 'generic', label: 'Generic Chat' },\r\n];\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function ConversationImportModal({ open, onClose }: Props) {\r\n  const [step, setStep] = useState<Step>('input');\r\n  const [inputTab, setInputTab] = useState<InputTab>('paste');\r\n  const [text, setText] = useState('');\r\n  const [formatHint, setFormatHint] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [channelName, setChannelName] = useState('');\r\n  const [documentDate, setDocumentDate] = useState('');\r\n  const [skipAI, setSkipAI] = useState(false);\r\n  const [fileName, setFileName] = useState('');\r\n  const [previewData, setPreviewData] = useState<Record<string, unknown> | null>(null);\r\n  const fileRef = useRef<HTMLInputElement>(null);\r\n\r\n  const parseConversation = useParseConversation();\r\n  const importConversation = useImportConversation();\r\n\r\n  const handleClose = () => {\r\n    setText(''); setFormatHint(''); setTitle(''); setChannelName('');\r\n    setDocumentDate(''); setSkipAI(false); setFileName('');\r\n    setPreviewData(null); setStep('input');\r\n    onClose();\r\n  };\r\n\r\n  const handleFileRead = useCallback((file: File) => {\r\n    setFileName(file.name);\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setText(String(e.target?.result || ''));\r\n    };\r\n    reader.readAsText(file);\r\n  }, []);\r\n\r\n  const handleParse = async () => {\r\n    if (!text.trim() || text.trim().length < 20) {\r\n      toast.error('Conversation text is too short');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const data = await parseConversation.mutateAsync({ text, formatHint: formatHint || undefined });\r\n      setPreviewData(data as Record<string, unknown>);\r\n      setStep('preview');\r\n    } catch {\r\n      toast.error('Failed to parse conversation');\r\n    }\r\n  };\r\n\r\n  const handleImport = async () => {\r\n    if (!text.trim()) return;\r\n    setStep('importing');\r\n    try {\r\n      const data = await importConversation.mutateAsync({\r\n        text,\r\n        formatHint: formatHint || undefined,\r\n        meta: {\r\n          title: title || undefined,\r\n          channelName: channelName || undefined,\r\n          documentDate: documentDate || undefined,\r\n        },\r\n        skipAI,\r\n      });\r\n      const result = data as Record<string, unknown>;\r\n      toast.success(`Imported: \"${result.title || 'Conversation'}\" (${(result.stats as Record<string, unknown>)?.messageCount ?? '?'} messages)`);\r\n      handleClose();\r\n    } catch {\r\n      toast.error('Failed to import conversation');\r\n      setStep('preview');\r\n    }\r\n  };\r\n\r\n  const stats = previewData?.stats as Record<string, unknown> | undefined;\r\n  const messagesPreview = (previewData?.messagesPreview || []) as Array<Record<string, unknown>>;\r\n  const warnings = (previewData?.warnings || []) as string[];\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={o => !o && handleClose()}>\r\n      <DialogContent className=\"max-w-2xl p-0 overflow-hidden max-h-[90vh] flex flex-col\">\r\n        <DialogTitle className=\"sr-only\">Import Conversation</DialogTitle>\r\n\r\n        {/* Header */}\r\n        <div className=\"px-5 py-4 shrink-0\" style={{ background: 'linear-gradient(to right, rgba(37,99,235,0.25), rgba(37,99,235,0.08))' }}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-8 h-8 rounded-lg flex items-center justify-center\" style={{ backgroundColor: 'rgba(37,99,235,0.15)' }}>\r\n                <Upload className=\"w-4 h-4 text-blue-400\" />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-base font-semibold text-white\">Import Conversation</h2>\r\n                <p className=\"text-[10px] text-slate-300\">\r\n                  {step === 'input' && 'Paste or upload a conversation transcript'}\r\n                  {step === 'preview' && 'Review parsed conversation before importing'}\r\n                  {step === 'importing' && 'Importing and analyzing with AI...'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button onClick={handleClose} className=\"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:bg-white/10 transition-colors\">\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Step: Input */}\r\n        {step === 'input' && (\r\n          <>\r\n            {/* Input tabs */}\r\n            <div className=\"flex px-5 border-b border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)' }}>\r\n              {[\r\n                { key: 'paste' as InputTab, label: 'Paste Text' },\r\n                { key: 'upload' as InputTab, label: 'Upload File' },\r\n              ].map(t => (\r\n                <button key={t.key} onClick={() => setInputTab(t.key)}\r\n                  className={cn('px-4 py-2.5 text-xs font-medium border-b-2 transition-colors',\r\n                    inputTab === t.key ? 'border-blue-500 text-blue-400' : 'border-transparent text-slate-400 hover:text-slate-200')}>\r\n                  {t.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n              {/* Format Selection */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Format</label>\r\n                  <select value={formatHint} onChange={e => setFormatHint(e.target.value)}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\">\r\n                    {formatOptions.map(f => <option key={f.value} value={f.value}>{f.label}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Title (optional)</label>\r\n                  <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Auto-generated by AI\"\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Channel name (optional)</label>\r\n                  <input value={channelName} onChange={e => setChannelName(e.target.value)} placeholder=\"e.g. #project-alpha\"\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Document date (optional)</label>\r\n                  <input type=\"date\" value={documentDate} onChange={e => setDocumentDate(e.target.value)}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n              </div>\r\n\r\n              {inputTab === 'paste' && (\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Conversation text *</label>\r\n                  <textarea value={text} onChange={e => setText(e.target.value)}\r\n                    rows={12} placeholder={`Paste your exported conversation here...\\n\\nSupported formats:\\n- WhatsApp: [31/01/2026, 10:00] John: Hello!\\n- Slack: john [10:00 AM] Hello!\\n- Discord: john — 01/31/2026 10:00 AM Hello!\\n- Teams: john 10:00 AM Hello!\\n- Generic: [10:00] john: Hello!`}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus resize-y font-mono leading-relaxed\" />\r\n                </div>\r\n              )}\r\n\r\n              {inputTab === 'upload' && (\r\n                <div>\r\n                  <div className=\"border-2 border-dashed border-gm-border-primary rounded-xl p-12 text-center hover:border-blue-600/30 transition-colors cursor-pointer bg-[var(--gm-surface-hover)]\"\r\n                    onClick={() => fileRef.current?.click()}\r\n                    onDragOver={e => e.preventDefault()}\r\n                    onDrop={e => { e.preventDefault(); if (e.dataTransfer.files[0]) handleFileRead(e.dataTransfer.files[0]); }}>\r\n                    <Paperclip className=\"w-12 h-12 mx-auto mb-3 text-gray-600\" />\r\n                    <p className=\"text-sm font-medium text-gm-interactive-primary\">Drop conversation file here</p>\r\n                    <p className=\"text-xs text-gm-text-tertiary mt-1\">or click to browse &middot; .txt, .chat, .log</p>\r\n                    <input ref={fileRef} type=\"file\" className=\"hidden\" accept=\".txt,.chat,.log,.text\" onChange={e => {\r\n                      if (e.target.files?.[0]) handleFileRead(e.target.files[0]);\r\n                    }} />\r\n                  </div>\r\n                  {fileName && (\r\n                    <div className=\"flex items-center gap-3 mt-4 p-3 bg-gm-surface-secondary rounded-lg border border-gm-border-primary\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-blue-600/10 flex items-center justify-center\">\r\n                        <FileText className=\"w-5 h-5 text-gm-interactive-primary\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <span className=\"text-sm font-medium text-gm-text-primary\">{fileName}</span>\r\n                        <p className=\"text-[10px] text-gm-text-tertiary\">{text.length.toLocaleString()} characters loaded</p>\r\n                      </div>\r\n                      <button onClick={() => { setText(''); setFileName(''); }} className=\"text-gm-text-tertiary hover:text-gm-status-danger text-lg\">&times;</button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input type=\"checkbox\" id=\"skipAI\" checked={skipAI} onChange={e => setSkipAI(e.target.checked)}\r\n                  className=\"rounded border-gm-border-primary\" />\r\n                <label htmlFor=\"skipAI\" className=\"text-xs text-gm-text-tertiary\">Skip AI processing (faster import, no entity extraction)</label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-end gap-2 px-5 py-3 border-t border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)', backgroundColor: 'var(--gm-surface-secondary)' }}>\r\n              <button onClick={handleClose} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                Cancel\r\n              </button>\r\n              <button onClick={handleParse} disabled={parseConversation.isPending || !text.trim()}\r\n                className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors\">\r\n                {parseConversation.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <FileText className=\"w-4 h-4\" />}\r\n                Preview & Parse\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Step: Preview */}\r\n        {step === 'preview' && previewData && (\r\n          <>\r\n            <div className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n              {/* Parse Results */}\r\n              <div className=\"bg-[var(--gm-status-success-bg)] border border-green-500/20 rounded-xl p-4\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <CheckCircle className=\"w-4 h-4 text-gm-status-success\" />\r\n                  <span className=\"text-xs font-semibold text-gm-status-success\">Parsed Successfully</span>\r\n                </div>\r\n                <div className=\"grid grid-cols-4 gap-3\">\r\n                  <StatBox label=\"Format\" value={String(previewData.format || 'auto')} icon={MessageSquare} />\r\n                  <StatBox label=\"Confidence\" value={`${Math.round(Number(previewData.confidence || 0) * 100)}%`} icon={Sparkles} />\r\n                  <StatBox label=\"Messages\" value={String(stats?.messageCount || 0)} icon={Hash} />\r\n                  <StatBox label=\"Participants\" value={String((stats?.participants as unknown[])?.length || 0)} icon={Users} />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Warnings */}\r\n              {warnings.length > 0 && (\r\n                <div className=\"bg-[var(--gm-status-warning-bg)] border border-yellow-500/20 rounded-xl p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <AlertTriangle className=\"w-4 h-4 text-gm-status-warning\" />\r\n                    <span className=\"text-xs font-semibold text-gm-status-warning\">Warnings</span>\r\n                  </div>\r\n                  <ul className=\"space-y-1\">\r\n                    {warnings.map((w, i) => <li key={i} className=\"text-xs text-gm-status-warning\">{w}</li>)}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Participants */}\r\n              {stats?.participants && (\r\n                <div>\r\n                  <h4 className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                    <Users className=\"w-3.5 h-3.5\" /> Participants\r\n                  </h4>\r\n                  <div className=\"flex flex-wrap gap-1.5\">\r\n                    {(stats.participants as string[]).map((p, i) => (\r\n                      <span key={i} className=\"text-xs px-2.5 py-1 rounded-lg bg-gm-surface-secondary text-gm-text-primary border border-gm-border-primary\">{p}</span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Date Range */}\r\n              {stats?.dateRange && (\r\n                <div className=\"flex items-center gap-2 text-xs text-gm-text-tertiary\">\r\n                  <Calendar className=\"w-3.5 h-3.5\" />\r\n                  <span>\r\n                    {String((stats.dateRange as Record<string, unknown>)?.first || '').split('T')[0]}\r\n                    {' → '}\r\n                    {String((stats.dateRange as Record<string, unknown>)?.last || '').split('T')[0]}\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Message Preview */}\r\n              {messagesPreview.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                    <MessageSquare className=\"w-3.5 h-3.5\" /> Message Preview ({messagesPreview.length}{previewData.hasMore ? '+' : ''})\r\n                  </h4>\r\n                  <div className=\"bg-gm-surface-secondary rounded-xl p-3 space-y-2 max-h-64 overflow-y-auto\">\r\n                    {messagesPreview.map((msg, i) => (\r\n                      <div key={i} className=\"flex gap-2\">\r\n                        <span className=\"text-[10px] font-semibold text-gm-interactive-primary min-w-[80px] truncate\">{String(msg.speaker || msg.sender || 'Unknown')}</span>\r\n                        <span className=\"text-[10px] text-gm-text-secondary flex-1\">{String(msg.text || msg.content || '').substring(0, 200)}</span>\r\n                      </div>\r\n                    ))}\r\n                    {previewData.hasMore && (\r\n                      <p className=\"text-[10px] text-gm-text-tertiary text-center italic pt-1\">... more messages not shown in preview</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-between gap-2 px-5 py-3 border-t border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)', backgroundColor: 'var(--gm-surface-secondary)' }}>\r\n              <button onClick={() => setStep('input')} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                Back\r\n              </button>\r\n              <div className=\"flex gap-2\">\r\n                <button onClick={handleClose} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                  Cancel\r\n                </button>\r\n                <button onClick={handleImport}\r\n                  className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 transition-colors\">\r\n                  <Upload className=\"w-4 h-4\" /> Import{!skipAI && ' & Analyze with AI'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Step: Importing */}\r\n        {step === 'importing' && (\r\n          <div className=\"flex flex-col items-center justify-center h-64 gap-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n            <Loader2 className=\"w-10 h-10 animate-spin text-blue-400\" />\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm font-medium text-[var(--gm-text-primary)]\">Importing conversation...</p>\r\n              {!skipAI && <p className=\"text-xs text-slate-400 mt-1\">AI is analyzing content, extracting entities, and generating summary</p>}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction StatBox({ label, value, icon: Icon }: { label: string; value: string; icon: typeof MessageSquare }) {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon className=\"w-4 h-4 mx-auto mb-1 text-gm-text-tertiary\" />\r\n      <p className=\"text-sm font-bold text-gm-text-primary capitalize\">{value}</p>\r\n      <p className=\"text-[10px] text-gm-text-tertiary\">{label}</p>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useMemo } from 'react';\nimport {\n  MessageSquare, Loader2, Search, Upload, RotateCw,\n  Users, Hash, Clock, CheckCircle, AlertCircle,\n  Sparkles, BarChart3, Trash2,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport {\n  useConversations, useConversationsStats, useDeleteConversation,\n  useReembedConversation,\n} from '../hooks/useGodMode';\nimport { cn } from '../lib/utils';\nimport ConversationDetailModal from '../components/conversations/ConversationDetailModal';\nimport ConversationImportModal from '../components/conversations/ConversationImportModal';\nimport { ErrorState } from '../components/shared/ErrorState';\n\nconst sourceLabels: Record<string, string> = {\n  whatsapp: 'WhatsApp', slack: 'Slack', teams: 'Teams',\n  discord: 'Discord', zoom: 'Zoom', telegram: 'Telegram',\n};\n\nconst sourceColors: Record<string, string> = {\n  whatsapp: 'bg-green-500/10 text-green-500',\n  slack: 'bg-purple-500/10 text-purple-500',\n  teams: 'bg-blue-500/10 text-blue-500',\n  discord: 'bg-indigo-500/10 text-indigo-500',\n  zoom: 'bg-sky-500/10 text-sky-500',\n  telegram: 'bg-cyan-500/10 text-cyan-500',\n};\n\nexport default function ConversationsPage() {\n  const [search, setSearch] = useState('');\n  const [sourceFilter, setSourceFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState<'' | 'embedded' | 'not_embedded' | 'ai_processed'>('');\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [showImport, setShowImport] = useState(false);\n\n  const conversations = useConversations({ search: search || undefined, sourceApp: sourceFilter || undefined });\n  const statsQuery = useConversationsStats();\n  const deleteConversation = useDeleteConversation();\n  const reembed = useReembedConversation();\n\n  const convList = useMemo(() => {\n    const raw = (conversations.data as Record<string, unknown>)?.conversations ?? [];\n    return (Array.isArray(raw) ? raw : []) as Array<Record<string, unknown>>;\n  }, [conversations.data]);\n\n  const filtered = useMemo(() => {\n    return convList.filter(c => {\n      if (statusFilter === 'embedded' && !c.is_embedded && !c.isEmbedded) return false;\n      if (statusFilter === 'not_embedded' && (c.is_embedded || c.isEmbedded)) return false;\n      if (statusFilter === 'ai_processed' && !c.aiProcessedAt) return false;\n      return true;\n    });\n  }, [convList, statusFilter]);\n\n  const stats = statsQuery.data as Record<string, unknown> | undefined;\n  const bySource = (stats?.bySource || {}) as Record<string, number>;\n\n  const handleDelete = (e: React.MouseEvent, id: string) => {\n    e.stopPropagation();\n    if (!confirm('Delete this conversation?')) return;\n    deleteConversation.mutate(id, {\n      onSuccess: () => toast.success('Conversation deleted'),\n      onError: () => toast.error('Failed to delete'),\n    });\n  };\n\n  const handleReembed = (e: React.MouseEvent, id: string) => {\n    e.stopPropagation();\n    reembed.mutate(id, {\n      onSuccess: () => toast.success('Re-embedding started'),\n      onError: () => toast.error('Failed to re-embed'),\n    });\n  };\n\n  const statCards = [\n    { label: 'Total', value: stats?.total ?? convList.length, color: 'text-gm-text-primary', icon: MessageSquare },\n    { label: 'Messages', value: stats?.totalMessages ?? 0, color: 'text-gm-interactive-primary', icon: Hash },\n    { label: 'Sources', value: Object.keys(bySource).length, color: 'text-purple-500', icon: BarChart3 },\n    { label: 'Embedded', value: filtered.filter(c => c.is_embedded || c.isEmbedded).length, color: 'text-gm-status-success', icon: CheckCircle },\n  ];\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gm-text-primary\">Conversations</h1>\n          <p className=\"text-xs text-gm-text-tertiary mt-0.5\">{filtered.length} conversation{filtered.length !== 1 ? 's' : ''}</p>\n        </div>\n        <button onClick={() => setShowImport(true)}\n          className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-2 transition-colors\">\n          <Upload className=\"w-4 h-4\" /> Import Conversation\n        </button>\n      </div>\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"grid grid-cols-4 gap-3\">\n          {statCards.map(s => {\n            const Icon = s.icon;\n            return (\n              <div key={s.label} className=\"bg-gm-surface-primary border border-gm-border-primary rounded-xl px-4 py-3 flex items-center gap-3 hover:border-blue-600/20 transition-colors\">\n                <div className={cn('w-9 h-9 rounded-lg flex items-center justify-center',\n                  s.label === 'Total' ? 'bg-gm-surface-secondary' :\n                  s.label === 'Messages' ? 'bg-blue-600/10' :\n                  s.label === 'Sources' ? 'bg-purple-500/10' : 'bg-green-500/10')}>\n                  <Icon className={cn('w-4.5 h-4.5', s.color)} />\n                </div>\n                <div>\n                  <span className={cn('text-xl font-bold', s.color)}>{String(s.value)}</span>\n                  <p className=\"text-[10px] text-gm-text-tertiary uppercase tracking-wider\">{s.label}</p>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Source breakdown */}\n      {Object.keys(bySource).length > 0 && (\n        <div className=\"flex gap-2 flex-wrap\">\n          {Object.entries(bySource).map(([source, count]) => (\n            <button key={source} onClick={() => setSourceFilter(sourceFilter === source ? '' : source)}\n              className={cn('text-[10px] px-3 py-1.5 rounded-lg font-medium border transition-colors flex items-center gap-1.5',\n                sourceFilter === source\n                  ? (sourceColors[source] || 'bg-blue-600/10 text-gm-interactive-primary') + ' border-current/20'\n                  : 'bg-gm-surface-secondary text-gm-text-tertiary border-gm-border-primary hover:text-gm-text-primary')}>\n              {sourceLabels[source] || source} <span className=\"opacity-60\">{count}</span>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        <div className=\"relative flex-1 max-w-sm\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gm-text-tertiary\" />\n          <input value={search} onChange={e => setSearch(e.target.value)} placeholder=\"Search conversations...\"\n            className=\"w-full pl-9 pr-3 py-2 bg-gm-surface-secondary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\n        </div>\n\n        <select value={sourceFilter} onChange={e => setSourceFilter(e.target.value)}\n          className=\"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\">\n          <option value=\"\">All sources</option>\n          {Object.entries(sourceLabels).map(([k, v]) => <option key={k} value={k}>{v}</option>)}\n        </select>\n\n        {[\n          { key: 'embedded', label: 'Embedded', icon: CheckCircle, activeColor: 'bg-gm-status-success-bg border-green-500/30 text-gm-status-success' },\n          { key: 'not_embedded', label: 'Not Embedded', icon: AlertCircle, activeColor: 'bg-gm-status-warning-bg border-yellow-500/30 text-gm-status-warning' },\n          { key: 'ai_processed', label: 'AI Processed', icon: Sparkles, activeColor: 'bg-blue-600/10 border-blue-600/30 text-gm-interactive-primary' },\n        ].map(f => {\n          const FIcon = f.icon;\n          const isActive = statusFilter === f.key;\n          return (\n            <button key={f.key} onClick={() => setStatusFilter(isActive ? '' : f.key as typeof statusFilter)}\n              className={cn('px-2.5 py-2 rounded-lg text-xs font-medium transition-colors border flex items-center gap-1.5',\n                isActive ? f.activeColor : 'bg-gm-surface-secondary border-gm-border-primary text-gm-text-tertiary hover:text-gm-text-primary')}>\n              <FIcon className=\"w-3.5 h-3.5\" /> {f.label}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* List */}\n      {conversations.error ? (\n        <ErrorState message=\"Failed to load conversations.\" onRetry={() => conversations.refetch()} />\n      ) : conversations.isLoading ? (\n        <div className=\"flex items-center justify-center h-32\"><Loader2 className=\"h-8 w-8 animate-spin text-gm-interactive-primary\" /></div>\n      ) : filtered.length === 0 ? (\n        <div className=\"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary\">\n          <MessageSquare className=\"h-12 w-12 mx-auto mb-4 text-gray-500\" />\n          {convList.length === 0 ? \"No conversations imported yet. Click 'Import Conversation' to get started.\" : 'No conversations match your filters.'}\n        </div>\n      ) : (\n        <div className=\"space-y-1.5\">\n          {filtered.map((conv) => {\n            const participantCount = (conv.participants as unknown[])?.length ?? conv.participant_count ?? 0;\n            const messageCount = conv.messageCount ?? conv.message_count ?? conv.messages_count ?? 0;\n            const isEmbedded = !!(conv.is_embedded || conv.isEmbedded);\n            const hasAi = !!conv.aiProcessedAt;\n            const sourceApp = String(conv.sourceApp || conv.source_app || '');\n            const summary = String(conv.summary || '');\n            const dateRange = conv.dateRange as Record<string, unknown> | undefined;\n\n            return (\n              <div key={String(conv.id)}\n                className=\"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-3.5 hover:border-blue-600/30 transition-all cursor-pointer group\"\n                onClick={() => setSelectedId(String(conv.id))}>\n                <div className=\"flex items-center gap-3\">\n                  {/* Source icon */}\n                  <div className={cn('w-10 h-10 rounded-lg flex items-center justify-center shrink-0',\n                    sourceColors[sourceApp] || 'bg-blue-600/10 text-gm-interactive-primary')}>\n                    <MessageSquare className=\"w-5 h-5\" />\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gm-text-primary truncate group-hover:text-gm-interactive-primary transition-colors\">\n                      {String(conv.title || conv.name || 'Untitled Conversation')}\n                    </p>\n                    <div className=\"flex items-center gap-3 mt-0.5\">\n                      {sourceApp && (\n                        <span className={cn('text-[10px] px-2 py-0.5 rounded-full font-medium',\n                          sourceColors[sourceApp] || 'bg-gm-surface-secondary text-gm-text-tertiary')}>\n                          {sourceLabels[sourceApp] || sourceApp}\n                        </span>\n                      )}\n                      <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                        <Users className=\"w-3 h-3\" /> {String(participantCount)}\n                      </span>\n                      <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                        <Hash className=\"w-3 h-3\" /> {String(messageCount)} msgs\n                      </span>\n                      {dateRange?.first && (\n                        <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                          <Clock className=\"w-3 h-3\" /> {String(dateRange.first).split('T')[0]}\n                        </span>\n                      )}\n                    </div>\n                    {summary && (\n                      <p className=\"text-[10px] text-gray-400 mt-0.5 truncate\">{summary.substring(0, 120)}</p>\n                    )}\n                  </div>\n\n                  {/* Badges & Actions */}\n                  <div className=\"flex items-center gap-2 flex-shrink-0\">\n                    {isEmbedded ? (\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-success-bg text-gm-status-success font-medium flex items-center gap-1\">\n                        <CheckCircle className=\"w-3 h-3\" /> Embedded\n                      </span>\n                    ) : (\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-warning-bg text-gm-status-warning font-medium flex items-center gap-1\">\n                        <AlertCircle className=\"w-3 h-3\" /> Not embedded\n                      </span>\n                    )}\n                    {hasAi && (\n                      <Sparkles className=\"w-3.5 h-3.5 text-blue-500\" />\n                    )}\n                    <button onClick={(e) => handleReembed(e, String(conv.id))}\n                      className=\"w-7 h-7 rounded-lg hover:bg-gm-surface-hover flex items-center justify-center text-gm-text-tertiary hover:text-gm-interactive-primary transition-colors opacity-0 group-hover:opacity-100\"\n                      title=\"Re-embed\">\n                      <RotateCw className=\"w-3.5 h-3.5\" />\n                    </button>\n                    <button onClick={(e) => handleDelete(e, String(conv.id))}\n                      className=\"w-7 h-7 rounded-lg hover:bg-gm-status-danger-bg flex items-center justify-center text-gm-text-tertiary hover:text-gm-status-danger transition-colors opacity-0 group-hover:opacity-100\"\n                      title=\"Delete\">\n                      <Trash2 className=\"w-3.5 h-3.5\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Detail Modal */}\n      <ConversationDetailModal\n        conversationId={selectedId}\n        open={!!selectedId}\n        onClose={() => setSelectedId(null)}\n      />\n\n      {/* Import Modal */}\n      <ConversationImportModal\n        open={showImport}\n        onClose={() => setShowImport(false)}\n      />\n    </div>\n  );\n}\n"],"names":["__iconNode","Hash","createLucideIcon","sourceColors","sourceLabels","ConversationDetailModal","conversationId","open","onClose","tab","setTab","useState","editingTitle","setEditingTitle","titleDraft","setTitleDraft","messageSearch","setMessageSearch","detail","useConversationDetail","deleteConv","useDeleteConversation","reembed","useReembedConversation","updateConv","useUpdateConversation","summarize","useSummarizeConversation","conversation","title","summary","sourceApp","channelName","workspaceName","participants","messageCount","messages","dateRange","importedAt","isEmbedded","aiProcessedAt","extraction","facts","decisions","risks","actionItems","questions","entities","relationships","extractedParticipants","hasKnowledge","hasEntities","hasPeople","filteredMessages","useMemo","q","m","participantColors","colors","map","name","i","handleDelete","toast","handleReembed","handleSaveTitle","handleSummarize","tabs","MessageSquare","Brain","BookOpen","Cpu","Contact","jsx","Dialog","o","jsxs","DialogContent","DialogTitle","Loader2","Fragment","ArrowLeft","cn","e","Save","X","Edit3","Users","Clock","CheckCircle","Sparkles","RotateCw","Trash2","Icon","msg","sender","initial","text","time","colorClass","MetadataCard","p","KnowledgeSection","Lightbulb","f","a","d","AlertTriangle","r","HelpCircle","Link2","avatarSrc","resolveAvatarUrl","isValidAvatarUrl","getInitials","msgCount","CommentsPanel","label","children","color","count","formatOptions","ConversationImportModal","step","setStep","inputTab","setInputTab","setText","formatHint","setFormatHint","setTitle","setChannelName","documentDate","setDocumentDate","skipAI","setSkipAI","fileName","setFileName","previewData","setPreviewData","fileRef","useRef","parseConversation","useParseConversation","importConversation","useImportConversation","handleClose","handleFileRead","useCallback","file","reader","handleParse","data","handleImport","result","stats","messagesPreview","warnings","Upload","t","Paperclip","FileText","StatBox","w","Calendar","value","ConversationsPage","search","setSearch","sourceFilter","setSourceFilter","statusFilter","setStatusFilter","selectedId","setSelectedId","showImport","setShowImport","conversations","useConversations","statsQuery","useConversationsStats","deleteConversation","convList","raw","filtered","c","bySource","id","statCards","BarChart3","source","Search","k","v","AlertCircle","FIcon","isActive","ErrorState","conv","participantCount","hasAi"],"mappings":"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","x_google_ignoreList":[0]}