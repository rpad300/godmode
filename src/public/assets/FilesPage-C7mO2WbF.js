import{r as o,j as e}from"./vendor-react-CZ-WyKWZ.js";import{t as c,m as P,A as Fe}from"./vendor-ui-BS9QKitv.js";import{br as Pe,bs as Le,bt as Ae,bu as $e,bv as Ee,bw as Be,bx as ze,by as ge,bz as Ie,bA as Re,bB as Te,l as he,e as Ue,O as re,M as ae,aY as ie,w as E,C as ye,L as g,y as be,aX as ne,c as me,A as xe,a8 as Z,bC as Me,bD as Oe,bE as Ve,bF as Ke,bG as qe,bH as Ge,bI as He,bJ as Je,bK as Ye,bL as We,bM as Xe,bN as Ze,bO as Qe,bP as et,P as tt,F as pe}from"./main-B3DZn5B_.js";import{C as st}from"./CommentsPanel-CZdKIoGH.js";import{A as rt}from"./arrow-left-BUrpeDp8.js";import{C as ve}from"./circle-check-big-Do7NRW-9.js";import{S as W}from"./star-YHn3OJCl.js";import{R as X}from"./rotate-cw-wbVSlX31.js";import{E as at}from"./eye-RsgK9PvA.js";import{c as it}from"./vendor-markdown-Cu8AM8lU.js";import{C as nt}from"./chart-column-BRODuIXF.js";import{H as lt}from"./history-CfQJo6RW.js";import{L as ct}from"./link-2-CvGSt01y.js";import{C as ot}from"./copy-DJTzHNZE.js";import{U as dt}from"./upload-C00nhlDV.js";import{L as mt}from"./list-Bt3ZTO_1.js";import{L as xt}from"./layout-grid-B7IR3E3c.js";import{A as je}from"./archive-BKtIUce6.js";import"./vendor-supabase-Bpw_79gH.js";import"./vendor-query-DSf7I7Ei.js";import"./vendor-router-D_XeKoA_.js";import"./send-CaMoZtNQ.js";import"./pen-UIQK8jUR.js";import"./circle-6fOsuLxM.js";const pt=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],ut=it("braces",pt),gt="rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200",ht="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)] shadow-sm transition-all duration-150 disabled:opacity-50",yt="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150",bt={documents:E,document:E,transcripts:ie,transcript:ie,emails:ae,email:ae,conversations:re,conversation:re};function vt({doc:s,file:x,allProjects:S,allSprints:C,allActions:n,updateDoc:D}){const h=s?.project_id??x.project_id?String(s?.project_id??x.project_id):"",f=s?.sprint_id??x.sprint_id?String(s?.sprint_id??x.sprint_id):"",d=s?.action_id??x.action_id?String(s?.action_id??x.action_id):"",F=h?C.filter(r=>r.project_id===h):C,l=f?n.filter(r=>(r.sprintId||r.sprint_id)===f):n,L=(r,y)=>{const v={id:x.id,[r]:y||null};r==="project_id"?(v.sprint_id=null,v.action_id=null):r==="sprint_id"&&(v.action_id=null),D.mutate(v,{onSuccess:()=>c.success("Updated"),onError:()=>c.error("Update failed")})},w="w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-xs text-[var(--gm-text-primary)]";return e.jsxs("div",{className:"bg-[var(--gm-surface-secondary)] border border-[var(--gm-border-primary)] rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-[var(--gm-text-tertiary)] uppercase tracking-wider",children:"Association"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider block mb-1",children:"Project"}),e.jsxs("select",{value:h,onChange:r=>L("project_id",r.target.value),className:w,children:[e.jsx("option",{value:"",children:"No project"}),S.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider block mb-1",children:"Sprint"}),e.jsxs("select",{value:f,onChange:r=>L("sprint_id",r.target.value),className:w,children:[e.jsx("option",{value:"",children:"No sprint"}),F.map(r=>e.jsxs("option",{value:r.id,children:[r.name,r.status==="completed"?" (done)":r.status==="active"?" (active)":""]},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider block mb-1",children:"Task"}),e.jsxs("select",{value:d,onChange:r=>L("action_id",r.target.value),className:w,children:[e.jsx("option",{value:"",children:"No task"}),l.map(r=>e.jsx("option",{value:r.id,children:r.title||r.task||"(untitled)"},r.id))]})]})]}),D.isPending&&e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-[var(--gm-text-tertiary)]",children:[e.jsx(g,{className:"w-3 h-3 animate-spin"})," Saving..."]})]})}function jt({file:s,onBack:x,onReprocess:S,onDelete:C}){const[n,D]=o.useState("preview"),[h,f]=o.useState(!1),d=s.id,F=Pe(d),l=Le(n==="entities"?d:null),L=Ae(d),w=$e(n==="analysis"?d:null),r=Ee(n==="versions"?d:null),y=Be(n==="activity"?d:null),v=ze(d),q=ge(),B=Ie(),R=Re(),{data:T=[]}=Te(),{data:_}=he(),{data:U}=Ue(),b=_?.sprints??(Array.isArray(_)?_:[]),Q=Array.isArray(U)?U:[];o.useEffect(()=>{D("preview"),f(!1)},[s.id]);const z=F.data?.document,ee=s.original_filename||s.filename||"(unnamed)",M=s.type||"document",te=bt[M]||E,u=z?.metadata??s.metadata??{},G=s.size?`${(Number(s.size)/1024).toFixed(1)} KB`:"—",H=!!(z?.is_favorite??s.is_favorite),O=s.entity_counts,V=L.data?.summary,K=[{key:"preview",label:"Preview",icon:at},{key:"entities",label:"Entities",icon:ut},{key:"analysis",label:"Analysis",icon:nt},{key:"versions",label:"Versions",icon:lt},{key:"activity",label:"Activity",icon:xe},{key:"share",label:"Share",icon:ct}];return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 text-xs text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] transition-colors mb-2",children:[e.jsx(rt,{className:"w-3.5 h-3.5"})," Back to Files"]}),e.jsxs("div",{className:gt,children:[e.jsx("div",{className:"p-5 rounded-t-xl",style:{background:"linear-gradient(to right, rgba(37,99,235,0.15), rgba(37,99,235,0.04))"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg border border-blue-500/30 flex items-center justify-center",style:{backgroundColor:"rgba(37,99,235,0.15)"},children:e.jsx(te,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-base font-bold text-[var(--gm-text-primary)] truncate",children:ee}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)] capitalize",children:M}),e.jsx("span",{className:"text-xs text-[var(--gm-text-tertiary)]",children:G}),e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full font-medium ${s.status==="processed"||s.status==="completed"?"bg-green-500/20 text-green-400":s.status==="pending"?"bg-yellow-500/20 text-yellow-400":s.status==="processing"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:[s.status==="processed"||s.status==="completed"?e.jsx(ve,{className:"w-3 h-3"}):s.status==="pending"?e.jsx(ye,{className:"w-3 h-3"}):s.status==="processing"?e.jsx(g,{className:"w-3 h-3 animate-spin"}):e.jsx(be,{className:"w-3 h-3"}),s.status||"—"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>q.mutate(s.id),className:"w-8 h-8 rounded-lg hover:bg-[var(--gm-surface-hover)] flex items-center justify-center transition-colors",title:"Favorite",children:e.jsx(W,{className:`w-4 h-4 ${H?"fill-yellow-400 text-yellow-400":"text-[var(--gm-text-tertiary)]"}`})}),e.jsx("a",{href:`/api/documents/${s.id}/download`,className:"w-8 h-8 rounded-lg hover:bg-[var(--gm-surface-hover)] flex items-center justify-center transition-colors",title:"Download",children:e.jsx(ne,{className:"w-4 h-4 text-[var(--gm-text-tertiary)]"})}),e.jsx("button",{onClick:()=>S(s.id),className:me("w-8 h-8 rounded-lg hover:bg-[var(--gm-surface-hover)] flex items-center justify-center transition-colors",v.data?.needs_reprocess?"ring-2 ring-yellow-500/50":""),title:v.data?.needs_reprocess?"Reprocessing recommended":"Reprocess",children:e.jsx(X,{className:me("w-4 h-4",v.data?.needs_reprocess?"text-yellow-400":"text-[var(--gm-text-tertiary)]")})})]})]})}),e.jsx("div",{className:"flex border-b border-[var(--gm-border-primary)] px-5 gap-1 overflow-x-auto",children:K.map(i=>e.jsxs("button",{onClick:()=>D(i.key),className:`flex items-center gap-1.5 px-3 py-2.5 text-xs font-medium border-b-2 transition-colors whitespace-nowrap ${n===i.key?"border-[var(--gm-accent-primary)] text-[var(--gm-accent-primary)]":"border-transparent text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]"}`,children:[e.jsx(i.icon,{className:"w-3.5 h-3.5"})," ",i.label]},i.key))}),e.jsxs("div",{className:"p-5 space-y-4",children:[n==="preview"&&e.jsxs(e.Fragment,{children:[V&&e.jsxs("div",{className:"bg-blue-600/5 border border-blue-600/10 rounded-xl p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-[var(--gm-accent-primary)] uppercase tracking-wider mb-2",children:"AI Summary"}),e.jsx("p",{className:"text-sm text-[var(--gm-text-primary)] leading-relaxed",children:V})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{label:"Type",value:M},{label:"Size",value:G},{label:"Created",value:s.created_at?new Date(s.created_at).toLocaleDateString():"—"},{label:"Updated",value:s.updated_at?new Date(s.updated_at).toLocaleDateString():"—"},...u.pages?[{label:"Pages",value:String(u.pages)}]:[],...u.language?[{label:"Language",value:String(u.language)}]:[],...u.author?[{label:"Author",value:String(u.author)}]:[],...u.word_count?[{label:"Words",value:Number(u.word_count).toLocaleString()}]:[],...u.source?[{label:"Source",value:String(u.source)}]:[],...u.speakers?[{label:"Speakers",value:u.speakers.join(", ")}]:[]].map(i=>e.jsxs("div",{className:"bg-[var(--gm-bg-tertiary)] rounded-lg p-3",children:[e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider",children:i.label}),e.jsx("p",{className:"text-sm font-medium text-[var(--gm-text-primary)] mt-0.5 truncate",children:i.value})]},i.label))}),e.jsx(vt,{doc:z,file:s,allProjects:T,allSprints:b,allActions:Q,updateDoc:R}),O&&e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(O).map(([i,a])=>e.jsxs("div",{className:"bg-[var(--gm-bg-tertiary)] rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-[var(--gm-text-primary)]",children:a??0}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase mt-0.5",children:i})]},i))}),s.content_preview&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs uppercase text-[var(--gm-text-tertiary)] font-semibold mb-2",children:"Content Preview"}),e.jsx("div",{className:"bg-[var(--gm-bg-tertiary)] rounded-lg p-3 text-xs text-[var(--gm-text-secondary)] font-mono leading-relaxed max-h-60 overflow-y-auto whitespace-pre-wrap",children:s.content_preview})]})]}),n==="entities"&&e.jsxs(e.Fragment,{children:[l.isLoading&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(g,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),l.data&&(()=>{const i=l.data.extraction;return i?["facts","decisions","questions","risks","actions","people","participants"].map(m=>{const k=i[m];return!k||k.length===0?null:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-semibold uppercase tracking-wider text-[var(--gm-text-tertiary)] mb-2 capitalize",children:[m," (",k.length,")"]}),e.jsx("div",{className:"space-y-1.5",children:k.map((p,A)=>e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3 text-sm",children:[e.jsx("p",{className:"text-[var(--gm-text-primary)]",children:String(p.text||p.name||p.content||JSON.stringify(p))}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.category&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-600/10 text-[var(--gm-accent-primary)]",children:String(p.category)}),p.confidence!=null&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:[(Number(p.confidence)*100).toFixed(0),"% confidence"]})]})]},A))})]},m)}):e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] text-center py-6",children:"No extraction data available."})})(),!l.isLoading&&!l.data&&e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] text-center py-6",children:"No extraction data available."})]}),n==="analysis"&&e.jsxs(e.Fragment,{children:[w.isLoading&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(g,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),(()=>{const i=w.data?.analyses??[];return!w.isLoading&&i.length===0?e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] text-center py-6",children:"No analysis history yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-[var(--gm-border-primary)] text-left",children:[e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Date"}),e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Provider"}),e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Model"}),e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Tokens"}),e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Cost"}),e.jsx("th",{className:"pb-2 pr-3 text-[var(--gm-text-tertiary)] font-medium",children:"Latency"}),e.jsx("th",{className:"pb-2 text-[var(--gm-text-tertiary)] font-medium",children:"Status"})]})}),e.jsx("tbody",{children:i.map((a,m)=>e.jsxs("tr",{className:"border-b border-[var(--gm-border-primary)]",children:[e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:a.created_at?new Date(String(a.created_at)).toLocaleString():"—"}),e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:String(a.provider||"—")}),e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:String(a.model||"—")}),e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:a.tokens!=null?Number(a.tokens).toLocaleString():"—"}),e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:a.cost!=null?`$${Number(a.cost).toFixed(4)}`:"—"}),e.jsx("td",{className:"py-2 pr-3 text-[var(--gm-text-primary)]",children:a.latency_ms!=null?`${Number(a.latency_ms)}ms`:"—"}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${a.status==="completed"?"bg-green-500/10 text-green-500":a.status==="failed"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:String(a.status||"—")})})]},m))})]})})})()]}),n==="versions"&&e.jsxs(e.Fragment,{children:[r.isLoading&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(g,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),(()=>{const i=r.data?.versions??[];return!r.isLoading&&i.length===0?e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] text-center py-6",children:"No version history."}):e.jsx("div",{className:"space-y-2",children:i.map((a,m)=>e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3 flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-600/10 flex items-center justify-center text-xs font-bold text-[var(--gm-accent-primary)]",children:["v",String(a.version??m+1)]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-[var(--gm-text-primary)]",children:String(a.change_notes||a.summary||"Version update")}),e.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[a.created_at&&e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:new Date(String(a.created_at)).toLocaleString()}),a.file_size!=null&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:[(Number(a.file_size)/1024).toFixed(1)," KB"]})]})]})]},m))})})()]}),n==="activity"&&e.jsxs(e.Fragment,{children:[y.isLoading&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(g,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),(()=>{const i=y.data?.activities??[];return!y.isLoading&&i.length===0?e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)] text-center py-6",children:"No activity yet."}):e.jsx("div",{className:"space-y-1.5",children:i.map((a,m)=>e.jsxs("div",{className:"flex items-start gap-3 py-2 border-b border-[var(--gm-border-primary)] last:border-0",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(xe,{className:"w-3 h-3 text-[var(--gm-accent-primary)]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-[var(--gm-text-primary)]",children:[a.user&&e.jsxs("span",{className:"font-medium",children:[String(a.user)," "]}),String(a.action||a.type||"activity")]}),a.created_at&&e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:new Date(String(a.created_at)).toLocaleString()})]})]},m))})})()]}),n==="share"&&e.jsx(ft,{fileId:s.id,shareMutation:B},s.id),e.jsx("div",{className:"mt-4",children:e.jsx(st,{targetType:"document",targetId:s.id})})]}),C&&e.jsx("div",{className:"px-5 py-4 border-t border-[var(--gm-border-primary)]",children:e.jsxs("div",{className:"p-4 rounded-lg border border-red-500/20 bg-red-500/5",children:[e.jsx("p",{className:"text-xs font-semibold text-red-500 mb-1",children:"Danger Zone"}),e.jsx("p",{className:"text-xs text-[var(--gm-text-tertiary)] mb-3",children:"Deleting this document will permanently remove all associated data."}),h?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:ht,onClick:()=>C(s.id),children:[e.jsx(Z,{className:"w-3.5 h-3.5"})," Confirm Delete"]}),e.jsx("button",{className:yt,onClick:()=>f(!1),children:"Cancel"})]}):e.jsxs("button",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-red-500/10 text-red-500 border border-red-500/30 hover:bg-red-500/20 transition-colors",onClick:()=>f(!0),children:[e.jsx(Z,{className:"w-3.5 h-3.5"})," Delete Document"]})]})})]})]})}function ft({fileId:s,shareMutation:x}){const[S,C]=o.useState("7d"),[n,D]=o.useState(100),[h,f]=o.useState(null),d=()=>{x.mutate({id:s,expires:S,maxViews:n},{onSuccess:l=>{f(l.url),c.success("Share link created")},onError:()=>c.error("Failed to create share link")})},F=()=>{h&&(navigator.clipboard.writeText(h),c.success("Link copied to clipboard"))};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-[var(--gm-text-tertiary)]",children:"Generate a shareable link for this document."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-[var(--gm-text-tertiary)] block mb-1",children:"Expires"}),e.jsxs("select",{value:S,onChange:l=>C(l.target.value),className:"w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-xs text-[var(--gm-text-primary)]",children:[e.jsx("option",{value:"1h",children:"1 hour"}),e.jsx("option",{value:"24h",children:"24 hours"}),e.jsx("option",{value:"7d",children:"7 days"}),e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-[var(--gm-text-tertiary)] block mb-1",children:"Max views"}),e.jsx("input",{type:"number",value:n,onChange:l=>D(Number(l.target.value)),min:1,className:"w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-xs text-[var(--gm-text-primary)]"})]})]}),e.jsxs("button",{onClick:d,disabled:x.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] text-sm font-medium hover:bg-[var(--gm-interactive-primary-hover)] disabled:opacity-50 transition-colors",children:[x.isPending?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(Me,{className:"w-4 h-4"})," Generate Share Link"]}),h&&e.jsxs("div",{className:"bg-[var(--gm-bg-tertiary)] rounded-lg p-3 flex items-center gap-2",children:[e.jsx("input",{type:"text",readOnly:!0,value:h,className:"flex-1 bg-transparent text-xs text-[var(--gm-text-primary)] outline-none truncate"}),e.jsx("button",{onClick:F,className:"flex-shrink-0 w-8 h-8 rounded-lg hover:bg-[var(--gm-surface-hover)] flex items-center justify-center",children:e.jsx(ot,{className:"w-3.5 h-3.5 text-[var(--gm-text-tertiary)]"})})]})]})}const ue={documents:E,transcripts:ie,emails:ae,images:re},Nt=s=>{switch(s){case"processed":case"completed":return{icon:ve,cls:"bg-gm-status-success-bg text-gm-status-success"};case"processing":return{icon:g,cls:"bg-blue-600/10 text-gm-interactive-primary"};case"pending":return{icon:ye,cls:"bg-gm-status-warning-bg text-gm-status-warning"};case"deleted":return{icon:je,cls:"bg-gm-surface-secondary text-gm-text-tertiary"};default:return{icon:be,cls:"bg-gm-status-danger-bg text-gm-status-danger"}}};function Ht(){const[s,x]=o.useState("documents"),[S,C]=o.useState(""),[n,D]=o.useState(""),[h,f]=o.useState(""),[d,F]=o.useState("list"),[l,L]=o.useState(!1),[w,r]=o.useState(""),[y,v]=o.useState(new Set),[q,B]=o.useState(null),{data:R}=he(),T=R?.sprints??(Array.isArray(R)?R:[]),_=Oe({search:S||void 0,type:n||void 0,status:s==="deleted"?"deleted":h||void 0,sprint_id:w||void 0,limit:100}),U=Ve(),{data:b}=Ke(),Q=qe(),z=Ge(),ee=He(),M=Je(),te=Ye(),u=ge(),G=We(),H=Xe(),O=Ze(),V=Qe(),K=et(),[i,a]=o.useState(""),m=b?.status==="processing"||z.isPending,k=_.data?.documents??[],p=_.data?.statusCounts,A=U.data??[],se=o.useMemo(()=>l?k.filter(t=>t.is_favorite):k,[k,l]),le=t=>{v(j=>{const $=new Set(j);return $.has(t)?$.delete(t):$.add(t),$})},fe=()=>v(new Set(se.map(t=>t.id))),I=()=>v(new Set),Ne=t=>{!t||t.length===0||Q.mutate({files:Array.from(t),type:"documents"},{onSuccess:()=>c.success(`${t.length} file(s) uploaded`),onError:()=>c.error("Upload failed")})},we=()=>{z.mutate(void 0,{onSuccess:()=>c.success("Processing started"),onError:()=>c.error("Processing failed to start")})},ke=()=>{const t=Array.from(y);H.mutate(t,{onSuccess:()=>{c.success(`${t.length} document(s) deleted`),I()},onError:()=>c.error("Bulk delete failed")})},Se=()=>{const t=Array.from(y);O.mutate(t,{onSuccess:()=>{c.success(`${t.length} document(s) queued for reprocessing`),I()},onError:()=>c.error("Bulk reprocess failed")})},Ce=()=>{const t=Array.from(y);V.mutate({ids:t},{onSuccess:()=>{c.success("Export downloaded"),I()},onError:()=>c.error("Export failed")})};if(q)return e.jsx(jt,{file:q,onBack:()=>B(null),onReprocess:t=>{M.mutate(t,{onSuccess:()=>c.success("Reprocessing started")})},onDelete:t=>{ee.mutate(t,{onSuccess:()=>{c.success("Document deleted"),B(null)}})}});const ce=(t,j)=>{t.stopPropagation(),u.mutate(j)},De=t=>{G.mutate(t,{onSuccess:()=>c.success("Document restored")})},_e=t=>{const j=Nt(t.status),$=ue[t.type||""]||E,oe=!!t.is_favorite,J=y.has(t.id),de=t.sprint_id,Y=de?T.find(N=>N.id===de)?.name:null;return d==="grid"?e.jsxs(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-gm-surface-primary border rounded-xl p-4 hover:border-blue-600/30 transition-all cursor-pointer group relative ${J?"border-gm-interactive-primary ring-2 ring-blue-600/20":"border-gm-border-primary"}`,onClick:()=>B(t),children:[e.jsx("div",{className:"absolute top-3 left-3 flex items-center gap-1.5",children:e.jsx("input",{type:"checkbox",checked:J,onChange:()=>le(t.id),onClick:N=>N.stopPropagation(),className:"w-3.5 h-3.5 rounded border-gm-border-primary accent-gm-interactive-primary"})}),e.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:e.jsx("button",{onClick:N=>ce(N,t.id),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(W,{className:`w-3.5 h-3.5 ${oe?"fill-yellow-400 text-yellow-400":"text-gm-text-tertiary hover:text-yellow-400"}`})})}),e.jsxs("div",{className:"flex flex-col items-center pt-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-600/10 border border-blue-600/20 flex items-center justify-center mb-3",children:e.jsx($,{className:"w-5 h-5 text-gm-interactive-primary"})}),e.jsx("p",{className:"text-sm font-medium text-gm-text-primary truncate w-full text-center",children:t.original_filename||t.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap justify-center",children:[t.type&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary capitalize",children:t.type}),e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full font-medium ${j.cls}`,children:[e.jsx(j.icon,{className:`w-3 h-3 ${t.status==="processing"?"animate-spin":""}`})," ",t.status||"—"]}),Y&&e.jsx("span",{className:"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full font-medium bg-purple-500/10 text-purple-400 border border-purple-500/20",children:Y})]}),t.size&&e.jsxs("span",{className:"text-[10px] text-gm-text-tertiary mt-1",children:[(Number(t.size)/1024).toFixed(1)," KB"]})]})]},t.id):e.jsx(P.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`bg-gm-surface-primary border rounded-xl p-3.5 hover:border-blue-600/30 transition-all cursor-pointer group ${J?"border-gm-interactive-primary ring-2 ring-blue-600/20":"border-gm-border-primary"}`,onClick:()=>B(t),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:J,onChange:()=>le(t.id),onClick:N=>N.stopPropagation(),className:"w-3.5 h-3.5 rounded border-gm-border-primary accent-gm-interactive-primary flex-shrink-0"}),e.jsx("button",{onClick:N=>ce(N,t.id),className:"flex-shrink-0",children:e.jsx(W,{className:`w-4 h-4 transition-colors ${oe?"fill-yellow-400 text-yellow-400":"text-gray-600 hover:text-yellow-400"}`})}),e.jsx($,{className:"w-5 h-5 text-gm-text-tertiary group-hover:text-gm-interactive-primary transition-colors flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gm-text-primary truncate group-hover:text-gm-interactive-primary transition-colors",children:t.original_filename||t.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.type&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary capitalize",children:t.type}),t.size&&e.jsxs("span",{className:"text-[10px] text-gm-text-tertiary",children:[(Number(t.size)/1024).toFixed(1)," KB"]}),t.created_at&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:new Date(t.created_at).toLocaleDateString()})]})]}),Y&&e.jsx("span",{className:"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full font-medium bg-purple-500/10 text-purple-400 border border-purple-500/20 whitespace-nowrap",children:Y}),e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full font-medium ${j.cls}`,children:[e.jsx(j.icon,{className:`w-3 h-3 ${t.status==="processing"?"animate-spin":""}`})," ",t.status||"—"]}),e.jsx("a",{href:`/api/documents/${t.id}/download`,onClick:N=>N.stopPropagation(),className:"w-7 h-7 rounded-lg hover:bg-gm-surface-hover flex items-center justify-center text-gm-text-tertiary hover:text-gm-text-primary transition-colors opacity-0 group-hover:opacity-100",title:"Download",children:e.jsx(ne,{className:"w-3.5 h-3.5"})})]})},t.id)};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gm-text-primary",children:"Files & Documents"}),e.jsxs("div",{className:"flex gap-2",children:[(A.length>0||m)&&e.jsxs("button",{onClick:we,disabled:m,className:"px-3 py-1.5 rounded-lg bg-gm-interactive-secondary text-gm-text-primary text-xs font-medium hover:bg-gm-interactive-secondary-hover flex items-center gap-1.5 disabled:opacity-50",children:[m?e.jsx(g,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(X,{className:"w-3.5 h-3.5"}),m?"Processing...":`Process ${A.length} file(s)`]}),e.jsxs("label",{className:"px-3 py-1.5 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 cursor-pointer transition-colors",children:[e.jsx(dt,{className:"w-3.5 h-3.5"})," Upload",e.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:t=>Ne(t.target.files)})]})]})]}),e.jsx("div",{className:"flex gap-1 bg-gm-surface-secondary rounded-xl p-1",children:[{key:"documents",label:"Documents",count:_.data?.total??0},{key:"pending",label:"Pending",count:A.length},{key:"deleted",label:"Deleted",count:p?.deleted??0}].map(t=>e.jsxs("button",{onClick:()=>{x(t.key),I()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s===t.key?"bg-gm-surface-primary text-gm-text-primary shadow-sm":"text-gm-text-tertiary hover:text-gm-text-primary"}`,children:[t.label," ",e.jsx("span",{className:"ml-1 text-[10px] opacity-60",children:t.count})]},t.key))}),m&&b&&e.jsxs(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-blue-600/5 border border-blue-600/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 animate-spin text-gm-interactive-primary"}),e.jsx("span",{className:"text-sm font-medium text-gm-text-primary",children:"Processing files..."})]}),e.jsxs("span",{className:"text-xs text-gm-text-tertiary",children:[b.processedFiles??0," / ",b.totalFiles??"?"," files"]})]}),b.currentFile&&e.jsxs("p",{className:"text-xs text-gm-text-tertiary mb-2 truncate",children:["Current: ",b.currentFile]}),e.jsx("div",{className:"w-full bg-gm-surface-secondary rounded-full h-2 overflow-hidden",children:e.jsx(P.div,{className:"bg-gm-interactive-primary h-full rounded-full",initial:{width:0},animate:{width:`${b.progress??(b.processedFiles&&b.totalFiles?Math.round((b.processedFiles??0)/(b.totalFiles||1)*100):0)}%`},transition:{duration:.5}})})]}),s==="documents"&&p&&e.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"Processed",value:p.processed??0,color:"text-gm-status-success"},{label:"Processing",value:p.processing??0,color:"text-gm-interactive-primary"},{label:"Pending",value:p.pending??0,color:"text-gm-status-warning"},{label:"Failed",value:p.failed??0,color:"text-gm-status-danger"}].map(t=>e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-lg px-3 py-2 flex items-center gap-2",children:[e.jsx("span",{className:`text-lg font-bold ${t.color}`,children:t.value}),e.jsx("span",{className:"text-[10px] text-gm-text-tertiary uppercase tracking-wider",children:t.label})]},t.label))}),(s==="documents"||s==="deleted")&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 max-w-xs",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gm-text-tertiary"}),e.jsx("input",{value:S,onChange:t=>C(t.target.value),placeholder:"Search documents...",className:"w-full pl-9 pr-3 py-1.5 bg-gm-surface-secondary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus"})]}),s==="documents"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:n,onChange:t=>D(t.target.value),className:"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-1.5 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus",children:[e.jsx("option",{value:"",children:"All types"}),e.jsx("option",{value:"documents",children:"Documents"}),e.jsx("option",{value:"transcripts",children:"Transcripts"}),e.jsx("option",{value:"emails",children:"Emails"}),e.jsx("option",{value:"images",children:"Images"})]}),e.jsxs("select",{value:h,onChange:t=>f(t.target.value),className:"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-1.5 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus",children:[e.jsx("option",{value:"",children:"All statuses"}),e.jsx("option",{value:"processed",children:"Processed"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]}),e.jsxs("select",{value:w,onChange:t=>r(t.target.value),className:"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-1.5 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus",children:[e.jsx("option",{value:"",children:"All sprints"}),e.jsx("option",{value:"_none",children:"No sprint"}),T.map(t=>e.jsxs("option",{value:t.id,children:[t.name,t.status==="active"?" (active)":""]},t.id))]}),e.jsxs("button",{onClick:()=>L(!l),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-xs font-medium transition-colors ${l?"bg-yellow-400/10 border-yellow-400/30 text-yellow-600":"bg-gm-surface-secondary border-gm-border-primary text-gm-text-tertiary hover:text-gm-text-primary"}`,children:[e.jsx(W,{className:`w-3.5 h-3.5 ${l?"fill-yellow-400":""}`})," Favorites"]})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1 bg-gm-surface-secondary rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>F("list"),className:`p-1.5 rounded-md transition-colors ${d==="list"?"bg-gm-surface-primary shadow-sm text-gm-text-primary":"text-gm-text-tertiary hover:text-gm-text-primary"}`,children:e.jsx(mt,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:()=>F("grid"),className:`p-1.5 rounded-md transition-colors ${d==="grid"?"bg-gm-surface-primary shadow-sm text-gm-text-primary":"text-gm-text-tertiary hover:text-gm-text-primary"}`,children:e.jsx(xt,{className:"w-3.5 h-3.5"})})]})]}),e.jsx(Fe,{children:y.size>0&&e.jsxs(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-3 bg-blue-600/5 border border-blue-600/20 rounded-xl px-4 py-2.5",children:[e.jsxs("span",{className:"text-sm font-medium text-gm-text-primary",children:[y.size," selected"]}),e.jsx("button",{onClick:fe,className:"text-xs text-gm-interactive-primary hover:underline",children:"Select all"}),e.jsx("button",{onClick:I,className:"text-xs text-gm-text-tertiary hover:underline",children:"Clear"}),e.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxs("select",{value:i,onChange:t=>a(t.target.value),className:"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-2 py-1.5 text-xs text-gm-text-primary",children:[e.jsx("option",{value:"",children:"Assign sprint..."}),e.jsx("option",{value:"_none",children:"Remove sprint"}),T.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("button",{onClick:()=>{if(!i)return;const t=Array.from(y),j=i==="_none"?null:i;K.mutate({ids:t,updates:{sprint_id:j}},{onSuccess:()=>{c.success(`Sprint updated on ${t.length} document(s)`),I(),a("")},onError:()=>c.error("Bulk sprint update failed")})},disabled:!i||K.isPending,className:"flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-purple-500/10 text-purple-400 border border-purple-500/20 text-xs font-medium hover:bg-purple-500/20 transition-colors disabled:opacity-40",children:[K.isPending?e.jsx(g,{className:"w-3 h-3 animate-spin"}):null,"Apply"]})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs("button",{onClick:Ce,disabled:V.isPending,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs hover:bg-gm-surface-hover transition-colors",children:[e.jsx(ne,{className:"w-3.5 h-3.5"})," Export"]}),e.jsxs("button",{onClick:Se,disabled:O.isPending,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs hover:bg-gm-interactive-primary-hover transition-colors",children:[e.jsx(X,{className:"w-3.5 h-3.5"})," Reprocess"]}),e.jsxs("button",{onClick:ke,disabled:H.isPending,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gm-status-danger-bg text-gm-status-danger text-xs hover:bg-red-500/20 transition-colors",children:[e.jsx(Z,{className:"w-3.5 h-3.5"})," Delete"]})]})]})}),s==="documents"&&e.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},children:_.isLoading?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(g,{className:"h-8 w-8 animate-spin text-gm-interactive-primary"})}):se.length===0?e.jsxs("div",{className:"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary",children:[e.jsx(pe,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),l?"No favorite documents.":"No documents found. Upload files to get started."]}):e.jsx("div",{className:d==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3":"space-y-2",children:se.map(t=>_e(t))})}),s==="deleted"&&e.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},children:_.isLoading?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(g,{className:"h-8 w-8 animate-spin text-gm-interactive-primary"})}):k.length===0?e.jsxs("div",{className:"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary",children:[e.jsx(je,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),"No deleted documents."]}):e.jsx("div",{className:"space-y-2",children:k.map(t=>{const j=ue[t.type||""]||E;return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-3.5 flex items-center gap-3 opacity-70",children:[e.jsx(j,{className:"w-5 h-5 text-gm-text-tertiary flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gm-text-primary truncate",children:t.original_filename||t.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.type&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary capitalize",children:t.type}),t.created_at&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:new Date(t.created_at).toLocaleDateString()})]})]}),e.jsxs("button",{onClick:()=>De(t.id),className:"px-3 py-1.5 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 transition-colors",children:[e.jsx(X,{className:"w-3.5 h-3.5"})," Restore"]})]},t.id)})})}),s==="pending"&&e.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},children:U.isLoading?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(g,{className:"h-8 w-8 animate-spin text-gm-interactive-primary"})}):A.length===0?e.jsxs("div",{className:"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary",children:[e.jsx(pe,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),"No pending files. Upload files to add them to the processing queue."]}):e.jsx("div",{className:"space-y-2",children:A.map(t=>e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-3.5 flex items-center gap-3",children:[e.jsx(E,{className:"w-5 h-5 text-gm-text-tertiary flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gm-text-primary truncate",children:t.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:t.folder}),e.jsxs("span",{className:"text-[10px] text-gm-text-tertiary",children:[((t.size??0)/1024).toFixed(1)," KB"]})]})]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-warning-bg text-gm-status-warning font-medium",children:t.status||"—"}),e.jsx("button",{onClick:()=>te.mutate({folder:t.folder,filename:t.filename}),className:"w-7 h-7 rounded-lg hover:bg-gm-status-danger-bg flex items-center justify-center text-gm-text-tertiary hover:text-gm-status-danger transition-colors",children:e.jsx(Z,{className:"w-3.5 h-3.5"})})]},`${t.folder}/${t.filename}`))})})]})}export{Ht as default};
//# sourceMappingURL=FilesPage-C7mO2WbF.js.map
