{"version":3,"file":"landing-BnL6gVkk.js","sources":["../../frontend/landing.ts"],"sourcesContent":["/**\n * Landing Page - Main Entry Point\n * GodMode Landing Page with inline auth forms\n */\n\n// Import styles\nimport './styles/landing.css';\n\n// ==================== Types ====================\ninterface AuthResponse {\n  success: boolean;\n  user?: {\n    id: string;\n    email: string;\n  };\n  needsEmailVerification?: boolean;\n  error?: string;\n}\n\ninterface MeResponse {\n  authenticated: boolean;\n  user?: {\n    id: string;\n    email: string;\n  };\n}\n\n// ==================== HTTP Helpers ====================\n/** Parse response as JSON only when Content-Type is JSON; otherwise return null and keep body as text for error message. */\nasync function parseJsonOrText(response: Response): Promise<{ data: unknown; isJson: boolean }> {\n  const contentType = (response.headers.get('Content-Type') || '').toLowerCase();\n  const isJson = contentType.includes('application/json');\n  const text = await response.text();\n  if (isJson && text) {\n    try {\n      return { data: JSON.parse(text), isJson: true };\n    } catch {\n      // Malformed JSON from API\n      return { data: null, isJson: false };\n    }\n  }\n  return { data: text || null, isJson: false };\n}\n\nasync function post<T>(url: string, data: Record<string, unknown>): Promise<T> {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    credentials: 'include',\n    body: JSON.stringify(data),\n  });\n\n  const { data: result, isJson } = await parseJsonOrText(response);\n\n  if (!response.ok) {\n    const msg =\n      isJson && result && typeof result === 'object' && 'error' in result\n        ? String((result as { error?: string }).error)\n        : isJson && result && typeof result === 'object' && 'message' in result\n          ? String((result as { message?: string }).message)\n          : typeof result === 'string' && result.length > 0\n            ? result\n            : response.statusText || 'Pedido falhou';\n    throw new Error(msg || 'Pedido falhou');\n  }\n\n  if (!isJson || result == null) {\n    throw new Error('Resposta invÃ¡lida do servidor. Tente novamente.');\n  }\n\n  return result as T;\n}\n\nasync function get<T>(url: string): Promise<T> {\n  const response = await fetch(url, {\n    method: 'GET',\n    credentials: 'include',\n  });\n\n  const { data, isJson } = await parseJsonOrText(response);\n\n  if (!response.ok) {\n    const msg =\n      isJson && data && typeof data === 'object' && 'error' in data\n        ? String((data as { error?: string }).error)\n        : isJson && data && typeof data === 'object' && 'message' in data\n          ? String((data as { message?: string }).message)\n          : typeof data === 'string' && data.length > 0\n            ? data\n            : response.statusText || 'Pedido falhou';\n    throw new Error(msg || 'Pedido falhou');\n  }\n\n  if (!isJson || data == null) {\n    throw new Error('Resposta invÃ¡lida do servidor. Tente novamente.');\n  }\n\n  return data as T;\n}\n\n// ==================== Auth Functions ====================\nasync function checkAuth(): Promise<boolean> {\n  try {\n    const result = await get<MeResponse>('/api/auth/me');\n    return result.authenticated === true;\n  } catch {\n    return false;\n  }\n}\n\nasync function login(email: string, password: string): Promise<AuthResponse> {\n  return post<AuthResponse>('/api/auth/login', { email, password });\n}\n\nasync function register(email: string, password: string): Promise<AuthResponse> {\n  return post<AuthResponse>('/api/auth/register', { email, password });\n}\n\nasync function forgotPassword(email: string): Promise<void> {\n  await post('/api/auth/forgot-password', { email });\n}\n\n// ==================== UI Helpers ====================\nfunction showError(elementId: string, message: string): void {\n  const errorEl = document.getElementById(elementId);\n  if (errorEl) {\n    errorEl.textContent = message;\n    errorEl.classList.add('visible');\n  }\n}\n\nfunction hideError(elementId: string): void {\n  const errorEl = document.getElementById(elementId);\n  if (errorEl) {\n    errorEl.textContent = '';\n    errorEl.classList.remove('visible');\n  }\n}\n\nfunction showSuccess(elementId: string, message: string): void {\n  const successEl = document.getElementById(elementId);\n  if (successEl) {\n    successEl.textContent = message;\n    successEl.classList.add('visible');\n  }\n}\n\nfunction setLoading(button: HTMLButtonElement, loading: boolean): void {\n  const textEl = button.querySelector('.btn-text') as HTMLElement;\n  const loadingEl = button.querySelector('.btn-loading') as HTMLElement;\n  \n  if (textEl && loadingEl) {\n    textEl.classList.toggle('hidden', loading);\n    loadingEl.classList.toggle('hidden', !loading);\n  }\n  \n  button.disabled = loading;\n}\n\nfunction scrollToElement(id: string): void {\n  const element = document.getElementById(id);\n  if (element) {\n    const headerHeight = 64;\n    const elementPosition = element.getBoundingClientRect().top;\n    const offsetPosition = elementPosition + window.pageYOffset - headerHeight - 20;\n    \n    window.scrollTo({\n      top: offsetPosition,\n      behavior: 'smooth',\n    });\n  }\n}\n\n// ==================== Form Handlers ====================\nfunction initAuthTabs(): void {\n  const tabs = document.querySelectorAll('.landing-auth-tab');\n  const loginForm = document.getElementById('login-form');\n  const registerForm = document.getElementById('register-form');\n  const forgotForm = document.getElementById('forgot-form');\n  \n  tabs.forEach((tab) => {\n    tab.addEventListener('click', () => {\n      const tabType = tab.getAttribute('data-tab');\n      \n      // Update active tab\n      tabs.forEach((t) => t.classList.remove('active'));\n      tab.classList.add('active');\n      \n      if (loginForm) loginForm.classList.toggle('hidden', tabType !== 'login');\n      if (registerForm) registerForm.classList.toggle('hidden', tabType !== 'register');\n      if (forgotForm) forgotForm.classList.add('hidden');\n      \n      // Clear errors\n      hideError('login-error');\n      hideError('register-error');\n      hideError('forgot-error');\n    });\n  });\n}\n\nfunction initLoginForm(): void {\n  const form = document.getElementById('login-form') as HTMLFormElement;\n  if (!form) return;\n  \n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    hideError('login-error');\n    \n    const emailInput = document.getElementById('login-email') as HTMLInputElement;\n    const passwordInput = document.getElementById('login-password') as HTMLInputElement;\n    const submitBtn = form.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n    \n    const email = emailInput.value.trim();\n    const password = passwordInput.value;\n    \n    if (!email || !password) {\n      showError('login-error', 'Preencha todos os campos');\n      return;\n    }\n    \n    setLoading(submitBtn, true);\n    \n    try {\n      const result = await login(email, password);\n      \n      if (result.success) {\n        // Redirect to app\n        window.location.href = '/app';\n      } else {\n        showError('login-error', result.error || 'Erro ao entrar. Verifique as credenciais.');\n      }\n    } catch (err) {\n      showError('login-error', err instanceof Error ? err.message : 'Erro ao entrar. Tente novamente.');\n    } finally {\n      setLoading(submitBtn, false);\n    }\n  });\n}\n\nfunction initRegisterForm(): void {\n  const form = document.getElementById('register-form') as HTMLFormElement;\n  if (!form) return;\n  \n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    hideError('register-error');\n    \n    const emailInput = document.getElementById('register-email') as HTMLInputElement;\n    const passwordInput = document.getElementById('register-password') as HTMLInputElement;\n    const confirmInput = document.getElementById('register-confirm') as HTMLInputElement;\n    const submitBtn = form.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n    \n    const email = emailInput.value.trim();\n    const password = passwordInput.value;\n    const confirm = confirmInput.value;\n    \n    if (!email || !password || !confirm) {\n      showError('register-error', 'Preencha todos os campos');\n      return;\n    }\n    \n    if (password.length < 12) {\n      showError('register-error', 'A password deve ter pelo menos 12 caracteres');\n      return;\n    }\n    \n    if (password !== confirm) {\n      showError('register-error', 'As passwords nÃ£o coincidem');\n      return;\n    }\n    \n    setLoading(submitBtn, true);\n    \n    try {\n      const result = await register(email, password);\n      \n      if (result.success) {\n        if (result.needsEmailVerification) {\n          // Show success message and switch to login\n          showError('register-error', ''); // Clear any error\n          alert('Conta criada! Verifique o seu email para confirmar o registo.');\n          \n          // Switch to login tab\n          const loginTab = document.querySelector('.landing-auth-tab[data-tab=\"login\"]') as HTMLElement;\n          loginTab?.click();\n        } else {\n          // Redirect to app\n          window.location.href = '/app';\n        }\n      } else {\n        showError('register-error', result.error || 'Erro ao criar conta. Tente novamente.');\n      }\n    } catch (err) {\n      showError('register-error', err instanceof Error ? err.message : 'Erro ao criar conta. Tente novamente.');\n    } finally {\n      setLoading(submitBtn, false);\n    }\n  });\n}\n\nfunction initForgotForm(): void {\n  const form = document.getElementById('forgot-form') as HTMLFormElement;\n  const forgotLink = document.getElementById('forgot-password-link');\n  const backLink = document.getElementById('back-to-login-link');\n  const loginForm = document.getElementById('login-form');\n  const tabs = document.querySelectorAll('.landing-auth-tab');\n  \n  forgotLink?.addEventListener('click', () => {\n    if (loginForm) loginForm.classList.add('hidden');\n    if (form) form.classList.remove('hidden');\n    tabs.forEach((t) => t.classList.remove('active'));\n    hideError('login-error');\n  });\n\n  backLink?.addEventListener('click', () => {\n    if (form) form.classList.add('hidden');\n    if (loginForm) loginForm.classList.remove('hidden');\n    const loginTab = document.querySelector('.landing-auth-tab[data-tab=\"login\"]') as HTMLElement;\n    loginTab?.classList.add('active');\n    hideError('forgot-error');\n  });\n  \n  // Form submission\n  form?.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    hideError('forgot-error');\n    \n    const emailInput = document.getElementById('forgot-email') as HTMLInputElement;\n    const submitBtn = form.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n    \n    const email = emailInput.value.trim();\n    \n    if (!email) {\n      showError('forgot-error', 'Introduza o seu email');\n      return;\n    }\n    \n    setLoading(submitBtn, true);\n    \n    try {\n      await forgotPassword(email);\n      showSuccess('forgot-success', 'Se o email existir, receberÃ¡ um link de recuperaÃ§Ã£o.');\n      emailInput.value = '';\n    } catch {\n      // Always show success to not reveal if email exists\n      showSuccess('forgot-success', 'Se o email existir, receberÃ¡ um link de recuperaÃ§Ã£o.');\n    } finally {\n      setLoading(submitBtn, false);\n    }\n  });\n}\n\n// ==================== Navigation ====================\nfunction initNavigation(): void {\n  // Smooth scroll for anchor links\n  document.querySelectorAll('a[href^=\"#\"]').forEach((anchor) => {\n    anchor.addEventListener('click', (e) => {\n      e.preventDefault();\n      const targetId = anchor.getAttribute('href')?.slice(1);\n      if (targetId) {\n        scrollToElement(targetId);\n        // Close mobile nav if open\n        document.getElementById('mobile-nav')?.classList.remove('open');\n      }\n    });\n  });\n  \n  // Scroll buttons\n  document.querySelectorAll('[data-scroll-to]').forEach((button) => {\n    button.addEventListener('click', () => {\n      const targetId = button.getAttribute('data-scroll-to');\n      if (targetId) {\n        scrollToElement(targetId);\n        // Close mobile nav if open\n        document.getElementById('mobile-nav')?.classList.remove('open');\n      }\n    });\n  });\n  \n  // Mobile menu toggle\n  const menuToggle = document.getElementById('menu-toggle');\n  const mobileNav = document.getElementById('mobile-nav');\n  \n  menuToggle?.addEventListener('click', () => {\n    mobileNav?.classList.toggle('open');\n  });\n  \n  // Close mobile nav on outside click\n  document.addEventListener('click', (e) => {\n    if (mobileNav?.classList.contains('open')) {\n      const target = e.target as HTMLElement;\n      if (!mobileNav.contains(target) && !menuToggle?.contains(target)) {\n        mobileNav.classList.remove('open');\n      }\n    }\n  });\n}\n\n// ==================== FAQ ====================\nfunction initFAQ(): void {\n  document.querySelectorAll('.landing-faq-question').forEach((question) => {\n    question.addEventListener('click', () => {\n      const isExpanded = question.getAttribute('aria-expanded') === 'true';\n      const answer = question.nextElementSibling as HTMLElement;\n      \n      // Toggle current\n      question.setAttribute('aria-expanded', String(!isExpanded));\n      answer?.classList.toggle('open', !isExpanded);\n    });\n  });\n}\n\n// ==================== Header Scroll ====================\nfunction initHeaderScroll(): void {\n  const header = document.getElementById('landing-header');\n  if (!header) return;\n  \n  let lastScrollY = window.scrollY;\n  \n  window.addEventListener('scroll', () => {\n    const currentScrollY = window.scrollY;\n    header.classList.toggle('landing-header-scrolled', currentScrollY > 50);\n    lastScrollY = currentScrollY;\n  });\n}\n\n// ==================== Initialize ====================\nasync function init(): Promise<void> {\n  console.log('ðŸš€ GodMode Landing initializing...');\n  \n  // Check if already authenticated\n  const isAuthenticated = await checkAuth();\n  \n  if (isAuthenticated) {\n    console.log('âœ… User authenticated, redirecting to app...');\n    window.location.href = '/app';\n    return;\n  }\n  \n  // Initialize UI\n  initAuthTabs();\n  initLoginForm();\n  initRegisterForm();\n  initForgotForm();\n  initNavigation();\n  initFAQ();\n  initHeaderScroll();\n  \n  console.log('âœ… GodMode Landing ready');\n}\n\n// Start when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n"],"names":["parseJsonOrText","response","isJson","text","post","url","data","result","msg","get","checkAuth","login","email","password","register","forgotPassword","showError","elementId","message","errorEl","hideError","showSuccess","successEl","setLoading","button","loading","textEl","loadingEl","scrollToElement","id","element","offsetPosition","initAuthTabs","tabs","loginForm","registerForm","forgotForm","tab","tabType","t","initLoginForm","form","e","emailInput","passwordInput","submitBtn","err","initRegisterForm","confirmInput","confirm","initForgotForm","forgotLink","backLink","initNavigation","anchor","targetId","menuToggle","mobileNav","target","initFAQ","question","isExpanded","answer","initHeaderScroll","header","currentScrollY","init"],"mappings":"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"}