{"version":3,"file":"ConversationsPage-Dmi3SB1x.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/hash.js","../../frontend/src/components/conversations/ConversationDetail.tsx","../../frontend/src/components/conversations/ConversationImportModal.tsx","../../frontend/src/pages/ConversationsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"9\", y2: \"9\", key: \"4lhtct\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"15\", y2: \"15\", key: \"vyu0kd\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"3\", y2: \"21\", key: \"1ggp8o\" }],\n  [\"line\", { x1: \"16\", x2: \"14\", y1: \"3\", y2: \"21\", key: \"weycgp\" }]\n];\nconst Hash = createLucideIcon(\"hash\", __iconNode);\n\nexport { __iconNode, Hash as default };\n//# sourceMappingURL=hash.js.map\n","import { useState, useEffect, useMemo } from 'react';\r\nimport {\r\n  MessageSquare, Users, Hash, Clock, RotateCw, Trash2, Loader2,\r\n  ArrowLeft, Brain, Sparkles, FileText, Contact, Lightbulb,\r\n  AlertTriangle, HelpCircle, CheckCircle, Cpu, Link2, BookOpen,\r\n  Edit3, Save, X,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { cn, getInitials, resolveAvatarUrl, isValidAvatarUrl } from '../../lib/utils';\r\nimport {\r\n  useConversationDetail, useReembedConversation, useDeleteConversation,\r\n  useUpdateConversation, useSummarizeConversation,\r\n} from '../../hooks/useGodMode';\r\nimport { CommentsPanel } from '../shared/CommentsPanel';\r\n\r\ntype Tab = 'messages' | 'summary' | 'knowledge' | 'entities' | 'people';\r\n\r\nconst CARD = 'rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200';\r\nconst BTN_DANGER = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)] shadow-sm transition-all duration-150 disabled:opacity-50';\r\nconst BTN_SECONDARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150';\r\n\r\nconst sourceColors: Record<string, string> = {\r\n  whatsapp: 'bg-green-500/10 text-green-500 border-green-500/20',\r\n  slack: 'bg-purple-500/10 text-purple-500 border-purple-500/20',\r\n  teams: 'bg-blue-500/10 text-blue-500 border-blue-500/20',\r\n  discord: 'bg-indigo-500/10 text-indigo-500 border-indigo-500/20',\r\n  zoom: 'bg-sky-500/10 text-sky-500 border-sky-500/20',\r\n  telegram: 'bg-cyan-500/10 text-cyan-500 border-cyan-500/20',\r\n};\r\n\r\nconst sourceLabels: Record<string, string> = {\r\n  whatsapp: 'WhatsApp', slack: 'Slack', teams: 'Teams',\r\n  discord: 'Discord', zoom: 'Zoom', telegram: 'Telegram',\r\n};\r\n\r\ninterface Props {\r\n  conversationId: string;\r\n  onBack: () => void;\r\n}\r\n\r\nexport default function ConversationDetail({ conversationId, onBack }: Props) {\r\n  const [tab, setTab] = useState<Tab>('messages');\r\n  const [editingTitle, setEditingTitle] = useState(false);\r\n  const [titleDraft, setTitleDraft] = useState('');\r\n  const [messageSearch, setMessageSearch] = useState('');\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n\r\n  const detail = useConversationDetail(conversationId);\r\n  const deleteConv = useDeleteConversation();\r\n  const reembed = useReembedConversation();\r\n  const updateConv = useUpdateConversation();\r\n  const summarize = useSummarizeConversation();\r\n\r\n  // Reset state on conversation change\r\n  useEffect(() => {\r\n    setTab('messages');\r\n    setEditingTitle(false);\r\n    setTitleDraft('');\r\n    setMessageSearch('');\r\n    setConfirmDelete(false);\r\n  }, [conversationId]);\r\n\r\n  const conversation = (detail.data as Record<string, unknown>)?.conversation as Record<string, unknown> | undefined;\r\n\r\n  const title = String(conversation?.title || conversation?.name || 'Untitled Conversation');\r\n  const summary = String(conversation?.summary || '');\r\n  const sourceApp = String(conversation?.sourceApp || conversation?.source_app || '');\r\n  const channelName = String(conversation?.channelName || conversation?.channel_name || '');\r\n  const workspaceName = String(conversation?.workspaceName || conversation?.workspace_name || '');\r\n  const participants = (conversation?.participants || []) as string[];\r\n  const messageCount = Number(conversation?.messageCount || conversation?.message_count || 0);\r\n  const messages = (conversation?.messages || []) as Array<Record<string, unknown>>;\r\n  const dateRange = conversation?.dateRange as Record<string, unknown> | undefined;\r\n  const importedAt = conversation?.importedAt ? new Date(String(conversation.importedAt)).toLocaleString() : '';\r\n  const isEmbedded = !!(conversation?.is_embedded || conversation?.isEmbedded);\r\n  const aiProcessedAt = conversation?.aiProcessedAt ? new Date(String(conversation.aiProcessedAt)).toLocaleString() : '';\r\n\r\n  const extraction = (conversation?.extraction_result || conversation?.extractedEntities || {}) as Record<string, unknown>;\r\n  const facts = (extraction.facts || []) as Array<Record<string, unknown>>;\r\n  const decisions = (extraction.decisions || []) as Array<Record<string, unknown>>;\r\n  const risks = (extraction.risks || []) as Array<Record<string, unknown>>;\r\n  const actionItems = (extraction.actionItems || []) as Array<Record<string, unknown>>;\r\n  const questions = (extraction.questions || []) as Array<Record<string, unknown>>;\r\n  const entities = (extraction.entities || conversation?.extractedEntities || []) as Array<Record<string, unknown>>;\r\n  const relationships = (extraction.relationships || conversation?.extractedRelationships || []) as Array<Record<string, unknown>>;\r\n  const extractedParticipants = (extraction.participants || []) as Array<Record<string, unknown>>;\r\n\r\n  const hasKnowledge = facts.length + decisions.length + risks.length + actionItems.length + questions.length > 0;\r\n  const hasEntities = entities.length + relationships.length > 0;\r\n  const hasPeople = extractedParticipants.length > 0 || participants.length > 0;\r\n\r\n  const filteredMessages = useMemo(() => {\r\n    if (!messageSearch.trim()) return messages;\r\n    const q = messageSearch.toLowerCase();\r\n    return messages.filter(m =>\r\n      String(m.text || m.content || m.body || '').toLowerCase().includes(q) ||\r\n      String(m.speaker || m.sender || m.author || '').toLowerCase().includes(q)\r\n    );\r\n  }, [messages, messageSearch]);\r\n\r\n  const participantColors = useMemo(() => {\r\n    const colors = [\r\n      'bg-blue-500/20 text-blue-500', 'bg-green-500/20 text-green-500', 'bg-purple-500/20 text-purple-500',\r\n      'bg-orange-500/20 text-orange-500', 'bg-pink-500/20 text-pink-500', 'bg-cyan-500/20 text-cyan-500',\r\n      'bg-yellow-500/20 text-yellow-500', 'bg-red-500/20 text-red-500',\r\n    ];\r\n    const map: Record<string, string> = {};\r\n    const uniqueNames = [...new Set(messages.map(m => String(m.speaker || m.sender || m.author || 'Unknown')))];\r\n    uniqueNames.forEach((name, i) => { map[name] = colors[i % colors.length]; });\r\n    return map;\r\n  }, [messages]);\r\n\r\n  const handleDelete = () => {\r\n    deleteConv.mutate(conversationId, {\r\n      onSuccess: () => { toast.success('Conversation deleted'); onBack(); },\r\n      onError: () => toast.error('Failed to delete'),\r\n    });\r\n  };\r\n\r\n  const handleReembed = () => {\r\n    reembed.mutate(conversationId, {\r\n      onSuccess: () => toast.success('Re-embedding started'),\r\n      onError: () => toast.error('Failed to re-embed'),\r\n    });\r\n  };\r\n\r\n  const handleSaveTitle = () => {\r\n    if (!titleDraft.trim()) return;\r\n    updateConv.mutate({ id: conversationId, data: { title: titleDraft.trim() } }, {\r\n      onSuccess: () => { toast.success('Title updated'); setEditingTitle(false); },\r\n      onError: () => toast.error('Failed to update title'),\r\n    });\r\n  };\r\n\r\n  const handleSummarize = () => {\r\n    summarize.mutate(conversationId, {\r\n      onSuccess: () => toast.success('Summary generated'),\r\n      onError: () => toast.error('Failed to generate summary'),\r\n    });\r\n  };\r\n\r\n  const tabs: { key: Tab; label: string; icon: typeof FileText; count?: number; hidden?: boolean }[] = [\r\n    { key: 'messages', label: 'Messages', icon: MessageSquare, count: messageCount },\r\n    { key: 'summary', label: 'Summary', icon: Brain },\r\n    { key: 'knowledge', label: 'Knowledge', icon: BookOpen, count: facts.length + decisions.length + actionItems.length + risks.length + questions.length, hidden: !hasKnowledge },\r\n    { key: 'entities', label: 'Entities', icon: Cpu, count: entities.length + relationships.length, hidden: !hasEntities },\r\n    { key: 'people', label: 'People', icon: Contact, count: hasPeople ? (extractedParticipants.length || participants.length) : 0, hidden: !hasPeople },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-4\">\r\n      <button onClick={onBack} className=\"flex items-center gap-1.5 text-xs text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] transition-colors mb-2\">\r\n        <ArrowLeft className=\"w-3.5 h-3.5\" /> Back to Conversations\r\n      </button>\r\n\r\n      <div className={CARD}>\r\n        {detail.isLoading && (\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <Loader2 className=\"w-8 h-8 animate-spin text-[var(--gm-accent-primary)]\" />\r\n          </div>\r\n        )}\r\n\r\n        {!detail.isLoading && !conversation && (\r\n          <div className=\"flex items-center justify-center h-48 text-[var(--gm-text-tertiary)] text-sm\">Conversation not found.</div>\r\n        )}\r\n\r\n        {!detail.isLoading && conversation && (\r\n          <>\r\n            {/* Header */}\r\n            <div className=\"p-5 rounded-t-xl\" style={{ background: 'linear-gradient(to right, rgba(37,99,235,0.15), rgba(37,99,235,0.04))' }}>\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className={cn('w-12 h-12 rounded-xl flex items-center justify-center shrink-0 border',\r\n                  sourceColors[sourceApp] || 'border-blue-500/30')} style={{ backgroundColor: sourceColors[sourceApp] ? undefined : 'rgba(37,99,235,0.15)' }}>\r\n                  <MessageSquare className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  {editingTitle ? (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input value={titleDraft} onChange={e => setTitleDraft(e.target.value)}\r\n                        className=\"bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-2 py-1 text-sm text-[var(--gm-text-primary)] flex-1 focus:outline-none focus:ring-2 focus:ring-[var(--gm-border-focus)]\"\r\n                        autoFocus onKeyDown={e => e.key === 'Enter' && handleSaveTitle()} />\r\n                      <button onClick={handleSaveTitle} className=\"text-green-400 hover:text-green-300\"><Save className=\"w-4 h-4\" /></button>\r\n                      <button onClick={() => setEditingTitle(false)} className=\"text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]\"><X className=\"w-4 h-4\" /></button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <h2 className=\"text-lg font-semibold text-[var(--gm-text-primary)] leading-tight truncate\">{title}</h2>\r\n                      <button onClick={() => { setTitleDraft(title); setEditingTitle(true); }} className=\"text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] transition-colors\">\r\n                        <Edit3 className=\"w-3.5 h-3.5\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex items-center gap-2 mt-1.5 flex-wrap\">\r\n                    {sourceApp && <span className={cn('text-[10px] px-2 py-0.5 rounded-full font-medium border', sourceColors[sourceApp] || 'bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)] border-[var(--gm-border-primary)]')}>{sourceLabels[sourceApp] || sourceApp}</span>}\r\n                    {channelName && <span className=\"text-[10px] px-2 py-0.5 rounded-full text-[var(--gm-text-tertiary)] bg-[var(--gm-bg-tertiary)]\">#{channelName}</span>}\r\n                    {workspaceName && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{workspaceName}</span>}\r\n                    <span className=\"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-0.5\"><Users className=\"w-3 h-3\" /> {participants.length}</span>\r\n                    <span className=\"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-0.5\"><Hash className=\"w-3 h-3\" /> {messageCount} msgs</span>\r\n                    {dateRange?.first && <span className=\"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-0.5\"><Clock className=\"w-3 h-3\" /> {String(dateRange.first).split('T')[0]}</span>}\r\n                    {isEmbedded ? (\r\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 font-medium flex items-center gap-0.5\"><CheckCircle className=\"w-3 h-3\" /> Embedded</span>\r\n                    ) : (\r\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-yellow-500/20 text-yellow-400 font-medium\">Not embedded</span>\r\n                    )}\r\n                    {aiProcessedAt && <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 flex items-center gap-0.5\"><Sparkles className=\"w-3 h-3\" /> AI processed</span>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-1 shrink-0\">\r\n                  <button onClick={handleReembed} disabled={reembed.isPending} className=\"p-2 rounded-lg text-[var(--gm-text-tertiary)] hover:bg-[var(--gm-surface-hover)] transition-colors\" title=\"Re-embed\">\r\n                    {reembed.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <RotateCw className=\"w-4 h-4\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-1 px-5 border-b border-[var(--gm-border-primary)]\">\r\n              {tabs.filter(t => !t.hidden).map(t => {\r\n                const Icon = t.icon;\r\n                return (\r\n                  <button key={t.key} onClick={() => setTab(t.key)}\r\n                    className={cn('flex items-center gap-1.5 px-4 py-2.5 text-xs font-medium border-b-2 transition-colors',\r\n                      tab === t.key ? 'border-[var(--gm-accent-primary)] text-[var(--gm-accent-primary)]' : 'border-transparent text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]')}>\r\n                    <Icon className=\"w-3.5 h-3.5\" /> {t.label}\r\n                    {t.count !== undefined && t.count > 0 && (\r\n                      <span className=\"text-[10px] px-1.5 py-0.5 rounded-full bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">{t.count}</span>\r\n                    )}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"p-5 space-y-4\">\r\n              {tab === 'messages' && (\r\n                <>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <input value={messageSearch} onChange={e => setMessageSearch(e.target.value)} placeholder=\"Search messages...\"\r\n                      className=\"flex-1 bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-1.5 text-xs text-[var(--gm-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--gm-border-focus)]\" />\r\n                    <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{filteredMessages.length}/{messages.length}</span>\r\n                  </div>\r\n                  {filteredMessages.length === 0 ? (\r\n                    <p className=\"text-sm text-[var(--gm-text-tertiary)] text-center py-8\">No messages {messageSearch ? 'matching your search' : 'available'}.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {filteredMessages.map((msg, i) => {\r\n                        const sender = String(msg.speaker || msg.sender || msg.author || 'Unknown');\r\n                        const initial = sender.charAt(0).toUpperCase();\r\n                        const text = String(msg.text || msg.content || msg.body || '');\r\n                        const time = msg.timestamp ? new Date(String(msg.timestamp)).toLocaleString() : '';\r\n                        const colorClass = participantColors[sender] || 'bg-blue-600/20 text-[var(--gm-accent-primary)]';\r\n                        return (\r\n                          <div key={i} className=\"flex gap-3 group\">\r\n                            <div className={cn('w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold', colorClass)}>{initial}</div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-xs font-semibold text-[var(--gm-text-primary)]\">{sender}</span>\r\n                                {time && <span className=\"text-[10px] text-[var(--gm-text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity\">{time}</span>}\r\n                              </div>\r\n                              <p className=\"text-xs text-[var(--gm-text-secondary)] mt-0.5 whitespace-pre-wrap leading-relaxed\">{text}</p>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {tab === 'summary' && (\r\n                <div className=\"space-y-4\">\r\n                  {summary ? (\r\n                    <div className=\"bg-blue-600/5 border-l-[3px] border-[var(--gm-accent-primary)] rounded-r-lg p-4\">\r\n                      <div className=\"text-[10px] uppercase tracking-wider text-[var(--gm-accent-primary)] font-semibold mb-1.5 flex items-center gap-1.5\">\r\n                        <Sparkles className=\"w-3.5 h-3.5\" /> AI Summary\r\n                      </div>\r\n                      <p className=\"text-sm text-[var(--gm-text-primary)] leading-relaxed\">{summary}</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8\">\r\n                      <Brain className=\"w-10 h-10 mx-auto mb-3 text-[var(--gm-text-tertiary)]\" />\r\n                      <p className=\"text-sm text-[var(--gm-text-tertiary)] mb-3\">No AI summary generated yet.</p>\r\n                      <button onClick={handleSummarize} disabled={summarize.isPending}\r\n                        className=\"px-4 py-2 rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] text-xs font-medium hover:bg-[var(--gm-interactive-primary-hover)] flex items-center gap-1.5 mx-auto disabled:opacity-50 transition-colors\">\r\n                        {summarize.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n                        Generate Summary\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    <MetadataCard label=\"Participants\" icon={Users}>\r\n                      <div className=\"flex flex-wrap gap-1.5 mt-1\">\r\n                        {participants.map((p, i) => <span key={i} className=\"text-[10px] px-2 py-0.5 rounded-full bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-primary)] border border-[var(--gm-border-primary)]\">{p}</span>)}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"Statistics\" icon={Hash}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-[var(--gm-text-secondary)]\">\r\n                        <p>{messageCount} messages</p>\r\n                        <p>{participants.length} participants</p>\r\n                        {dateRange?.first && <p>From: {String(dateRange.first).split('T')[0]}</p>}\r\n                        {dateRange?.last && <p>To: {String(dateRange.last).split('T')[0]}</p>}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"Source\" icon={MessageSquare}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-[var(--gm-text-secondary)]\">\r\n                        {sourceApp && <p>Platform: {sourceLabels[sourceApp] || sourceApp}</p>}\r\n                        {channelName && <p>Channel: #{channelName}</p>}\r\n                        {workspaceName && <p>Workspace: {workspaceName}</p>}\r\n                        {importedAt && <p>Imported: {importedAt}</p>}\r\n                      </div>\r\n                    </MetadataCard>\r\n                    <MetadataCard label=\"AI Processing\" icon={Sparkles}>\r\n                      <div className=\"space-y-1 mt-1 text-xs text-[var(--gm-text-secondary)]\">\r\n                        <p>Status: {aiProcessedAt ? 'Processed' : 'Not processed'}</p>\r\n                        {aiProcessedAt && <p>At: {aiProcessedAt}</p>}\r\n                        <p>Embedded: {isEmbedded ? 'Yes' : 'No'}</p>\r\n                      </div>\r\n                    </MetadataCard>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'knowledge' && (\r\n                <div className=\"space-y-5\">\r\n                  {facts.length > 0 && <KnowledgeSection title=\"Facts\" icon={Lightbulb} color=\"text-[var(--gm-accent-primary)]\" count={facts.length}>{facts.map((f, i) => <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\"><p className=\"text-xs text-[var(--gm-text-primary)]\">{String(f.content)}</p><div className=\"flex gap-2 mt-1.5\">{f.category && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)] capitalize\">{String(f.category)}</span>}{f.confidence && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{Math.round(Number(f.confidence) * 100)}% confidence</span>}</div></div>)}</KnowledgeSection>}\r\n                  {actionItems.length > 0 && <KnowledgeSection title=\"Action Items\" icon={CheckCircle} color=\"text-green-500\" count={actionItems.length}>{actionItems.map((a, i) => <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\"><p className=\"text-xs text-[var(--gm-text-primary)] flex items-start gap-1.5\"><span className=\"text-green-500 mt-0.5\">&#x2610;</span> {String(a.task)}</p><div className=\"flex gap-2 mt-1.5 flex-wrap\">{a.owner && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">Owner: {String(a.owner)}</span>}{a.deadline && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">Due: {String(a.deadline)}</span>}{a.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-blue-600/10 text-[var(--gm-accent-primary)] capitalize\">{String(a.status)}</span>}</div></div>)}</KnowledgeSection>}\r\n                  {decisions.length > 0 && <KnowledgeSection title=\"Decisions\" icon={Lightbulb} color=\"text-blue-500\" count={decisions.length}>{decisions.map((d, i) => <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\"><p className=\"text-xs text-[var(--gm-text-primary)]\">{String(d.content)}</p><div className=\"flex gap-2 mt-1.5\">{d.owner && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">By: {String(d.owner)}</span>}{d.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-500 capitalize\">{String(d.status)}</span>}</div></div>)}</KnowledgeSection>}\r\n                  {risks.length > 0 && <KnowledgeSection title=\"Risks\" icon={AlertTriangle} color=\"text-red-500\" count={risks.length}>{risks.map((r, i) => <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\"><p className=\"text-xs text-[var(--gm-text-primary)]\">{String(r.content)}</p><div className=\"flex gap-2 mt-1.5\">{r.impact && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-red-500/10 text-red-500\">Impact: {String(r.impact)}</span>}{r.likelihood && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-yellow-500/10 text-yellow-500\">Likelihood: {String(r.likelihood)}</span>}</div>{r.mitigation && <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1.5 italic\">Mitigation: {String(r.mitigation)}</p>}</div>)}</KnowledgeSection>}\r\n                  {questions.length > 0 && <KnowledgeSection title=\"Questions\" icon={HelpCircle} color=\"text-yellow-500\" count={questions.length}>{questions.map((q, i) => <div key={i} className=\"bg-[var(--gm-surface-hover)] rounded-lg p-3\"><p className=\"text-xs text-[var(--gm-text-primary)] flex items-start gap-1.5\"><HelpCircle className=\"w-3.5 h-3.5 text-yellow-500 shrink-0 mt-0.5\" /> {String(q.content)}</p><div className=\"flex gap-2 mt-1.5\">{q.assigned_to && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">Assigned: {String(q.assigned_to)}</span>}{q.priority && <span className={cn('text-[10px] px-1.5 py-0.5 rounded capitalize', q.priority === 'high' ? 'bg-red-500/10 text-red-500' : q.priority === 'medium' ? 'bg-yellow-500/10 text-yellow-500' : 'bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]')}>{String(q.priority)}</span>}{q.status && <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)] capitalize\">{String(q.status)}</span>}</div></div>)}</KnowledgeSection>}\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'entities' && (\r\n                <div className=\"space-y-5\">\r\n                  {entities.length > 0 && <KnowledgeSection title=\"Entities\" icon={Cpu} color=\"text-[var(--gm-accent-primary)]\" count={entities.length}><div className=\"flex flex-wrap gap-2\">{entities.map((e, i) => <span key={i} className=\"text-xs px-3 py-1.5 rounded-lg bg-blue-600/10 text-[var(--gm-accent-primary)] font-medium border border-blue-600/20\">{String(e.name || e.text || e.label || JSON.stringify(e))}{e.type && <span className=\"text-[10px] text-blue-500 ml-1.5 capitalize\">({String(e.type)})</span>}</span>)}</div></KnowledgeSection>}\r\n                  {relationships.length > 0 && <KnowledgeSection title=\"Relationships\" icon={Link2} color=\"text-purple-500\" count={relationships.length}>{relationships.map((r, i) => <div key={i} className=\"flex items-center gap-2 bg-[var(--gm-surface-hover)] rounded-lg p-3\"><span className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{String(r.from || r.source)}</span><span className=\"text-[10px] px-2 py-0.5 rounded bg-purple-500/10 text-purple-500\">{String(r.type || r.label || '').replace(/_/g, ' ')}</span><span className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{String(r.to || r.target)}</span></div>)}</KnowledgeSection>}\r\n                </div>\r\n              )}\r\n\r\n              {tab === 'people' && (\r\n                <div className=\"space-y-3\">\r\n                  {extractedParticipants.length > 0 ? (\r\n                    extractedParticipants.map((p, i) => {\r\n                      const name = String(p.name || 'Unknown');\r\n                      const avatarSrc = resolveAvatarUrl(p as any);\r\n                      return (\r\n                        <div key={i} className=\"flex items-center gap-3 bg-[var(--gm-surface-hover)] rounded-xl p-4\">\r\n                          <div className=\"w-10 h-10 rounded-full bg-blue-600/20 flex items-center justify-center text-sm font-bold text-[var(--gm-accent-primary)] shrink-0 overflow-hidden\">\r\n                            {isValidAvatarUrl(avatarSrc) ? <img src={avatarSrc} alt={name} className=\"w-full h-full object-cover\" onError={(e) => { (e.target as HTMLImageElement).style.display = 'none'; }} /> : null}\r\n                            <span className={isValidAvatarUrl(avatarSrc) ? 'hidden' : ''}>{getInitials(name)}</span>\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-[var(--gm-text-primary)]\">{name}</p>\r\n                            <div className=\"flex flex-wrap gap-2 mt-0.5\">\r\n                              {p.role && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{String(p.role)}</span>}\r\n                              {p.organization && <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">at {String(p.organization)}</span>}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    participants.map((name, i) => {\r\n                      const msgCount = messages.filter(m => String(m.sender || m.author) === name).length;\r\n                      return (\r\n                        <div key={i} className=\"flex items-center gap-3 bg-[var(--gm-surface-hover)] rounded-xl p-4\">\r\n                          <div className={cn('w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold shrink-0', participantColors[name] || 'bg-blue-600/20 text-[var(--gm-accent-primary)]')}>{getInitials(name)}</div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-[var(--gm-text-primary)]\">{name}</p>\r\n                            <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{msgCount} message{msgCount !== 1 ? 's' : ''}</p>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Danger Zone */}\r\n            <div className=\"px-5 py-4 border-t border-[var(--gm-border-primary)]\">\r\n              <div className=\"p-4 rounded-lg border border-red-500/20 bg-red-500/5\">\r\n                <p className=\"text-xs font-semibold text-red-500 mb-1\">Danger Zone</p>\r\n                <p className=\"text-xs text-[var(--gm-text-tertiary)] mb-3\">Deleting this conversation will permanently remove all associated data.</p>\r\n                {!confirmDelete ? (\r\n                  <button className=\"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-red-500/10 text-red-500 border border-red-500/30 hover:bg-red-500/20 transition-colors\"\r\n                    onClick={() => setConfirmDelete(true)}>\r\n                    <Trash2 className=\"w-3.5 h-3.5\" /> Delete Conversation\r\n                  </button>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button className={BTN_DANGER} disabled={deleteConv.isPending} onClick={handleDelete}>\r\n                      {deleteConv.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Trash2 className=\"w-3.5 h-3.5\" />} Confirm Delete\r\n                    </button>\r\n                    <button className={BTN_SECONDARY} onClick={() => setConfirmDelete(false)}>Cancel</button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Comments */}\r\n      {conversationId && (\r\n        <div className={CARD}>\r\n          <CommentsPanel targetType=\"conversation\" targetId={conversationId} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MetadataCard({ label, icon: Icon, children }: { label: string; icon: typeof Users; children: React.ReactNode }) {\r\n  return (\r\n    <div className=\"bg-[var(--gm-bg-tertiary)] rounded-xl p-4 border border-[var(--gm-border-primary)]\">\r\n      <h4 className=\"text-[10px] uppercase tracking-wider text-[var(--gm-text-tertiary)] font-semibold flex items-center gap-1.5\">\r\n        <Icon className=\"w-3.5 h-3.5\" /> {label}\r\n      </h4>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction KnowledgeSection({ title, icon: Icon, color, count, children }: {\r\n  title: string; icon: typeof FileText; color: string; count: number; children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div>\r\n      <h3 className={cn('text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2', color)}>\r\n        <Icon className=\"w-4 h-4\" /> {title}\r\n        <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)] ml-auto\">{count}</span>\r\n      </h3>\r\n      <div className=\"space-y-2\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useRef, useCallback } from 'react';\r\nimport {\r\n  X, Upload, Loader2, FileText, MessageSquare, Sparkles, Users,\r\n  Hash, Calendar, CheckCircle, AlertTriangle, Paperclip,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { Dialog, DialogContent, DialogTitle } from '../ui/Dialog';\r\nimport { cn } from '../../lib/utils';\r\nimport { useParseConversation, useImportConversation } from '../../hooks/useGodMode';\r\n\r\ntype Step = 'input' | 'preview' | 'importing';\r\ntype InputTab = 'paste' | 'upload';\r\n\r\nconst formatOptions = [\r\n  { value: '', label: 'Auto-detect' },\r\n  { value: 'whatsapp', label: 'WhatsApp' },\r\n  { value: 'slack', label: 'Slack' },\r\n  { value: 'teams', label: 'Microsoft Teams' },\r\n  { value: 'discord', label: 'Discord' },\r\n  { value: 'zoom', label: 'Zoom Chat' },\r\n  { value: 'telegram', label: 'Telegram' },\r\n  { value: 'generic', label: 'Generic Chat' },\r\n];\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function ConversationImportModal({ open, onClose }: Props) {\r\n  const [step, setStep] = useState<Step>('input');\r\n  const [inputTab, setInputTab] = useState<InputTab>('paste');\r\n  const [text, setText] = useState('');\r\n  const [formatHint, setFormatHint] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [channelName, setChannelName] = useState('');\r\n  const [documentDate, setDocumentDate] = useState('');\r\n  const [skipAI, setSkipAI] = useState(false);\r\n  const [fileName, setFileName] = useState('');\r\n  const [previewData, setPreviewData] = useState<Record<string, unknown> | null>(null);\r\n  const fileRef = useRef<HTMLInputElement>(null);\r\n\r\n  const parseConversation = useParseConversation();\r\n  const importConversation = useImportConversation();\r\n\r\n  const handleClose = () => {\r\n    setText(''); setFormatHint(''); setTitle(''); setChannelName('');\r\n    setDocumentDate(''); setSkipAI(false); setFileName('');\r\n    setPreviewData(null); setStep('input');\r\n    onClose();\r\n  };\r\n\r\n  const handleFileRead = useCallback((file: File) => {\r\n    setFileName(file.name);\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setText(String(e.target?.result || ''));\r\n    };\r\n    reader.readAsText(file);\r\n  }, []);\r\n\r\n  const handleParse = async () => {\r\n    if (!text.trim() || text.trim().length < 20) {\r\n      toast.error('Conversation text is too short');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const data = await parseConversation.mutateAsync({ text, formatHint: formatHint || undefined });\r\n      setPreviewData(data as Record<string, unknown>);\r\n      setStep('preview');\r\n    } catch {\r\n      toast.error('Failed to parse conversation');\r\n    }\r\n  };\r\n\r\n  const handleImport = async () => {\r\n    if (!text.trim()) return;\r\n    setStep('importing');\r\n    try {\r\n      const data = await importConversation.mutateAsync({\r\n        text,\r\n        formatHint: formatHint || undefined,\r\n        meta: {\r\n          title: title || undefined,\r\n          channelName: channelName || undefined,\r\n          documentDate: documentDate || undefined,\r\n        },\r\n        skipAI,\r\n      });\r\n      const result = data as Record<string, unknown>;\r\n      toast.success(`Imported: \"${result.title || 'Conversation'}\" (${(result.stats as Record<string, unknown>)?.messageCount ?? '?'} messages)`);\r\n      handleClose();\r\n    } catch {\r\n      toast.error('Failed to import conversation');\r\n      setStep('preview');\r\n    }\r\n  };\r\n\r\n  const stats = previewData?.stats as Record<string, unknown> | undefined;\r\n  const messagesPreview = (previewData?.messagesPreview || []) as Array<Record<string, unknown>>;\r\n  const warnings = (previewData?.warnings || []) as string[];\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={o => !o && handleClose()}>\r\n      <DialogContent className=\"max-w-2xl p-0 overflow-hidden max-h-[90vh] flex flex-col\">\r\n        <DialogTitle className=\"sr-only\">Import Conversation</DialogTitle>\r\n\r\n        {/* Header */}\r\n        <div className=\"px-5 py-4 shrink-0\" style={{ background: 'linear-gradient(to right, rgba(37,99,235,0.25), rgba(37,99,235,0.08))' }}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-8 h-8 rounded-lg flex items-center justify-center\" style={{ backgroundColor: 'rgba(37,99,235,0.15)' }}>\r\n                <Upload className=\"w-4 h-4 text-blue-400\" />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-base font-semibold text-white\">Import Conversation</h2>\r\n                <p className=\"text-[10px] text-slate-300\">\r\n                  {step === 'input' && 'Paste or upload a conversation transcript'}\r\n                  {step === 'preview' && 'Review parsed conversation before importing'}\r\n                  {step === 'importing' && 'Importing and analyzing with AI...'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button onClick={handleClose} className=\"w-8 h-8 rounded-lg flex items-center justify-center text-slate-400 hover:bg-white/10 transition-colors\">\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Step: Input */}\r\n        {step === 'input' && (\r\n          <>\r\n            {/* Input tabs */}\r\n            <div className=\"flex px-5 border-b border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)' }}>\r\n              {[\r\n                { key: 'paste' as InputTab, label: 'Paste Text' },\r\n                { key: 'upload' as InputTab, label: 'Upload File' },\r\n              ].map(t => (\r\n                <button key={t.key} onClick={() => setInputTab(t.key)}\r\n                  className={cn('px-4 py-2.5 text-xs font-medium border-b-2 transition-colors',\r\n                    inputTab === t.key ? 'border-blue-500 text-blue-400' : 'border-transparent text-slate-400 hover:text-slate-200')}>\r\n                  {t.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n              {/* Format Selection */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Format</label>\r\n                  <select value={formatHint} onChange={e => setFormatHint(e.target.value)}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\">\r\n                    {formatOptions.map(f => <option key={f.value} value={f.value}>{f.label}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Title (optional)</label>\r\n                  <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Auto-generated by AI\"\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Channel name (optional)</label>\r\n                  <input value={channelName} onChange={e => setChannelName(e.target.value)} placeholder=\"e.g. #project-alpha\"\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Document date (optional)</label>\r\n                  <input type=\"date\" value={documentDate} onChange={e => setDocumentDate(e.target.value)}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\r\n                </div>\r\n              </div>\r\n\r\n              {inputTab === 'paste' && (\r\n                <div>\r\n                  <label className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider\">Conversation text *</label>\r\n                  <textarea value={text} onChange={e => setText(e.target.value)}\r\n                    rows={12} placeholder={`Paste your exported conversation here...\\n\\nSupported formats:\\n- WhatsApp: [31/01/2026, 10:00] John: Hello!\\n- Slack: john [10:00 AM] Hello!\\n- Discord: john â€” 01/31/2026 10:00 AM Hello!\\n- Teams: john 10:00 AM Hello!\\n- Generic: [10:00] john: Hello!`}\r\n                    className=\"mt-1 w-full bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gm-border-focus resize-y font-mono leading-relaxed\" />\r\n                </div>\r\n              )}\r\n\r\n              {inputTab === 'upload' && (\r\n                <div>\r\n                  <div className=\"border-2 border-dashed border-gm-border-primary rounded-xl p-12 text-center hover:border-blue-600/30 transition-colors cursor-pointer bg-[var(--gm-surface-hover)]\"\r\n                    onClick={() => fileRef.current?.click()}\r\n                    onDragOver={e => e.preventDefault()}\r\n                    onDrop={e => { e.preventDefault(); if (e.dataTransfer.files[0]) handleFileRead(e.dataTransfer.files[0]); }}>\r\n                    <Paperclip className=\"w-12 h-12 mx-auto mb-3 text-gray-600\" />\r\n                    <p className=\"text-sm font-medium text-gm-interactive-primary\">Drop conversation file here</p>\r\n                    <p className=\"text-xs text-gm-text-tertiary mt-1\">or click to browse &middot; .txt, .chat, .log</p>\r\n                    <input ref={fileRef} type=\"file\" className=\"hidden\" accept=\".txt,.chat,.log,.text\" onChange={e => {\r\n                      if (e.target.files?.[0]) handleFileRead(e.target.files[0]);\r\n                    }} />\r\n                  </div>\r\n                  {fileName && (\r\n                    <div className=\"flex items-center gap-3 mt-4 p-3 bg-gm-surface-secondary rounded-lg border border-gm-border-primary\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-blue-600/10 flex items-center justify-center\">\r\n                        <FileText className=\"w-5 h-5 text-gm-interactive-primary\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <span className=\"text-sm font-medium text-gm-text-primary\">{fileName}</span>\r\n                        <p className=\"text-[10px] text-gm-text-tertiary\">{text.length.toLocaleString()} characters loaded</p>\r\n                      </div>\r\n                      <button onClick={() => { setText(''); setFileName(''); }} className=\"text-gm-text-tertiary hover:text-gm-status-danger text-lg\">&times;</button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input type=\"checkbox\" id=\"skipAI\" checked={skipAI} onChange={e => setSkipAI(e.target.checked)}\r\n                  className=\"rounded border-gm-border-primary\" />\r\n                <label htmlFor=\"skipAI\" className=\"text-xs text-gm-text-tertiary\">Skip AI processing (faster import, no entity extraction)</label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-end gap-2 px-5 py-3 border-t border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)', backgroundColor: 'var(--gm-surface-secondary)' }}>\r\n              <button onClick={handleClose} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                Cancel\r\n              </button>\r\n              <button onClick={handleParse} disabled={parseConversation.isPending || !text.trim()}\r\n                className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors\">\r\n                {parseConversation.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <FileText className=\"w-4 h-4\" />}\r\n                Preview & Parse\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Step: Preview */}\r\n        {step === 'preview' && previewData && (\r\n          <>\r\n            <div className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n              {/* Parse Results */}\r\n              <div className=\"bg-[var(--gm-status-success-bg)] border border-green-500/20 rounded-xl p-4\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <CheckCircle className=\"w-4 h-4 text-gm-status-success\" />\r\n                  <span className=\"text-xs font-semibold text-gm-status-success\">Parsed Successfully</span>\r\n                </div>\r\n                <div className=\"grid grid-cols-4 gap-3\">\r\n                  <StatBox label=\"Format\" value={String(previewData.format || 'auto')} icon={MessageSquare} />\r\n                  <StatBox label=\"Confidence\" value={`${Math.round(Number(previewData.confidence || 0) * 100)}%`} icon={Sparkles} />\r\n                  <StatBox label=\"Messages\" value={String(stats?.messageCount || 0)} icon={Hash} />\r\n                  <StatBox label=\"Participants\" value={String((stats?.participants as unknown[])?.length || 0)} icon={Users} />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Warnings */}\r\n              {warnings.length > 0 && (\r\n                <div className=\"bg-[var(--gm-status-warning-bg)] border border-yellow-500/20 rounded-xl p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <AlertTriangle className=\"w-4 h-4 text-gm-status-warning\" />\r\n                    <span className=\"text-xs font-semibold text-gm-status-warning\">Warnings</span>\r\n                  </div>\r\n                  <ul className=\"space-y-1\">\r\n                    {warnings.map((w, i) => <li key={i} className=\"text-xs text-gm-status-warning\">{w}</li>)}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Participants */}\r\n              {stats?.participants && (\r\n                <div>\r\n                  <h4 className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                    <Users className=\"w-3.5 h-3.5\" /> Participants\r\n                  </h4>\r\n                  <div className=\"flex flex-wrap gap-1.5\">\r\n                    {(stats.participants as string[]).map((p, i) => (\r\n                      <span key={i} className=\"text-xs px-2.5 py-1 rounded-lg bg-gm-surface-secondary text-gm-text-primary border border-gm-border-primary\">{p}</span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Date Range */}\r\n              {stats?.dateRange && (\r\n                <div className=\"flex items-center gap-2 text-xs text-gm-text-tertiary\">\r\n                  <Calendar className=\"w-3.5 h-3.5\" />\r\n                  <span>\r\n                    {String((stats.dateRange as Record<string, unknown>)?.first || '').split('T')[0]}\r\n                    {' â†’ '}\r\n                    {String((stats.dateRange as Record<string, unknown>)?.last || '').split('T')[0]}\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Message Preview */}\r\n              {messagesPreview.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-[10px] font-semibold text-gm-text-tertiary uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                    <MessageSquare className=\"w-3.5 h-3.5\" /> Message Preview ({messagesPreview.length}{previewData.hasMore ? '+' : ''})\r\n                  </h4>\r\n                  <div className=\"bg-gm-surface-secondary rounded-xl p-3 space-y-2 max-h-64 overflow-y-auto\">\r\n                    {messagesPreview.map((msg, i) => (\r\n                      <div key={i} className=\"flex gap-2\">\r\n                        <span className=\"text-[10px] font-semibold text-gm-interactive-primary min-w-[80px] truncate\">{String(msg.speaker || msg.sender || 'Unknown')}</span>\r\n                        <span className=\"text-[10px] text-gm-text-secondary flex-1\">{String(msg.text || msg.content || '').substring(0, 200)}</span>\r\n                      </div>\r\n                    ))}\r\n                    {previewData.hasMore && (\r\n                      <p className=\"text-[10px] text-gm-text-tertiary text-center italic pt-1\">... more messages not shown in preview</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex items-center justify-between gap-2 px-5 py-3 border-t border-[var(--gm-border-primary)] shrink-0\" style={{ borderColor: 'var(--gm-border-primary)', backgroundColor: 'var(--gm-surface-secondary)' }}>\r\n              <button onClick={() => setStep('input')} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                Back\r\n              </button>\r\n              <div className=\"flex gap-2\">\r\n                <button onClick={handleClose} className=\"px-4 py-2 rounded-lg text-slate-300 text-sm font-medium hover:bg-white/10 border border-white/20 transition-colors\">\r\n                  Cancel\r\n                </button>\r\n                <button onClick={handleImport}\r\n                  className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 transition-colors\">\r\n                  <Upload className=\"w-4 h-4\" /> Import{!skipAI && ' & Analyze with AI'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Step: Importing */}\r\n        {step === 'importing' && (\r\n          <div className=\"flex flex-col items-center justify-center h-64 gap-4 bg-[var(--gm-surface-primary)]\" style={{ backgroundColor: 'var(--gm-surface-primary)' }}>\r\n            <Loader2 className=\"w-10 h-10 animate-spin text-blue-400\" />\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm font-medium text-[var(--gm-text-primary)]\">Importing conversation...</p>\r\n              {!skipAI && <p className=\"text-xs text-slate-400 mt-1\">AI is analyzing content, extracting entities, and generating summary</p>}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction StatBox({ label, value, icon: Icon }: { label: string; value: string; icon: typeof MessageSquare }) {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <Icon className=\"w-4 h-4 mx-auto mb-1 text-gm-text-tertiary\" />\r\n      <p className=\"text-sm font-bold text-gm-text-primary capitalize\">{value}</p>\r\n      <p className=\"text-[10px] text-gm-text-tertiary\">{label}</p>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useMemo } from 'react';\nimport {\n  MessageSquare, Loader2, Search, Upload, RotateCw,\n  Users, Hash, Clock, CheckCircle, AlertCircle,\n  Sparkles, BarChart3, Trash2,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport {\n  useConversations, useConversationsStats, useDeleteConversation,\n  useReembedConversation,\n} from '../hooks/useGodMode';\nimport { cn } from '../lib/utils';\nimport ConversationDetail from '../components/conversations/ConversationDetail';\nimport ConversationImportModal from '../components/conversations/ConversationImportModal';\nimport { ErrorState } from '../components/shared/ErrorState';\n\nconst sourceLabels: Record<string, string> = {\n  whatsapp: 'WhatsApp', slack: 'Slack', teams: 'Teams',\n  discord: 'Discord', zoom: 'Zoom', telegram: 'Telegram',\n};\n\nconst sourceColors: Record<string, string> = {\n  whatsapp: 'bg-green-500/10 text-green-500',\n  slack: 'bg-purple-500/10 text-purple-500',\n  teams: 'bg-blue-500/10 text-blue-500',\n  discord: 'bg-indigo-500/10 text-indigo-500',\n  zoom: 'bg-sky-500/10 text-sky-500',\n  telegram: 'bg-cyan-500/10 text-cyan-500',\n};\n\nexport default function ConversationsPage() {\n  const [search, setSearch] = useState('');\n  const [sourceFilter, setSourceFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState<'' | 'embedded' | 'not_embedded' | 'ai_processed'>('');\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [showImport, setShowImport] = useState(false);\n\n  const conversations = useConversations({ search: search || undefined, sourceApp: sourceFilter || undefined });\n  const statsQuery = useConversationsStats();\n  const deleteConversation = useDeleteConversation();\n  const reembed = useReembedConversation();\n\n  const convList = useMemo(() => {\n    const raw = (conversations.data as Record<string, unknown>)?.conversations ?? [];\n    return (Array.isArray(raw) ? raw : []) as Array<Record<string, unknown>>;\n  }, [conversations.data]);\n\n  const filtered = useMemo(() => {\n    return convList.filter(c => {\n      if (statusFilter === 'embedded' && !c.is_embedded && !c.isEmbedded) return false;\n      if (statusFilter === 'not_embedded' && (c.is_embedded || c.isEmbedded)) return false;\n      if (statusFilter === 'ai_processed' && !c.aiProcessedAt) return false;\n      return true;\n    });\n  }, [convList, statusFilter]);\n\n  const stats = statsQuery.data as Record<string, unknown> | undefined;\n  const bySource = (stats?.bySource || {}) as Record<string, number>;\n\n  // Detail view (replaces list)\n  if (selectedId) {\n    return (\n      <>\n        <ConversationDetail\n          conversationId={selectedId}\n          onBack={() => setSelectedId(null)}\n        />\n        <ConversationImportModal open={showImport} onClose={() => setShowImport(false)} />\n      </>\n    );\n  }\n\n  const handleDelete = (e: React.MouseEvent, id: string) => {\n    e.stopPropagation();\n    if (!confirm('Delete this conversation?')) return;\n    deleteConversation.mutate(id, {\n      onSuccess: () => toast.success('Conversation deleted'),\n      onError: () => toast.error('Failed to delete'),\n    });\n  };\n\n  const handleReembed = (e: React.MouseEvent, id: string) => {\n    e.stopPropagation();\n    reembed.mutate(id, {\n      onSuccess: () => toast.success('Re-embedding started'),\n      onError: () => toast.error('Failed to re-embed'),\n    });\n  };\n\n  const statCards = [\n    { label: 'Total', value: stats?.total ?? convList.length, color: 'text-gm-text-primary', icon: MessageSquare },\n    { label: 'Messages', value: stats?.totalMessages ?? 0, color: 'text-gm-interactive-primary', icon: Hash },\n    { label: 'Sources', value: Object.keys(bySource).length, color: 'text-purple-500', icon: BarChart3 },\n    { label: 'Embedded', value: filtered.filter(c => c.is_embedded || c.isEmbedded).length, color: 'text-gm-status-success', icon: CheckCircle },\n  ];\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gm-text-primary\">Conversations</h1>\n          <p className=\"text-xs text-gm-text-tertiary mt-0.5\">{filtered.length} conversation{filtered.length !== 1 ? 's' : ''}</p>\n        </div>\n        <button onClick={() => setShowImport(true)}\n          className=\"px-4 py-2 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-sm font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-2 transition-colors\">\n          <Upload className=\"w-4 h-4\" /> Import Conversation\n        </button>\n      </div>\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"grid grid-cols-4 gap-3\">\n          {statCards.map(s => {\n            const Icon = s.icon;\n            return (\n              <div key={s.label} className=\"bg-gm-surface-primary border border-gm-border-primary rounded-xl px-4 py-3 flex items-center gap-3 hover:border-blue-600/20 transition-colors\">\n                <div className={cn('w-9 h-9 rounded-lg flex items-center justify-center',\n                  s.label === 'Total' ? 'bg-gm-surface-secondary' :\n                  s.label === 'Messages' ? 'bg-blue-600/10' :\n                  s.label === 'Sources' ? 'bg-purple-500/10' : 'bg-green-500/10')}>\n                  <Icon className={cn('w-4.5 h-4.5', s.color)} />\n                </div>\n                <div>\n                  <span className={cn('text-xl font-bold', s.color)}>{String(s.value)}</span>\n                  <p className=\"text-[10px] text-gm-text-tertiary uppercase tracking-wider\">{s.label}</p>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Source breakdown */}\n      {Object.keys(bySource).length > 0 && (\n        <div className=\"flex gap-2 flex-wrap\">\n          {Object.entries(bySource).map(([source, count]) => (\n            <button key={source} onClick={() => setSourceFilter(sourceFilter === source ? '' : source)}\n              className={cn('text-[10px] px-3 py-1.5 rounded-lg font-medium border transition-colors flex items-center gap-1.5',\n                sourceFilter === source\n                  ? (sourceColors[source] || 'bg-blue-600/10 text-gm-interactive-primary') + ' border-current/20'\n                  : 'bg-gm-surface-secondary text-gm-text-tertiary border-gm-border-primary hover:text-gm-text-primary')}>\n              {sourceLabels[source] || source} <span className=\"opacity-60\">{count}</span>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        <div className=\"relative flex-1 max-w-sm\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gm-text-tertiary\" />\n          <input value={search} onChange={e => setSearch(e.target.value)} placeholder=\"Search conversations...\"\n            className=\"w-full pl-9 pr-3 py-2 bg-gm-surface-secondary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\" />\n        </div>\n\n        <select value={sourceFilter} onChange={e => setSourceFilter(e.target.value)}\n          className=\"bg-gm-surface-secondary border border-gm-border-primary rounded-lg px-3 py-2 text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus\">\n          <option value=\"\">All sources</option>\n          {Object.entries(sourceLabels).map(([k, v]) => <option key={k} value={k}>{v}</option>)}\n        </select>\n\n        {[\n          { key: 'embedded', label: 'Embedded', icon: CheckCircle, activeColor: 'bg-gm-status-success-bg border-green-500/30 text-gm-status-success' },\n          { key: 'not_embedded', label: 'Not Embedded', icon: AlertCircle, activeColor: 'bg-gm-status-warning-bg border-yellow-500/30 text-gm-status-warning' },\n          { key: 'ai_processed', label: 'AI Processed', icon: Sparkles, activeColor: 'bg-blue-600/10 border-blue-600/30 text-gm-interactive-primary' },\n        ].map(f => {\n          const FIcon = f.icon;\n          const isActive = statusFilter === f.key;\n          return (\n            <button key={f.key} onClick={() => setStatusFilter(isActive ? '' : f.key as typeof statusFilter)}\n              className={cn('px-2.5 py-2 rounded-lg text-xs font-medium transition-colors border flex items-center gap-1.5',\n                isActive ? f.activeColor : 'bg-gm-surface-secondary border-gm-border-primary text-gm-text-tertiary hover:text-gm-text-primary')}>\n              <FIcon className=\"w-3.5 h-3.5\" /> {f.label}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* List */}\n      {conversations.error ? (\n        <ErrorState message=\"Failed to load conversations.\" onRetry={() => conversations.refetch()} />\n      ) : conversations.isLoading ? (\n        <div className=\"flex items-center justify-center h-32\"><Loader2 className=\"h-8 w-8 animate-spin text-gm-interactive-primary\" /></div>\n      ) : filtered.length === 0 ? (\n        <div className=\"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary\">\n          <MessageSquare className=\"h-12 w-12 mx-auto mb-4 text-gray-500\" />\n          {convList.length === 0 ? \"No conversations imported yet. Click 'Import Conversation' to get started.\" : 'No conversations match your filters.'}\n        </div>\n      ) : (\n        <div className=\"space-y-1.5\">\n          {filtered.map((conv) => {\n            const participantCount = (conv.participants as unknown[])?.length ?? conv.participant_count ?? 0;\n            const messageCount = conv.messageCount ?? conv.message_count ?? conv.messages_count ?? 0;\n            const isEmbedded = !!(conv.is_embedded || conv.isEmbedded);\n            const hasAi = !!conv.aiProcessedAt;\n            const sourceApp = String(conv.sourceApp || conv.source_app || '');\n            const summary = String(conv.summary || '');\n            const dateRange = conv.dateRange as Record<string, unknown> | undefined;\n\n            return (\n              <div key={String(conv.id)}\n                className=\"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-3.5 hover:border-blue-600/30 transition-all cursor-pointer group\"\n                onClick={() => setSelectedId(String(conv.id))}>\n                <div className=\"flex items-center gap-3\">\n                  {/* Source icon */}\n                  <div className={cn('w-10 h-10 rounded-lg flex items-center justify-center shrink-0',\n                    sourceColors[sourceApp] || 'bg-blue-600/10 text-gm-interactive-primary')}>\n                    <MessageSquare className=\"w-5 h-5\" />\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gm-text-primary truncate group-hover:text-gm-interactive-primary transition-colors\">\n                      {String(conv.title || conv.name || 'Untitled Conversation')}\n                    </p>\n                    <div className=\"flex items-center gap-3 mt-0.5\">\n                      {sourceApp && (\n                        <span className={cn('text-[10px] px-2 py-0.5 rounded-full font-medium',\n                          sourceColors[sourceApp] || 'bg-gm-surface-secondary text-gm-text-tertiary')}>\n                          {sourceLabels[sourceApp] || sourceApp}\n                        </span>\n                      )}\n                      <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                        <Users className=\"w-3 h-3\" /> {String(participantCount)}\n                      </span>\n                      <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                        <Hash className=\"w-3 h-3\" /> {String(messageCount)} msgs\n                      </span>\n                      {dateRange?.first && (\n                        <span className=\"text-[10px] text-gm-text-tertiary flex items-center gap-0.5\">\n                          <Clock className=\"w-3 h-3\" /> {String(dateRange.first).split('T')[0]}\n                        </span>\n                      )}\n                    </div>\n                    {summary && (\n                      <p className=\"text-[10px] text-gray-400 mt-0.5 truncate\">{summary.substring(0, 120)}</p>\n                    )}\n                  </div>\n\n                  {/* Badges & Actions */}\n                  <div className=\"flex items-center gap-2 flex-shrink-0\">\n                    {isEmbedded ? (\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-success-bg text-gm-status-success font-medium flex items-center gap-1\">\n                        <CheckCircle className=\"w-3 h-3\" /> Embedded\n                      </span>\n                    ) : (\n                      <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-warning-bg text-gm-status-warning font-medium flex items-center gap-1\">\n                        <AlertCircle className=\"w-3 h-3\" /> Not embedded\n                      </span>\n                    )}\n                    {hasAi && (\n                      <Sparkles className=\"w-3.5 h-3.5 text-blue-500\" />\n                    )}\n                    <button onClick={(e) => handleReembed(e, String(conv.id))}\n                      className=\"w-7 h-7 rounded-lg hover:bg-gm-surface-hover flex items-center justify-center text-gm-text-tertiary hover:text-gm-interactive-primary transition-colors opacity-0 group-hover:opacity-100\"\n                      title=\"Re-embed\">\n                      <RotateCw className=\"w-3.5 h-3.5\" />\n                    </button>\n                    <button onClick={(e) => handleDelete(e, String(conv.id))}\n                      className=\"w-7 h-7 rounded-lg hover:bg-gm-status-danger-bg flex items-center justify-center text-gm-text-tertiary hover:text-gm-status-danger transition-colors opacity-0 group-hover:opacity-100\"\n                      title=\"Delete\">\n                      <Trash2 className=\"w-3.5 h-3.5\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Import Modal */}\n      <ConversationImportModal\n        open={showImport}\n        onClose={() => setShowImport(false)}\n      />\n    </div>\n  );\n}\n"],"names":["__iconNode","Hash","createLucideIcon","CARD","BTN_DANGER","BTN_SECONDARY","sourceColors","sourceLabels","ConversationDetail","conversationId","onBack","tab","setTab","useState","editingTitle","setEditingTitle","titleDraft","setTitleDraft","messageSearch","setMessageSearch","confirmDelete","setConfirmDelete","detail","useConversationDetail","deleteConv","useDeleteConversation","reembed","useReembedConversation","updateConv","useUpdateConversation","summarize","useSummarizeConversation","useEffect","conversation","title","summary","sourceApp","channelName","workspaceName","participants","messageCount","messages","dateRange","importedAt","isEmbedded","aiProcessedAt","extraction","facts","decisions","risks","actionItems","questions","entities","relationships","extractedParticipants","hasKnowledge","hasEntities","hasPeople","filteredMessages","useMemo","q","m","participantColors","colors","map","name","i","handleDelete","toast","handleReembed","handleSaveTitle","handleSummarize","tabs","MessageSquare","Brain","BookOpen","Cpu","Contact","jsxs","jsx","ArrowLeft","Loader2","Fragment","cn","e","Save","X","Edit3","Users","Clock","CheckCircle","Sparkles","RotateCw","Icon","msg","sender","initial","text","time","colorClass","MetadataCard","p","KnowledgeSection","Lightbulb","f","a","d","AlertTriangle","r","HelpCircle","Link2","avatarSrc","resolveAvatarUrl","isValidAvatarUrl","getInitials","msgCount","Trash2","CommentsPanel","label","children","color","count","formatOptions","ConversationImportModal","open","onClose","step","setStep","inputTab","setInputTab","setText","formatHint","setFormatHint","setTitle","setChannelName","documentDate","setDocumentDate","skipAI","setSkipAI","fileName","setFileName","previewData","setPreviewData","fileRef","useRef","parseConversation","useParseConversation","importConversation","useImportConversation","handleClose","handleFileRead","useCallback","file","reader","handleParse","data","handleImport","result","stats","messagesPreview","warnings","Dialog","o","DialogContent","DialogTitle","Upload","t","Paperclip","FileText","StatBox","w","Calendar","value","ConversationsPage","search","setSearch","sourceFilter","setSourceFilter","statusFilter","setStatusFilter","selectedId","setSelectedId","showImport","setShowImport","conversations","useConversations","statsQuery","useConversationsStats","deleteConversation","convList","raw","filtered","c","bySource","id","statCards","BarChart3","source","Search","k","v","AlertCircle","FIcon","isActive","ErrorState","conv","participantCount","hasAi"],"mappings":"6yCASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,GAAI,IAAK,GAAI,KAAM,GAAI,IAAK,GAAI,IAAK,IAAK,QAAQ,CAAE,EAC/D,CAAC,OAAQ,CAAE,GAAI,IAAK,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,IAAK,QAAQ,CAAE,EACjE,CAAC,OAAQ,CAAE,GAAI,KAAM,GAAI,IAAK,GAAI,IAAK,GAAI,KAAM,IAAK,QAAQ,CAAE,EAChE,CAAC,OAAQ,CAAE,GAAI,KAAM,GAAI,KAAM,GAAI,IAAK,GAAI,KAAM,IAAK,QAAQ,CAAE,CACnE,EACMC,EAAOC,GAAiB,OAAQF,EAAU,ECE1CG,GAAO,2IACPC,GAAa,mNACbC,GAAgB,uQAEhBC,GAAuC,CAC3C,SAAU,qDACV,MAAO,wDACP,MAAO,kDACP,QAAS,wDACT,KAAM,+CACN,SAAU,iDACZ,EAEMC,GAAuC,CAC3C,SAAU,WAAY,MAAO,QAAS,MAAO,QAC7C,QAAS,UAAW,KAAM,OAAQ,SAAU,UAC9C,EAOA,SAAwBC,GAAmB,CAAE,eAAAC,EAAgB,OAAAC,GAAiB,CAC5E,KAAM,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAc,UAAU,EACxC,CAACC,EAAcC,CAAe,EAAIF,EAAAA,SAAS,EAAK,EAChD,CAACG,EAAYC,CAAa,EAAIJ,EAAAA,SAAS,EAAE,EACzC,CAACK,EAAeC,CAAgB,EAAIN,EAAAA,SAAS,EAAE,EAC/C,CAACO,EAAeC,CAAgB,EAAIR,EAAAA,SAAS,EAAK,EAElDS,EAASC,GAAsBd,CAAc,EAC7Ce,EAAaC,GAAA,EACbC,EAAUC,GAAA,EACVC,EAAaC,GAAA,EACbC,EAAYC,GAAA,EAGlBC,EAAAA,UAAU,IAAM,CACdpB,EAAO,UAAU,EACjBG,EAAgB,EAAK,EACrBE,EAAc,EAAE,EAChBE,EAAiB,EAAE,EACnBE,EAAiB,EAAK,CACxB,EAAG,CAACZ,CAAc,CAAC,EAEnB,MAAMwB,EAAgBX,EAAO,MAAkC,aAEzDY,EAAQ,OAAOD,GAAc,OAASA,GAAc,MAAQ,uBAAuB,EACnFE,EAAU,OAAOF,GAAc,SAAW,EAAE,EAC5CG,EAAY,OAAOH,GAAc,WAAaA,GAAc,YAAc,EAAE,EAC5EI,EAAc,OAAOJ,GAAc,aAAeA,GAAc,cAAgB,EAAE,EAClFK,EAAgB,OAAOL,GAAc,eAAiBA,GAAc,gBAAkB,EAAE,EACxFM,EAAgBN,GAAc,cAAgB,CAAA,EAC9CO,EAAe,OAAOP,GAAc,cAAgBA,GAAc,eAAiB,CAAC,EACpFQ,EAAYR,GAAc,UAAY,CAAA,EACtCS,EAAYT,GAAc,UAC1BU,EAAaV,GAAc,WAAa,IAAI,KAAK,OAAOA,EAAa,UAAU,CAAC,EAAE,eAAA,EAAmB,GACrGW,EAAa,CAAC,EAAEX,GAAc,aAAeA,GAAc,YAC3DY,EAAgBZ,GAAc,cAAgB,IAAI,KAAK,OAAOA,EAAa,aAAa,CAAC,EAAE,eAAA,EAAmB,GAE9Ga,EAAcb,GAAc,mBAAqBA,GAAc,mBAAqB,CAAA,EACpFc,EAASD,EAAW,OAAS,CAAA,EAC7BE,EAAaF,EAAW,WAAa,CAAA,EACrCG,EAASH,EAAW,OAAS,CAAA,EAC7BI,EAAeJ,EAAW,aAAe,CAAA,EACzCK,EAAaL,EAAW,WAAa,CAAA,EACrCM,EAAYN,EAAW,UAAYb,GAAc,mBAAqB,CAAA,EACtEoB,EAAiBP,EAAW,eAAiBb,GAAc,wBAA0B,CAAA,EACrFqB,GAAyBR,EAAW,cAAgB,CAAA,EAEpDS,GAAeR,EAAM,OAASC,EAAU,OAASC,EAAM,OAASC,EAAY,OAASC,EAAU,OAAS,EACxGK,GAAcJ,EAAS,OAASC,EAAc,OAAS,EACvDI,GAAYH,GAAsB,OAAS,GAAKf,EAAa,OAAS,EAEtEmB,GAAmBC,EAAAA,QAAQ,IAAM,CACrC,GAAI,CAACzC,EAAc,KAAA,EAAQ,OAAOuB,EAClC,MAAMmB,EAAI1C,EAAc,YAAA,EACxB,OAAOuB,EAAS,OAAOoB,GACrB,OAAOA,EAAE,MAAQA,EAAE,SAAWA,EAAE,MAAQ,EAAE,EAAE,YAAA,EAAc,SAASD,CAAC,GACpE,OAAOC,EAAE,SAAWA,EAAE,QAAUA,EAAE,QAAU,EAAE,EAAE,YAAA,EAAc,SAASD,CAAC,CAAA,CAE5E,EAAG,CAACnB,EAAUvB,CAAa,CAAC,EAEtB4C,GAAoBH,EAAAA,QAAQ,IAAM,CACtC,MAAMI,EAAS,CACb,+BAAgC,iCAAkC,mCAClE,mCAAoC,+BAAgC,+BACpE,mCAAoC,4BAAA,EAEhCC,EAA8B,CAAA,EAEpC,MADoB,CAAC,GAAG,IAAI,IAAIvB,EAAS,IAAIoB,GAAK,OAAOA,EAAE,SAAWA,EAAE,QAAUA,EAAE,QAAU,SAAS,CAAC,CAAC,CAAC,EAC9F,QAAQ,CAACI,EAAMC,IAAM,CAAEF,EAAIC,CAAI,EAAIF,EAAOG,EAAIH,EAAO,MAAM,CAAG,CAAC,EACpEC,CACT,EAAG,CAACvB,CAAQ,CAAC,EAEP0B,GAAe,IAAM,CACzB3C,EAAW,OAAOf,EAAgB,CAChC,UAAW,IAAM,CAAE2D,EAAM,QAAQ,sBAAsB,EAAG1D,EAAA,CAAU,EACpE,QAAS,IAAM0D,EAAM,MAAM,kBAAkB,CAAA,CAC9C,CACH,EAEMC,GAAgB,IAAM,CAC1B3C,EAAQ,OAAOjB,EAAgB,CAC7B,UAAW,IAAM2D,EAAM,QAAQ,sBAAsB,EACrD,QAAS,IAAMA,EAAM,MAAM,oBAAoB,CAAA,CAChD,CACH,EAEME,GAAkB,IAAM,CACvBtD,EAAW,QAChBY,EAAW,OAAO,CAAE,GAAInB,EAAgB,KAAM,CAAE,MAAOO,EAAW,KAAA,CAAK,GAAO,CAC5E,UAAW,IAAM,CAAEoD,EAAM,QAAQ,eAAe,EAAGrD,EAAgB,EAAK,CAAG,EAC3E,QAAS,IAAMqD,EAAM,MAAM,wBAAwB,CAAA,CACpD,CACH,EAEMG,GAAkB,IAAM,CAC5BzC,EAAU,OAAOrB,EAAgB,CAC/B,UAAW,IAAM2D,EAAM,QAAQ,mBAAmB,EAClD,QAAS,IAAMA,EAAM,MAAM,4BAA4B,CAAA,CACxD,CACH,EAEMI,GAA+F,CACnG,CAAE,IAAK,WAAY,MAAO,WAAY,KAAMC,EAAe,MAAOjC,CAAA,EAClE,CAAE,IAAK,UAAW,MAAO,UAAW,KAAMkC,EAAA,EAC1C,CAAE,IAAK,YAAa,MAAO,YAAa,KAAMC,GAAU,MAAO5B,EAAM,OAASC,EAAU,OAASE,EAAY,OAASD,EAAM,OAASE,EAAU,OAAQ,OAAQ,CAACI,EAAA,EAChK,CAAE,IAAK,WAAY,MAAO,WAAY,KAAMqB,GAAK,MAAOxB,EAAS,OAASC,EAAc,OAAQ,OAAQ,CAACG,EAAA,EACzG,CAAE,IAAK,SAAU,MAAO,SAAU,KAAMqB,GAAS,MAAOpB,GAAaH,GAAsB,QAAUf,EAAa,OAAU,EAAG,OAAQ,CAACkB,EAAA,CAAU,EAGpJ,OACEqB,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAO,QAASpE,EAAQ,UAAU,8HACjC,SAAA,CAAAqE,EAAAA,IAACC,GAAA,CAAU,UAAU,aAAA,CAAc,EAAE,wBAAA,EACvC,EAEAF,EAAAA,KAAC,MAAA,CAAI,UAAW3E,GACb,SAAA,CAAAmB,EAAO,iBACL,MAAA,CAAI,UAAU,wCACb,SAAAyD,EAAAA,IAACE,EAAA,CAAQ,UAAU,sDAAA,CAAuD,CAAA,CAC5E,EAGD,CAAC3D,EAAO,WAAa,CAACW,GACrB8C,EAAAA,IAAC,MAAA,CAAI,UAAU,+EAA+E,SAAA,yBAAA,CAAuB,EAGtH,CAACzD,EAAO,WAAaW,GACpB6C,EAAAA,KAAAI,EAAAA,SAAA,CAEE,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,mBAAmB,MAAO,CAAE,WAAY,uEAAA,EACrD,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAC,MAAC,OAAI,UAAWI,EAAG,wEACjB7E,GAAa8B,CAAS,GAAK,oBAAA,EAAuB,MAAO,CAAE,gBAAiB9B,GAAa8B,CAAS,EAAI,OAAY,sBAAA,EAClH,SAAA2C,EAAAA,IAACN,EAAA,CAAc,UAAU,UAAU,EACrC,EACAK,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACZ,SAAA,CAAAhE,EACCgE,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,MAAO/D,EAAY,SAAUoE,GAAKnE,EAAcmE,EAAE,OAAO,KAAK,EACnE,UAAU,4MACV,UAAS,GAAC,UAAWA,GAAKA,EAAE,MAAQ,SAAWd,GAAA,CAAgB,CAAA,EACjES,EAAAA,IAAC,SAAA,CAAO,QAAST,GAAiB,UAAU,sCAAsC,SAAAS,EAAAA,IAACM,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAE,EAC9GN,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAMhE,EAAgB,EAAK,EAAG,UAAU,qEAAqE,SAAAgE,EAAAA,IAACO,GAAA,CAAE,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CACzJ,EAEAR,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6EAA8E,SAAA7C,EAAM,EAClG6C,MAAC,SAAA,CAAO,QAAS,IAAM,CAAE9D,EAAciB,CAAK,EAAGnB,EAAgB,EAAI,CAAG,EAAG,UAAU,uFACjF,eAACwE,GAAA,CAAM,UAAU,cAAc,CAAA,CACjC,CAAA,EACF,EAEFT,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACZ,SAAA,CAAA1C,GAAa2C,EAAAA,IAAC,OAAA,CAAK,UAAWI,EAAG,0DAA2D7E,GAAa8B,CAAS,GAAK,6FAA6F,EAAI,SAAA7B,GAAa6B,CAAS,GAAKA,EAAU,EAC7PC,GAAeyC,EAAAA,KAAC,OAAA,CAAK,UAAU,iGAAiG,SAAA,CAAA,IAAEzC,CAAA,EAAY,EAC9IC,GAAiByC,EAAAA,IAAC,OAAA,CAAK,UAAU,6CAA8C,SAAAzC,EAAc,EAC9FwC,EAAAA,KAAC,OAAA,CAAK,UAAU,uEAAuE,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAM,UAAU,SAAA,CAAU,EAAE,IAAEjD,EAAa,MAAA,EAAO,EAC1IuC,EAAAA,KAAC,OAAA,CAAK,UAAU,uEAAuE,SAAA,CAAAC,EAAAA,IAAC9E,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,IAAEuC,EAAa,OAAA,EAAK,EACtIE,GAAW,OAASoC,OAAC,OAAA,CAAK,UAAU,uEAAuE,SAAA,CAAAC,EAAAA,IAACU,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,IAAE,OAAO/C,EAAU,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,CAAA,EAAE,EAChLE,EACCkC,EAAAA,KAAC,OAAA,CAAK,UAAU,4GAA4G,SAAA,CAAAC,EAAAA,IAACW,EAAA,CAAY,UAAU,SAAA,CAAU,EAAE,WAAA,EAAS,EAExKX,EAAAA,IAAC,OAAA,CAAK,UAAU,oFAAoF,SAAA,eAAY,EAEjHlC,GAAiBiC,EAAAA,KAAC,OAAA,CAAK,UAAU,8FAA8F,SAAA,CAAAC,EAAAA,IAACY,EAAA,CAAS,UAAU,SAAA,CAAU,EAAE,eAAA,CAAA,CAAa,CAAA,CAAA,CAC/K,CAAA,EACF,EACAZ,EAAAA,IAAC,MAAA,CAAI,UAAU,mCACb,SAAAA,EAAAA,IAAC,SAAA,CAAO,QAASV,GAAe,SAAU3C,EAAQ,UAAW,UAAU,qGAAqG,MAAM,WAC/K,SAAAA,EAAQ,UAAYqD,EAAAA,IAACE,EAAA,CAAQ,UAAU,sBAAA,CAAuB,EAAKF,EAAAA,IAACa,GAAA,CAAS,UAAU,SAAA,CAAU,CAAA,CACpG,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAb,EAAAA,IAAC,MAAA,CAAI,UAAU,6DACZ,SAAAP,GAAK,OAAO,GAAK,CAAC,EAAE,MAAM,EAAE,IAAI,GAAK,CACpC,MAAMqB,EAAO,EAAE,KACf,OACEf,EAAAA,KAAC,SAAA,CAAmB,QAAS,IAAMlE,EAAO,EAAE,GAAG,EAC7C,UAAWuE,EAAG,yFACZxE,IAAQ,EAAE,IAAM,oEAAsE,uFAAA,EACxF,SAAA,CAAAoE,EAAAA,IAACc,EAAA,CAAK,UAAU,aAAA,CAAc,EAAE,IAAE,EAAE,MACnC,EAAE,QAAU,QAAa,EAAE,MAAQ,GAClCd,EAAAA,IAAC,OAAA,CAAK,UAAU,mGAAoG,SAAA,EAAE,KAAA,CAAM,CAAA,CAAA,EALnH,EAAE,GAAA,CASnB,CAAC,CAAA,CACH,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACZ,SAAA,CAAAnE,IAAQ,YACPmE,EAAAA,KAAAI,EAAAA,SAAA,CACE,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,MAAO7D,EAAe,SAAUkE,GAAKjE,EAAiBiE,EAAE,OAAO,KAAK,EAAG,YAAY,qBACxF,UAAU,6MAAA,CAAA,EACZN,EAAAA,KAAC,OAAA,CAAK,UAAU,6CAA8C,SAAA,CAAApB,GAAiB,OAAO,IAAEjB,EAAS,MAAA,CAAA,CAAO,CAAA,EAC1G,EACCiB,GAAiB,SAAW,EAC3BoB,EAAAA,KAAC,IAAA,CAAE,UAAU,0DAA0D,SAAA,CAAA,eAAa5D,EAAgB,uBAAyB,YAAY,GAAA,CAAA,CAAC,QAEzI,MAAA,CAAI,UAAU,YACZ,SAAAwC,GAAiB,IAAI,CAACoC,EAAK5B,IAAM,CAChC,MAAM6B,EAAS,OAAOD,EAAI,SAAWA,EAAI,QAAUA,EAAI,QAAU,SAAS,EACpEE,EAAUD,EAAO,OAAO,CAAC,EAAE,YAAA,EAC3BE,EAAO,OAAOH,EAAI,MAAQA,EAAI,SAAWA,EAAI,MAAQ,EAAE,EACvDI,GAAOJ,EAAI,UAAY,IAAI,KAAK,OAAOA,EAAI,SAAS,CAAC,EAAE,eAAA,EAAmB,GAC1EK,GAAarC,GAAkBiC,CAAM,GAAK,iDAChD,OACEjB,EAAAA,KAAC,MAAA,CAAY,UAAU,mBACrB,SAAA,CAAAC,MAAC,OAAI,UAAWI,EAAG,4FAA6FgB,EAAU,EAAI,SAAAH,EAAQ,EACtIlB,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,sDAAuD,SAAAgB,EAAO,EAC7EG,IAAQnB,EAAAA,IAAC,OAAA,CAAK,UAAU,kGAAmG,SAAAmB,EAAA,CAAK,CAAA,EACnI,EACAnB,EAAAA,IAAC,IAAA,CAAE,UAAU,qFAAsF,SAAAkB,CAAA,CAAK,CAAA,CAAA,CAC1G,CAAA,CAAA,EARQ/B,CASV,CAEJ,CAAC,CAAA,CACH,CAAA,EAEJ,EAGDvD,IAAQ,WACPmE,OAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAA3C,EACC2C,EAAAA,KAAC,MAAA,CAAI,UAAU,kFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,sHACb,SAAA,CAAAC,EAAAA,IAACY,EAAA,CAAS,UAAU,aAAA,CAAc,EAAE,aAAA,EACtC,EACAZ,EAAAA,IAAC,IAAA,CAAE,UAAU,wDAAyD,SAAA5C,CAAA,CAAQ,CAAA,CAAA,CAChF,EAEA2C,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAACL,GAAA,CAAM,UAAU,uDAAA,CAAwD,EACzEK,EAAAA,IAAC,IAAA,CAAE,UAAU,8CAA8C,SAAA,+BAA4B,EACvFD,EAAAA,KAAC,SAAA,CAAO,QAASP,GAAiB,SAAUzC,EAAU,UACpD,UAAU,oOACT,SAAA,CAAAA,EAAU,gBAAamD,EAAA,CAAQ,UAAU,2BAA2B,EAAKF,EAAAA,IAACY,EAAA,CAAS,UAAU,aAAA,CAAc,EAAG,kBAAA,CAAA,CAAA,CAEjH,EACF,EAEFb,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAC,EAAAA,IAACqB,GAAA,CAAa,MAAM,eAAe,KAAMZ,EACvC,SAAAT,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACZ,SAAAxC,EAAa,IAAI,CAAC8D,EAAGnC,UAAO,OAAA,CAAa,UAAU,yIAA0I,SAAAmC,CAAA,EAAvJnC,CAAyJ,CAAO,CAAA,CACzM,CAAA,CACF,EACAa,EAAAA,IAACqB,IAAa,MAAM,aAAa,KAAMnG,EACrC,SAAA6E,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACb,SAAA,CAAAA,OAAC,IAAA,CAAG,SAAA,CAAAtC,EAAa,WAAA,EAAS,SACzB,IAAA,CAAG,SAAA,CAAAD,EAAa,OAAO,eAAA,EAAa,EACpCG,GAAW,OAASoC,EAAAA,KAAC,IAAA,CAAE,SAAA,CAAA,SAAO,OAAOpC,EAAU,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,CAAA,EAAE,EACpEA,GAAW,MAAQoC,EAAAA,KAAC,IAAA,CAAE,SAAA,CAAA,OAAK,OAAOpC,EAAU,IAAI,EAAE,MAAM,GAAG,EAAE,CAAC,CAAA,CAAA,CAAE,CAAA,CAAA,CACnE,CAAA,CACF,EACAqC,EAAAA,IAACqB,IAAa,MAAM,SAAS,KAAM3B,EACjC,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACZ,SAAA,CAAA1C,UAAc,IAAA,CAAE,SAAA,CAAA,aAAW7B,GAAa6B,CAAS,GAAKA,CAAA,EAAU,EAChEC,UAAgB,IAAA,CAAE,SAAA,CAAA,aAAWA,CAAA,EAAY,EACzCC,UAAkB,IAAA,CAAE,SAAA,CAAA,cAAYA,CAAA,EAAc,EAC9CK,UAAe,IAAA,CAAE,SAAA,CAAA,aAAWA,CAAA,CAAA,CAAW,CAAA,CAAA,CAC1C,CAAA,CACF,EACAoC,EAAAA,IAACqB,IAAa,MAAM,gBAAgB,KAAMT,EACxC,SAAAb,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACb,SAAA,CAAAA,OAAC,IAAA,CAAE,SAAA,CAAA,WAASjC,EAAgB,YAAc,eAAA,EAAgB,EACzDA,UAAkB,IAAA,CAAE,SAAA,CAAA,OAAKA,CAAA,EAAc,SACvC,IAAA,CAAE,SAAA,CAAA,aAAWD,EAAa,MAAQ,IAAA,CAAA,CAAK,CAAA,CAAA,CAC1C,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGDjC,IAAQ,aACPmE,OAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAA/B,EAAM,OAAS,GAAKgC,EAAAA,IAACuB,EAAA,CAAiB,MAAM,QAAQ,KAAMC,GAAW,MAAM,kCAAkC,MAAOxD,EAAM,OAAS,WAAM,IAAI,CAACyD,EAAGtC,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,8CAA8C,SAAA,CAAAC,MAAC,KAAE,UAAU,wCAAyC,SAAA,OAAOyB,EAAE,OAAO,EAAE,EAAI1B,EAAAA,KAAC,MAAA,CAAI,UAAU,oBAAqB,SAAA,CAAA0B,EAAE,gBAAa,OAAA,CAAK,UAAU,yGAA0G,SAAA,OAAOA,EAAE,QAAQ,CAAA,CAAE,EAASA,EAAE,YAAc1B,OAAC,OAAA,CAAK,UAAU,6CAA8C,SAAA,CAAA,KAAK,MAAM,OAAO0B,EAAE,UAAU,EAAI,GAAG,EAAE,cAAA,CAAA,CAAY,CAAA,CAAA,CAAQ,CAAA,GAAxdtC,CAA8d,CAAM,EAAE,EACvoBhB,EAAY,OAAS,GAAK6B,EAAAA,IAACuB,GAAiB,MAAM,eAAe,KAAMZ,EAAa,MAAM,iBAAiB,MAAOxC,EAAY,OAAS,WAAY,IAAI,CAACuD,EAAGvC,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,8CAA8C,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,iEAAiE,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,IAAQ,EAAO,IAAE,OAAO0B,EAAE,IAAI,CAAA,EAAE,EAAI3B,EAAAA,KAAC,MAAA,CAAI,UAAU,8BAA+B,SAAA,CAAA2B,EAAE,OAAS3B,OAAC,OAAA,CAAK,UAAU,8FAA8F,SAAA,CAAA,UAAQ,OAAO2B,EAAE,KAAK,CAAA,EAAE,EAASA,EAAE,UAAY3B,OAAC,OAAA,CAAK,UAAU,8FAA8F,SAAA,CAAA,QAAM,OAAO2B,EAAE,QAAQ,CAAA,EAAE,EAASA,EAAE,QAAU1B,MAAC,OAAA,CAAK,UAAU,8FAA+F,SAAA,OAAO0B,EAAE,MAAM,CAAA,CAAE,CAAA,CAAA,CAAQ,CAAA,GAA/sBvC,CAAqtB,CAAM,EAAE,EACx4BlB,EAAU,OAAS,GAAK+B,EAAAA,IAACuB,GAAiB,MAAM,YAAY,KAAMC,GAAW,MAAM,gBAAgB,MAAOvD,EAAU,OAAS,WAAU,IAAI,CAAC0D,EAAGxC,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,8CAA8C,SAAA,CAAAC,MAAC,KAAE,UAAU,wCAAyC,SAAA,OAAO2B,EAAE,OAAO,EAAE,EAAI5B,EAAAA,KAAC,MAAA,CAAI,UAAU,oBAAqB,SAAA,CAAA4B,EAAE,OAAS5B,OAAC,OAAA,CAAK,UAAU,8FAA8F,SAAA,CAAA,OAAK,OAAO4B,EAAE,KAAK,CAAA,EAAE,EAASA,EAAE,QAAU3B,MAAC,OAAA,CAAK,UAAU,4EAA6E,SAAA,OAAO2B,EAAE,MAAM,CAAA,CAAE,CAAA,CAAA,CAAQ,CAAA,GAApcxC,CAA0c,CAAM,EAAE,EACjnBjB,EAAM,OAAS,GAAK8B,EAAAA,IAACuB,GAAiB,MAAM,QAAQ,KAAMK,GAAe,MAAM,eAAe,MAAO1D,EAAM,OAAS,WAAM,IAAI,CAAC2D,EAAG1C,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,8CAA8C,SAAA,CAAAC,MAAC,KAAE,UAAU,wCAAyC,SAAA,OAAO6B,EAAE,OAAO,EAAE,EAAI9B,EAAAA,KAAC,MAAA,CAAI,UAAU,oBAAqB,SAAA,CAAA8B,EAAE,QAAU9B,OAAC,OAAA,CAAK,UAAU,+DAA+D,SAAA,CAAA,WAAS,OAAO8B,EAAE,MAAM,CAAA,EAAE,EAASA,EAAE,YAAc9B,OAAC,OAAA,CAAK,UAAU,qEAAqE,SAAA,CAAA,eAAa,OAAO8B,EAAE,UAAU,CAAA,CAAA,CAAE,CAAA,EAAQ,EAAOA,EAAE,YAAc9B,OAAC,IAAA,CAAE,UAAU,2DAA2D,SAAA,CAAA,eAAa,OAAO8B,EAAE,UAAU,CAAA,CAAA,CAAE,CAAA,GAAzjB1C,CAA8jB,CAAM,EAAE,EACxtBf,EAAU,OAAS,GAAK4B,EAAAA,IAACuB,GAAiB,MAAM,YAAY,KAAMO,GAAY,MAAM,kBAAkB,MAAO1D,EAAU,OAAS,WAAU,IAAI,CAACS,EAAGM,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,8CAA8C,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,iEAAiE,SAAA,CAAAC,EAAAA,IAAC8B,GAAA,CAAW,UAAU,6CAAA,CAA8C,EAAE,IAAE,OAAOjD,EAAE,OAAO,CAAA,EAAE,EAAIkB,EAAAA,KAAC,MAAA,CAAI,UAAU,oBAAqB,SAAA,CAAAlB,EAAE,aAAekB,OAAC,OAAA,CAAK,UAAU,8FAA8F,SAAA,CAAA,aAAW,OAAOlB,EAAE,WAAW,CAAA,EAAE,EAASA,EAAE,UAAYmB,EAAAA,IAAC,OAAA,CAAK,UAAWI,EAAG,+CAAgDvB,EAAE,WAAa,OAAS,6BAA+BA,EAAE,WAAa,SAAW,mCAAqC,2DAA2D,EAAI,SAAA,OAAOA,EAAE,QAAQ,EAAE,EAASA,EAAE,QAAUmB,MAAC,OAAA,CAAK,UAAU,yGAA0G,SAAA,OAAOnB,EAAE,MAAM,CAAA,CAAE,CAAA,CAAA,CAAQ,CAAA,CAAA,EAAt3BM,CAA43B,CAAM,CAAA,CAAE,CAAA,EACziC,EAGDvD,IAAQ,YACPmE,OAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAA1B,EAAS,OAAS,GAAK2B,EAAAA,IAACuB,EAAA,CAAiB,MAAM,WAAW,KAAM1B,GAAK,MAAM,kCAAkC,MAAOxB,EAAS,OAAQ,SAAA2B,EAAAA,IAAC,MAAA,CAAI,UAAU,uBAAwB,SAAA3B,EAAS,IAAI,CAACgC,EAAGlB,IAAMY,EAAAA,KAAC,OAAA,CAAa,UAAU,sHAAuH,SAAA,CAAA,OAAOM,EAAE,MAAQA,EAAE,MAAQA,EAAE,OAAS,KAAK,UAAUA,CAAC,CAAC,EAAGA,EAAE,MAAQN,OAAC,OAAA,CAAK,UAAU,8CAA8C,SAAA,CAAA,IAAE,OAAOM,EAAE,IAAI,EAAE,GAAA,CAAA,CAAC,CAAA,CAAA,EAAxRlB,CAAgS,CAAO,CAAA,CAAE,EAAM,EAC7fb,EAAc,OAAS,GAAK0B,EAAAA,IAACuB,GAAiB,MAAM,gBAAgB,KAAMQ,GAAO,MAAM,kBAAkB,MAAOzD,EAAc,OAAS,WAAc,IAAI,CAACuD,EAAG1C,IAAMY,EAAAA,KAAC,MAAA,CAAY,UAAU,sEAAsE,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,oDAAqD,SAAA,OAAO6B,EAAE,MAAQA,EAAE,MAAM,CAAA,CAAE,EAAO7B,EAAAA,IAAC,OAAA,CAAK,UAAU,mEAAoE,gBAAO6B,EAAE,MAAQA,EAAE,OAAS,EAAE,EAAE,QAAQ,KAAM,GAAG,EAAE,EAAO7B,EAAAA,IAAC,QAAK,UAAU,oDAAqD,gBAAO6B,EAAE,IAAMA,EAAE,MAAM,CAAA,CAAE,CAAA,CAAA,EAAta1C,CAA6a,CAAM,CAAA,CAAE,CAAA,EACrmB,EAGDvD,IAAQ,UACPoE,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAAzB,GAAsB,OAAS,EAC9BA,GAAsB,IAAI,CAAC+C,EAAGnC,IAAM,CAClC,MAAMD,EAAO,OAAOoC,EAAE,MAAQ,SAAS,EACjCU,EAAYC,GAAiBX,CAAQ,EAC3C,OACEvB,EAAAA,KAAC,MAAA,CAAY,UAAU,sEACrB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oJACZ,SAAA,CAAAmC,GAAiBF,CAAS,EAAIhC,EAAAA,IAAC,MAAA,CAAI,IAAKgC,EAAW,IAAK9C,EAAM,UAAU,6BAA6B,QAAUmB,GAAM,CAAGA,EAAE,OAA4B,MAAM,QAAU,MAAQ,EAAG,EAAK,KACvLL,EAAAA,IAAC,OAAA,CAAK,UAAWkC,GAAiBF,CAAS,EAAI,SAAW,GAAK,SAAAG,GAAYjD,CAAI,CAAA,CAAE,CAAA,EACnF,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAqD,SAAAd,EAAK,EACvEa,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACZ,SAAA,CAAAuB,EAAE,YAAS,OAAA,CAAK,UAAU,6CAA8C,SAAA,OAAOA,EAAE,IAAI,CAAA,CAAE,EACvFA,EAAE,cAAgBvB,OAAC,OAAA,CAAK,UAAU,6CAA6C,SAAA,CAAA,MAAI,OAAOuB,EAAE,YAAY,CAAA,CAAA,CAAE,CAAA,CAAA,CAC7G,CAAA,CAAA,CACF,CAAA,CAAA,EAXQnC,CAYV,CAEJ,CAAC,EAED3B,EAAa,IAAI,CAAC0B,EAAMC,IAAM,CAC5B,MAAMiD,EAAW1E,EAAS,OAAOoB,GAAK,OAAOA,EAAE,QAAUA,EAAE,MAAM,IAAMI,CAAI,EAAE,OAC7E,OACEa,EAAAA,KAAC,MAAA,CAAY,UAAU,sEACrB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAWI,EAAG,qFAAsFrB,GAAkBG,CAAI,GAAK,gDAAgD,EAAI,SAAAiD,GAAYjD,CAAI,CAAA,CAAE,EAC1Ma,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAqD,SAAAd,EAAK,EACvEa,EAAAA,KAAC,IAAA,CAAE,UAAU,6CAA8C,SAAA,CAAAqC,EAAS,WAASA,IAAa,EAAI,IAAM,EAAA,CAAA,CAAG,CAAA,CAAA,CACzG,CAAA,CAAA,EALQjD,CAMV,CAEJ,CAAC,CAAA,CAEL,CAAA,EAEJ,QAGC,MAAA,CAAI,UAAU,uDACb,SAAAY,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,0CAA0C,SAAA,cAAW,EAClEA,EAAAA,IAAC,IAAA,CAAE,UAAU,8CAA8C,SAAA,0EAAuE,EAChI3D,EAMA0D,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,UAAO,UAAW1E,GAAY,SAAUoB,EAAW,UAAW,QAAS2C,GACrE,SAAA,CAAA3C,EAAW,gBAAayD,EAAA,CAAQ,UAAU,2BAA2B,EAAKF,EAAAA,IAACqC,GAAA,CAAO,UAAU,aAAA,CAAc,EAAG,iBAAA,EAChH,EACArC,EAAAA,IAAC,UAAO,UAAW1E,GAAe,QAAS,IAAMgB,EAAiB,EAAK,EAAG,SAAA,QAAA,CAAM,CAAA,CAAA,CAClF,EAVAyD,EAAAA,KAAC,SAAA,CAAO,UAAU,wKAChB,QAAS,IAAMzD,EAAiB,EAAI,EACpC,SAAA,CAAA0D,EAAAA,IAACqC,GAAA,CAAO,UAAU,aAAA,CAAc,EAAE,sBAAA,CAAA,CAAA,CAQpC,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,EAGC3G,GACCsE,EAAAA,IAAC,MAAA,CAAI,UAAW5E,GACd,SAAA4E,EAAAA,IAACsC,GAAA,CAAc,WAAW,eAAe,SAAU5G,CAAA,CAAgB,CAAA,CACrE,CAAA,EAEJ,CAEJ,CAEA,SAAS2F,GAAa,CAAE,MAAAkB,EAAO,KAAMzB,EAAM,SAAA0B,GAA8E,CACvH,OACEzC,EAAAA,KAAC,MAAA,CAAI,UAAU,qFACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,8GACZ,SAAA,CAAAC,EAAAA,IAACc,EAAA,CAAK,UAAU,aAAA,CAAc,EAAE,IAAEyB,CAAA,EACpC,EACCC,CAAA,EACH,CAEJ,CAEA,SAASjB,EAAiB,CAAE,MAAApE,EAAO,KAAM2D,EAAM,MAAA2B,EAAO,MAAAC,EAAO,SAAAF,GAE1D,CACD,cACG,MAAA,CACC,SAAA,CAAAzC,EAAAA,KAAC,KAAA,CAAG,UAAWK,EAAG,8EAA+EqC,CAAK,EACpG,SAAA,CAAAzC,EAAAA,IAACc,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,IAAE3D,EAC9B6C,EAAAA,IAAC,OAAA,CAAK,UAAU,yGAA0G,SAAA0C,CAAA,CAAM,CAAA,EAClI,EACA1C,EAAAA,IAAC,MAAA,CAAI,UAAU,YAAa,SAAAwC,CAAA,CAAS,CAAA,EACvC,CAEJ,CCvaA,MAAMG,GAAgB,CACpB,CAAE,MAAO,GAAI,MAAO,aAAA,EACpB,CAAE,MAAO,WAAY,MAAO,UAAA,EAC5B,CAAE,MAAO,QAAS,MAAO,OAAA,EACzB,CAAE,MAAO,QAAS,MAAO,iBAAA,EACzB,CAAE,MAAO,UAAW,MAAO,SAAA,EAC3B,CAAE,MAAO,OAAQ,MAAO,WAAA,EACxB,CAAE,MAAO,WAAY,MAAO,UAAA,EAC5B,CAAE,MAAO,UAAW,MAAO,cAAA,CAC7B,EAOA,SAAwBC,GAAwB,CAAE,KAAAC,EAAM,QAAAC,GAAkB,CACxE,KAAM,CAACC,EAAMC,CAAO,EAAIlH,EAAAA,SAAe,OAAO,EACxC,CAACmH,EAAUC,CAAW,EAAIpH,EAAAA,SAAmB,OAAO,EACpD,CAACoF,EAAMiC,CAAO,EAAIrH,EAAAA,SAAS,EAAE,EAC7B,CAACsH,EAAYC,CAAa,EAAIvH,EAAAA,SAAS,EAAE,EACzC,CAACqB,EAAOmG,CAAQ,EAAIxH,EAAAA,SAAS,EAAE,EAC/B,CAACwB,EAAaiG,CAAc,EAAIzH,EAAAA,SAAS,EAAE,EAC3C,CAAC0H,EAAcC,CAAe,EAAI3H,EAAAA,SAAS,EAAE,EAC7C,CAAC4H,EAAQC,CAAS,EAAI7H,EAAAA,SAAS,EAAK,EACpC,CAAC8H,EAAUC,CAAW,EAAI/H,EAAAA,SAAS,EAAE,EACrC,CAACgI,EAAaC,CAAc,EAAIjI,EAAAA,SAAyC,IAAI,EAC7EkI,EAAUC,EAAAA,OAAyB,IAAI,EAEvCC,EAAoBC,GAAA,EACpBC,EAAqBC,GAAA,EAErBC,EAAc,IAAM,CACxBnB,EAAQ,EAAE,EAAGE,EAAc,EAAE,EAAGC,EAAS,EAAE,EAAGC,EAAe,EAAE,EAC/DE,EAAgB,EAAE,EAAGE,EAAU,EAAK,EAAGE,EAAY,EAAE,EACrDE,EAAe,IAAI,EAAGf,EAAQ,OAAO,EACrCF,EAAA,CACF,EAEMyB,EAAiBC,cAAaC,GAAe,CACjDZ,EAAYY,EAAK,IAAI,EACrB,MAAMC,EAAS,IAAI,WACnBA,EAAO,OAAUrE,GAAM,CACrB8C,EAAQ,OAAO9C,EAAE,QAAQ,QAAU,EAAE,CAAC,CACxC,EACAqE,EAAO,WAAWD,CAAI,CACxB,EAAG,CAAA,CAAE,EAECE,EAAc,SAAY,CAC9B,GAAI,CAACzD,EAAK,KAAA,GAAUA,EAAK,KAAA,EAAO,OAAS,GAAI,CAC3C7B,EAAM,MAAM,gCAAgC,EAC5C,MACF,CAEA,GAAI,CACF,MAAMuF,EAAO,MAAMV,EAAkB,YAAY,CAAE,KAAAhD,EAAM,WAAYkC,GAAc,OAAW,EAC9FW,EAAea,CAA+B,EAC9C5B,EAAQ,SAAS,CACnB,MAAQ,CACN3D,EAAM,MAAM,8BAA8B,CAC5C,CACF,EAEMwF,EAAe,SAAY,CAC/B,GAAK3D,EAAK,OACV,CAAA8B,EAAQ,WAAW,EACnB,GAAI,CAWF,MAAM8B,EAVO,MAAMV,EAAmB,YAAY,CAChD,KAAAlD,EACA,WAAYkC,GAAc,OAC1B,KAAM,CACJ,MAAOjG,GAAS,OAChB,YAAaG,GAAe,OAC5B,aAAckG,GAAgB,MAAA,EAEhC,OAAAE,CAAA,CACD,EAEDrE,EAAM,QAAQ,cAAcyF,EAAO,OAAS,cAAc,MAAOA,EAAO,OAAmC,cAAgB,GAAG,YAAY,EAC1IR,EAAA,CACF,MAAQ,CACNjF,EAAM,MAAM,+BAA+B,EAC3C2D,EAAQ,SAAS,CACnB,EACF,EAEM+B,EAAQjB,GAAa,MACrBkB,EAAmBlB,GAAa,iBAAmB,CAAA,EACnDmB,EAAYnB,GAAa,UAAY,CAAA,EAE3C,OACE9D,EAAAA,IAACkF,GAAA,CAAO,KAAArC,EAAY,aAAcsC,GAAK,CAACA,GAAKb,EAAA,EAC3C,SAAAvE,OAACqF,GAAA,CAAc,UAAU,2DACvB,SAAA,CAAApF,EAAAA,IAACqF,GAAA,CAAY,UAAU,UAAU,SAAA,sBAAmB,EAGpDrF,EAAAA,IAAC,MAAA,CAAI,UAAU,qBAAqB,MAAO,CAAE,WAAY,uEAAA,EACvD,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,sDAAsD,MAAO,CAAE,gBAAiB,sBAAA,EAC7F,SAAAA,EAAAA,IAACsF,GAAA,CAAO,UAAU,uBAAA,CAAwB,EAC5C,SACC,MAAA,CACC,SAAA,CAAAtF,EAAAA,IAAC,KAAA,CAAG,UAAU,qCAAqC,SAAA,sBAAmB,EACtED,EAAAA,KAAC,IAAA,CAAE,UAAU,6BACV,SAAA,CAAAgD,IAAS,SAAW,4CACpBA,IAAS,WAAa,8CACtBA,IAAS,aAAe,oCAAA,CAAA,CAC3B,CAAA,CAAA,CACF,CAAA,EACF,EACA/C,EAAAA,IAAC,SAAA,CAAO,QAASsE,EAAa,UAAU,yGACtC,SAAAtE,EAAAA,IAACO,GAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CACzB,CAAA,CAAA,CACF,CAAA,CACF,EAGCwC,IAAS,SACRhD,EAAAA,KAAAI,EAAAA,SAAA,CAEE,SAAA,CAAAH,MAAC,OAAI,UAAU,gEAAgE,MAAO,CAAE,YAAa,4BAClG,SAAA,CACC,CAAE,IAAK,QAAqB,MAAO,YAAA,EACnC,CAAE,IAAK,SAAsB,MAAO,aAAA,CAAc,EAClD,IAAIuF,GACJvF,EAAAA,IAAC,SAAA,CAAmB,QAAS,IAAMkD,EAAYqC,EAAE,GAAG,EAClD,UAAWnF,EAAG,+DACZ6C,IAAasC,EAAE,IAAM,gCAAkC,wDAAA,EACxD,SAAAA,EAAE,KAAA,EAHQA,EAAE,GAAA,CAKhB,EACH,EAEAxF,OAAC,OAAI,UAAU,sEAAsE,MAAO,CAAE,gBAAiB,6BAE7G,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,2EAA2E,SAAA,SAAM,EAClGA,EAAAA,IAAC,SAAA,CAAO,MAAOoD,EAAY,SAAU/C,GAAKgD,EAAchD,EAAE,OAAO,KAAK,EACpE,UAAU,mLACT,SAAAsC,GAAc,IAAIlB,GAAKzB,EAAAA,IAAC,SAAA,CAAqB,MAAOyB,EAAE,MAAQ,SAAAA,EAAE,KAAA,EAA5BA,EAAE,KAAgC,CAAS,CAAA,CAAA,CAClF,EACF,SACC,MAAA,CACC,SAAA,CAAAzB,EAAAA,IAAC,QAAA,CAAM,UAAU,2EAA2E,SAAA,mBAAgB,EAC5GA,EAAAA,IAAC,QAAA,CAAM,MAAO7C,EAAO,SAAUkD,GAAKiD,EAASjD,EAAE,OAAO,KAAK,EAAG,YAAY,uBACxE,UAAU,4MAAA,CAAA,CAA6M,CAAA,CAC3N,CAAA,EACF,EAEAN,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,2EAA2E,SAAA,0BAAuB,EACnHA,EAAAA,IAAC,QAAA,CAAM,MAAO1C,EAAa,SAAU+C,GAAKkD,EAAelD,EAAE,OAAO,KAAK,EAAG,YAAY,sBACpF,UAAU,4MAAA,CAAA,CAA6M,EAC3N,SACC,MAAA,CACC,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,2EAA2E,SAAA,2BAAwB,EACpHA,EAAAA,IAAC,QAAA,CAAM,KAAK,OAAO,MAAOwD,EAAc,SAAUnD,GAAKoD,EAAgBpD,EAAE,OAAO,KAAK,EACnF,UAAU,kLAAA,CAAA,CAAmL,CAAA,CACjM,CAAA,EACF,EAEC4C,IAAa,SACZlD,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,2EAA2E,SAAA,sBAAmB,EAC/GA,EAAAA,IAAC,WAAA,CAAS,MAAOkB,EAAM,SAAUb,GAAK8C,EAAQ9C,EAAE,OAAO,KAAK,EAC1D,KAAM,GAAI,YAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACvB,UAAU,+OAAA,CAAA,CAAgP,EAC9P,EAGD4C,IAAa,UACZlD,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qKACb,QAAS,IAAMiE,EAAQ,SAAS,MAAA,EAChC,WAAY3D,GAAKA,EAAE,eAAA,EACnB,OAAQA,GAAK,CAAEA,EAAE,eAAA,EAAsBA,EAAE,aAAa,MAAM,CAAC,KAAkBA,EAAE,aAAa,MAAM,CAAC,CAAC,CAAG,EACzG,SAAA,CAAAL,EAAAA,IAACwF,GAAA,CAAU,UAAU,sCAAA,CAAuC,EAC5DxF,EAAAA,IAAC,IAAA,CAAE,UAAU,kDAAkD,SAAA,8BAA2B,EAC1FA,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAqC,SAAA,yCAA6C,EAC/FA,EAAAA,IAAC,QAAA,CAAM,IAAKgE,EAAS,KAAK,OAAO,UAAU,SAAS,OAAO,wBAAwB,SAAU3D,GAAK,CAC5FA,EAAE,OAAO,QAAQ,CAAC,KAAkBA,EAAE,OAAO,MAAM,CAAC,CAAC,CAC3D,CAAA,CAAG,CAAA,CAAA,CAAA,EAEJuD,GACC7D,EAAAA,KAAC,MAAA,CAAI,UAAU,sGACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,uEACb,eAACyF,GAAA,CAAS,UAAU,sCAAsC,CAAA,CAC5D,EACA1F,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,2CAA4C,SAAA4D,EAAS,EACrE7D,EAAAA,KAAC,IAAA,CAAE,UAAU,oCAAqC,SAAA,CAAAmB,EAAK,OAAO,eAAA,EAAiB,oBAAA,CAAA,CAAkB,CAAA,EACnG,EACAlB,MAAC,SAAA,CAAO,QAAS,IAAM,CAAEmD,EAAQ,EAAE,EAAGU,EAAY,EAAE,CAAG,EAAG,UAAU,4DAA4D,SAAA,GAAA,CAAO,CAAA,CAAA,CACzI,CAAA,EAEJ,EAGF9D,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,KAAK,WAAW,GAAG,SAAS,QAAS0D,EAAQ,SAAUrD,GAAKsD,EAAUtD,EAAE,OAAO,OAAO,EAC3F,UAAU,kCAAA,CAAA,QACX,QAAA,CAAM,QAAQ,SAAS,UAAU,gCAAgC,SAAA,0DAAA,CAAwD,CAAA,CAAA,CAC5H,CAAA,EACF,EAGAN,EAAAA,KAAC,MAAA,CAAI,UAAU,oGAAoG,MAAO,CAAE,YAAa,2BAA4B,gBAAiB,6BAAA,EACpL,SAAA,CAAAC,MAAC,SAAA,CAAO,QAASsE,EAAa,UAAU,qHAAqH,SAAA,SAE7J,EACAvE,EAAAA,KAAC,SAAA,CAAO,QAAS4E,EAAa,SAAUT,EAAkB,WAAa,CAAChD,EAAK,KAAA,EAC3E,UAAU,iMACT,SAAA,CAAAgD,EAAkB,gBAAahE,EAAA,CAAQ,UAAU,uBAAuB,EAAKF,EAAAA,IAACyF,GAAA,CAAS,UAAU,SAAA,CAAU,EAAG,iBAAA,CAAA,CAAA,CAEjH,CAAA,CACF,CAAA,EACF,EAID1C,IAAS,WAAae,GACrB/D,EAAAA,KAAAI,EAAAA,SAAA,CACE,SAAA,CAAAJ,OAAC,OAAI,UAAU,sEAAsE,MAAO,CAAE,gBAAiB,6BAE7G,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAACW,EAAA,CAAY,UAAU,gCAAA,CAAiC,EACxDX,EAAAA,IAAC,OAAA,CAAK,UAAU,+CAA+C,SAAA,qBAAA,CAAmB,CAAA,EACpF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAC,EAAAA,IAAC0F,GAAA,CAAQ,MAAM,SAAS,MAAO,OAAO5B,EAAY,QAAU,MAAM,EAAG,KAAMpE,CAAA,CAAe,QACzFgG,GAAA,CAAQ,MAAM,aAAa,MAAO,GAAG,KAAK,MAAM,OAAO5B,EAAY,YAAc,CAAC,EAAI,GAAG,CAAC,IAAK,KAAMlD,EAAU,EAChHZ,EAAAA,IAAC0F,GAAA,CAAQ,MAAM,WAAW,MAAO,OAAOX,GAAO,cAAgB,CAAC,EAAG,KAAM7J,CAAA,CAAM,EAC/E8E,EAAAA,IAAC0F,GAAA,CAAQ,MAAM,eAAe,MAAO,OAAQX,GAAO,cAA4B,QAAU,CAAC,EAAG,KAAMtE,CAAA,CAAO,CAAA,CAAA,CAC7G,CAAA,EACF,EAGCwE,EAAS,OAAS,GACjBlF,EAAAA,KAAC,MAAA,CAAI,UAAU,8EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC4B,GAAA,CAAc,UAAU,gCAAA,CAAiC,EAC1D5B,EAAAA,IAAC,OAAA,CAAK,UAAU,+CAA+C,SAAA,UAAA,CAAQ,CAAA,EACzE,QACC,KAAA,CAAG,UAAU,YACX,SAAAiF,EAAS,IAAI,CAACU,EAAGxG,IAAMa,MAAC,MAAW,UAAU,iCAAkC,SAAA2F,CAAA,EAA/CxG,CAAiD,CAAK,CAAA,CACzF,CAAA,EACF,EAID4F,GAAO,cACNhF,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,0GACZ,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAM,UAAU,aAAA,CAAc,EAAE,eAAA,EACnC,QACC,MAAA,CAAI,UAAU,yBACX,SAAAsE,EAAM,aAA0B,IAAI,CAACzD,EAAGnC,UACvC,OAAA,CAAa,UAAU,8GAA+G,SAAAmC,CAAA,EAA5HnC,CAA8H,CAC1I,CAAA,CACH,CAAA,EACF,EAID4F,GAAO,WACNhF,OAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAC,EAAAA,IAAC4F,GAAA,CAAS,UAAU,aAAA,CAAc,SACjC,OAAA,CACE,SAAA,CAAA,OAAQb,EAAM,WAAuC,OAAS,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,EAC9E,MACA,OAAQA,EAAM,WAAuC,MAAQ,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,CAAA,CAAA,CAChF,CAAA,EACF,EAIDC,EAAgB,OAAS,GACxBjF,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,0GACZ,SAAA,CAAAC,EAAAA,IAACN,EAAA,CAAc,UAAU,aAAA,CAAc,EAAE,qBAAmBsF,EAAgB,OAAQlB,EAAY,QAAU,IAAM,GAAG,GAAA,EACrH,EACA/D,EAAAA,KAAC,MAAA,CAAI,UAAU,4EACZ,SAAA,CAAAiF,EAAgB,IAAI,CAACjE,EAAK5B,IACzBY,OAAC,MAAA,CAAY,UAAU,aACrB,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,8EAA+E,SAAA,OAAOe,EAAI,SAAWA,EAAI,QAAU,SAAS,CAAA,CAAE,EAC9If,EAAAA,IAAC,OAAA,CAAK,UAAU,4CAA6C,gBAAOe,EAAI,MAAQA,EAAI,SAAW,EAAE,EAAE,UAAU,EAAG,GAAG,CAAA,CAAE,CAAA,CAAA,EAF7G5B,CAGV,CACD,EACA2E,EAAY,SACX9D,EAAAA,IAAC,IAAA,CAAE,UAAU,4DAA4D,SAAA,wCAAA,CAAsC,CAAA,CAAA,CAEnH,CAAA,CAAA,CACF,CAAA,EAEJ,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wGAAwG,MAAO,CAAE,YAAa,2BAA4B,gBAAiB,6BAAA,EACxL,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAMgD,EAAQ,OAAO,EAAG,UAAU,qHAAqH,SAAA,MAAA,CAExK,EACAjD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,MAAC,SAAA,CAAO,QAASsE,EAAa,UAAU,qHAAqH,SAAA,SAE7J,EACAvE,EAAAA,KAAC,SAAA,CAAO,QAAS8E,EACf,UAAU,6KACV,SAAA,CAAA7E,EAAAA,IAACsF,GAAA,CAAO,UAAU,SAAA,CAAU,EAAE,UAAQ,CAAC5B,GAAU,oBAAA,CAAA,CAAA,CACnD,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAIDX,IAAS,aACRhD,OAAC,MAAA,CAAI,UAAU,sFAAsF,MAAO,CAAE,gBAAiB,2BAAA,EAC7H,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAQ,UAAU,sCAAA,CAAuC,EAC1DH,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAoD,SAAA,4BAAyB,EACzF,CAAC0D,GAAU1D,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,sEAAA,CAAoE,CAAA,CAAA,CAC7H,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CACF,CAEJ,CAEA,SAAS0F,GAAQ,CAAE,MAAAnD,EAAO,MAAAsD,EAAO,KAAM/E,GAAsE,CAC3G,OACEf,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAACc,EAAA,CAAK,UAAU,4CAAA,CAA6C,EAC7Dd,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAqD,SAAA6F,EAAM,EACxE7F,EAAAA,IAAC,IAAA,CAAE,UAAU,oCAAqC,SAAAuC,CAAA,CAAM,CAAA,EAC1D,CAEJ,CClVA,MAAM/G,GAAuC,CAC3C,SAAU,WAAY,MAAO,QAAS,MAAO,QAC7C,QAAS,UAAW,KAAM,OAAQ,SAAU,UAC9C,EAEMD,GAAuC,CAC3C,SAAU,iCACV,MAAO,mCACP,MAAO,+BACP,QAAS,mCACT,KAAM,6BACN,SAAU,8BACZ,EAEA,SAAwBuK,IAAoB,CAC1C,KAAM,CAACC,EAAQC,CAAS,EAAIlK,EAAAA,SAAS,EAAE,EACjC,CAACmK,EAAcC,CAAe,EAAIpK,EAAAA,SAAS,EAAE,EAC7C,CAACqK,EAAcC,CAAe,EAAItK,EAAAA,SAA4D,EAAE,EAChG,CAACuK,EAAYC,CAAa,EAAIxK,EAAAA,SAAwB,IAAI,EAC1D,CAACyK,EAAYC,CAAa,EAAI1K,EAAAA,SAAS,EAAK,EAE5C2K,EAAgBC,GAAiB,CAAE,OAAQX,GAAU,OAAW,UAAWE,GAAgB,OAAW,EACtGU,EAAaC,GAAA,EACbC,EAAqBnK,GAAA,EACrBC,EAAUC,GAAA,EAEVkK,EAAWlI,EAAAA,QAAQ,IAAM,CAC7B,MAAMmI,EAAON,EAAc,MAAkC,eAAiB,CAAA,EAC9E,OAAQ,MAAM,QAAQM,CAAG,EAAIA,EAAM,CAAA,CACrC,EAAG,CAACN,EAAc,IAAI,CAAC,EAEjBO,EAAWpI,EAAAA,QAAQ,IAChBkI,EAAS,OAAOG,GACjB,EAAAd,IAAiB,YAAc,CAACc,EAAE,aAAe,CAACA,EAAE,YACpDd,IAAiB,iBAAmBc,EAAE,aAAeA,EAAE,aACvDd,IAAiB,gBAAkB,CAACc,EAAE,cAE3C,EACA,CAACH,EAAUX,CAAY,CAAC,EAErBpB,EAAQ4B,EAAW,KACnBO,EAAYnC,GAAO,UAAY,CAAA,EAGrC,GAAIsB,EACF,OACEtG,EAAAA,KAAAI,WAAA,CACE,SAAA,CAAAH,EAAAA,IAACvE,GAAA,CACC,eAAgB4K,EAChB,OAAQ,IAAMC,EAAc,IAAI,CAAA,CAAA,EAElCtG,MAAC4C,IAAwB,KAAM2D,EAAY,QAAS,IAAMC,EAAc,EAAK,CAAA,CAAG,CAAA,EAClF,EAIJ,MAAMpH,EAAe,CAACiB,EAAqB8G,IAAe,CACxD9G,EAAE,gBAAA,EACG,QAAQ,2BAA2B,GACxCwG,EAAmB,OAAOM,EAAI,CAC5B,UAAW,IAAM9H,EAAM,QAAQ,sBAAsB,EACrD,QAAS,IAAMA,EAAM,MAAM,kBAAkB,CAAA,CAC9C,CACH,EAEMC,EAAgB,CAACe,EAAqB8G,IAAe,CACzD9G,EAAE,gBAAA,EACF1D,EAAQ,OAAOwK,EAAI,CACjB,UAAW,IAAM9H,EAAM,QAAQ,sBAAsB,EACrD,QAAS,IAAMA,EAAM,MAAM,oBAAoB,CAAA,CAChD,CACH,EAEM+H,EAAY,CAChB,CAAE,MAAO,QAAS,MAAOrC,GAAO,OAAS+B,EAAS,OAAQ,MAAO,uBAAwB,KAAMpH,CAAA,EAC/F,CAAE,MAAO,WAAY,MAAOqF,GAAO,eAAiB,EAAG,MAAO,8BAA+B,KAAM7J,CAAA,EACnG,CAAE,MAAO,UAAW,MAAO,OAAO,KAAKgM,CAAQ,EAAE,OAAQ,MAAO,kBAAmB,KAAMG,EAAA,EACzF,CAAE,MAAO,WAAY,MAAOL,EAAS,OAAOC,GAAKA,EAAE,aAAeA,EAAE,UAAU,EAAE,OAAQ,MAAO,yBAA0B,KAAMtG,CAAA,CAAY,EAG7I,OACEZ,EAAAA,KAAC,MAAA,CAAI,UAAU,gBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,0CAA0C,SAAA,gBAAa,EACrED,EAAAA,KAAC,IAAA,CAAE,UAAU,uCAAwC,SAAA,CAAAiH,EAAS,OAAO,gBAAcA,EAAS,SAAW,EAAI,IAAM,EAAA,CAAA,CAAG,CAAA,EACtH,EACAjH,EAAAA,KAAC,SAAA,CAAO,QAAS,IAAMyG,EAAc,EAAI,EACvC,UAAU,2KACV,SAAA,CAAAxG,EAAAA,IAACsF,GAAA,CAAO,UAAU,SAAA,CAAU,EAAE,sBAAA,CAAA,CAAA,CAChC,EACF,EAGCP,GACC/E,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACZ,SAAAoH,EAAU,IAAI,GAAK,CAClB,MAAMtG,EAAO,EAAE,KACf,OACEf,EAAAA,KAAC,MAAA,CAAkB,UAAU,gJAC3B,SAAA,CAAAC,MAAC,OAAI,UAAWI,EAAG,sDACjB,EAAE,QAAU,QAAU,0BACtB,EAAE,QAAU,WAAa,iBACzB,EAAE,QAAU,UAAY,mBAAqB,iBAAA,EAC7C,eAACU,EAAA,CAAK,UAAWV,EAAG,cAAe,EAAE,KAAK,CAAA,CAAG,CAAA,CAC/C,SACC,MAAA,CACC,SAAA,CAAAJ,EAAAA,IAAC,OAAA,CAAK,UAAWI,EAAG,oBAAqB,EAAE,KAAK,EAAI,SAAA,OAAO,EAAE,KAAK,CAAA,CAAE,EACpEJ,EAAAA,IAAC,IAAA,CAAE,UAAU,6DAA8D,WAAE,KAAA,CAAM,CAAA,CAAA,CACrF,CAAA,CAAA,EAVQ,EAAE,KAWZ,CAEJ,CAAC,CAAA,CACH,EAID,OAAO,KAAKkH,CAAQ,EAAE,OAAS,SAC7B,MAAA,CAAI,UAAU,uBACZ,SAAA,OAAO,QAAQA,CAAQ,EAAE,IAAI,CAAC,CAACI,EAAQ5E,CAAK,IAC3C3C,EAAAA,KAAC,SAAA,CAAoB,QAAS,IAAMmG,EAAgBD,IAAiBqB,EAAS,GAAKA,CAAM,EACvF,UAAWlH,EAAG,oGACZ6F,IAAiBqB,GACZ/L,GAAa+L,CAAM,GAAK,8CAAgD,qBACzE,mGAAA,EACL,SAAA,CAAA9L,GAAa8L,CAAM,GAAKA,EAAO,IAACtH,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAc,SAAA0C,CAAA,CAAM,CAAA,CAAA,EAL1D4E,CAAA,CAOd,EACH,EAIFvH,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAC,EAAAA,IAACuH,GAAA,CAAO,UAAU,4EAAA,CAA6E,EAC/FvH,EAAAA,IAAC,QAAA,CAAM,MAAO+F,EAAQ,SAAU1F,GAAK2F,EAAU3F,EAAE,OAAO,KAAK,EAAG,YAAY,0BAC1E,UAAU,kLAAA,CAAA,CAAmL,EACjM,EAEAN,EAAAA,KAAC,SAAA,CAAO,MAAOkG,EAAc,SAAU5F,GAAK6F,EAAgB7F,EAAE,OAAO,KAAK,EACxE,UAAU,uKACV,SAAA,CAAAL,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,cAAW,EAC3B,OAAO,QAAQxE,EAAY,EAAE,IAAI,CAAC,CAACgM,EAAGC,CAAC,UAAO,SAAA,CAAe,MAAOD,EAAI,SAAAC,CAAA,EAAdD,CAAgB,CAAS,CAAA,CAAA,CAAA,EAGrF,CACC,CAAE,IAAK,WAAY,MAAO,WAAY,KAAM7G,EAAa,YAAa,oEAAA,EACtE,CAAE,IAAK,eAAgB,MAAO,eAAgB,KAAM+G,GAAa,YAAa,qEAAA,EAC9E,CAAE,IAAK,eAAgB,MAAO,eAAgB,KAAM9G,EAAU,YAAa,+DAAA,CAAgE,EAC3I,IAAIa,GAAK,CACT,MAAMkG,EAAQlG,EAAE,KACVmG,EAAWzB,IAAiB1E,EAAE,IACpC,OACE1B,EAAAA,KAAC,SAAA,CAAmB,QAAS,IAAMqG,EAAgBwB,EAAW,GAAKnG,EAAE,GAA0B,EAC7F,UAAWrB,EAAG,gGACZwH,EAAWnG,EAAE,YAAc,mGAAA,EAC7B,SAAA,CAAAzB,EAAAA,IAAC2H,EAAA,CAAM,UAAU,aAAA,CAAc,EAAE,IAAElG,EAAE,KAAA,CAAA,EAH1BA,EAAE,GAAA,CAMnB,CAAC,CAAA,EACH,EAGCgF,EAAc,MACbzG,EAAAA,IAAC6H,GAAA,CAAW,QAAQ,gCAAgC,QAAS,IAAMpB,EAAc,QAAA,CAAQ,CAAG,EAC1FA,EAAc,UAChBzG,EAAAA,IAAC,MAAA,CAAI,UAAU,wCAAwC,SAAAA,EAAAA,IAACE,EAAA,CAAQ,UAAU,kDAAA,CAAmD,EAAE,EAC7H8G,EAAS,SAAW,EACtBjH,OAAC,MAAA,CAAI,UAAU,yGACb,SAAA,CAAAC,EAAAA,IAACN,EAAA,CAAc,UAAU,sCAAA,CAAuC,EAC/DoH,EAAS,SAAW,EAAI,6EAA+E,sCAAA,CAAA,CAC1G,QAEC,MAAA,CAAI,UAAU,cACZ,SAAAE,EAAS,IAAKc,GAAS,CACtB,MAAMC,EAAoBD,EAAK,cAA4B,QAAUA,EAAK,mBAAqB,EACzFrK,EAAeqK,EAAK,cAAgBA,EAAK,eAAiBA,EAAK,gBAAkB,EACjFjK,EAAa,CAAC,EAAEiK,EAAK,aAAeA,EAAK,YACzCE,EAAQ,CAAC,CAACF,EAAK,cACfzK,EAAY,OAAOyK,EAAK,WAAaA,EAAK,YAAc,EAAE,EAC1D1K,EAAU,OAAO0K,EAAK,SAAW,EAAE,EACnCnK,EAAYmK,EAAK,UAEvB,OACE9H,EAAAA,IAAC,MAAA,CACC,UAAU,sIACV,QAAS,IAAMsG,EAAc,OAAOwB,EAAK,EAAE,CAAC,EAC5C,SAAA/H,EAAAA,KAAC,MAAA,CAAI,UAAU,0BAEb,SAAA,CAAAC,MAAC,OAAI,UAAWI,EAAG,iEACjB7E,GAAa8B,CAAS,GAAK,4CAAA,EAC3B,SAAA2C,EAAAA,IAACN,EAAA,CAAc,UAAU,UAAU,EACrC,EAGAK,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,8GACV,SAAA,OAAO8H,EAAK,OAASA,EAAK,MAAQ,uBAAuB,CAAA,CAC5D,EACA/H,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACZ,SAAA,CAAA1C,GACC2C,EAAAA,IAAC,QAAK,UAAWI,EAAG,mDAClB7E,GAAa8B,CAAS,GAAK,+CAAA,EAC1B,SAAA7B,GAAa6B,CAAS,GAAKA,CAAA,CAC9B,EAEF0C,EAAAA,KAAC,OAAA,CAAK,UAAU,8DACd,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAM,UAAU,SAAA,CAAU,EAAE,IAAE,OAAOsH,CAAgB,CAAA,EACxD,EACAhI,EAAAA,KAAC,OAAA,CAAK,UAAU,8DACd,SAAA,CAAAC,EAAAA,IAAC9E,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,IAAE,OAAOuC,CAAY,EAAE,OAAA,EACrD,EACCE,GAAW,OACVoC,OAAC,OAAA,CAAK,UAAU,8DACd,SAAA,CAAAC,EAAAA,IAACU,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,IAAE,OAAO/C,EAAU,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,CAAA,CAAA,CACrE,CAAA,EAEJ,EACCP,SACE,IAAA,CAAE,UAAU,4CAA6C,SAAAA,EAAQ,UAAU,EAAG,GAAG,CAAA,CAAE,CAAA,EAExF,EAGA2C,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACZ,SAAA,CAAAlC,EACCkC,EAAAA,KAAC,OAAA,CAAK,UAAU,0HACd,SAAA,CAAAC,EAAAA,IAACW,EAAA,CAAY,UAAU,SAAA,CAAU,EAAE,WAAA,CAAA,CACrC,EAEAZ,EAAAA,KAAC,OAAA,CAAK,UAAU,0HACd,SAAA,CAAAC,EAAAA,IAAC0H,GAAA,CAAY,UAAU,SAAA,CAAU,EAAE,eAAA,EACrC,EAEDM,GACChI,EAAAA,IAACY,EAAA,CAAS,UAAU,2BAAA,CAA4B,EAElDZ,EAAAA,IAAC,SAAA,CAAO,QAAUK,GAAMf,EAAce,EAAG,OAAOyH,EAAK,EAAE,CAAC,EACtD,UAAU,4LACV,MAAM,WACN,SAAA9H,EAAAA,IAACa,GAAA,CAAS,UAAU,aAAA,CAAc,CAAA,CAAA,EAEpCb,EAAAA,IAAC,SAAA,CAAO,QAAUK,GAAMjB,EAAaiB,EAAG,OAAOyH,EAAK,EAAE,CAAC,EACrD,UAAU,yLACV,MAAM,SACN,SAAA9H,EAAAA,IAACqC,GAAA,CAAO,UAAU,aAAA,CAAc,CAAA,CAAA,CAClC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAhEQ,OAAOyF,EAAK,EAAE,CAAA,CAmE5B,CAAC,CAAA,CACH,EAIF9H,EAAAA,IAAC4C,GAAA,CACC,KAAM2D,EACN,QAAS,IAAMC,EAAc,EAAK,CAAA,CAAA,CACpC,EACF,CAEJ","x_google_ignoreList":[0]}