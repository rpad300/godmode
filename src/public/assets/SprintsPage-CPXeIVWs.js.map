{"version":3,"file":"SprintsPage-CPXeIVWs.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/presentation.js","../../../node_modules/lucide-react/dist/esm/icons/square-chart-gantt.js","../../frontend/src/components/sprints/styles.ts","../../frontend/src/components/sprints/BreakdownChart.tsx","../../frontend/src/components/sprints/BurndownChart.tsx","../../frontend/src/components/sprints/VelocityChart.tsx","../../frontend/src/components/sprints/HealthScoreWidget.tsx","../../frontend/src/components/sprints/KanbanBoard.tsx","../../frontend/src/components/sprints/GanttChart.tsx","../../frontend/src/components/sprints/RetrospectivePanel.tsx","../../frontend/src/components/sprints/StandupPanel.tsx","../../frontend/src/components/sprints/CapacityPanel.tsx","../../frontend/src/components/sprints/EstimatePointsButton.tsx","../../frontend/src/components/sprints/SprintReportModal.tsx","../../frontend/src/pages/SprintsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M2 3h20\", key: \"91anmk\" }],\n  [\"path\", { d: \"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3\", key: \"2k9sn8\" }],\n  [\"path\", { d: \"m7 21 5-5 5 5\", key: \"bip4we\" }]\n];\nconst Presentation = createLucideIcon(\"presentation\", __iconNode);\n\nexport { __iconNode, Presentation as default };\n//# sourceMappingURL=presentation.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M9 8h7\", key: \"kbo1nt\" }],\n  [\"path\", { d: \"M8 12h6\", key: \"ikassy\" }],\n  [\"path\", { d: \"M11 16h5\", key: \"oq65wt\" }]\n];\nconst SquareChartGantt = createLucideIcon(\"square-chart-gantt\", __iconNode);\n\nexport { __iconNode, SquareChartGantt as default };\n//# sourceMappingURL=square-chart-gantt.js.map\n","export const CARD =\r\n  'rounded-xl border border-[var(--border-primary)] bg-[var(--surface-primary)] shadow-[var(--shadow-sm)]';\r\n\r\nexport const CARD_FLAT =\r\n  'rounded-xl border border-[var(--border-primary)] bg-[var(--surface-primary)]';\r\n\r\nexport const BTN_PRIMARY =\r\n  'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg ' +\r\n  'bg-[var(--interactive-primary)] text-[var(--text-on-brand)] ' +\r\n  'hover:bg-[var(--interactive-primary-hover)] transition-colors disabled:opacity-50';\r\n\r\nexport const BTN_SECONDARY =\r\n  'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg ' +\r\n  'bg-[var(--interactive-secondary)] text-[var(--text-primary)] ' +\r\n  'hover:bg-[var(--interactive-secondary-hover)] border border-[var(--border-primary)] ' +\r\n  'transition-colors disabled:opacity-50';\r\n\r\nexport const BTN_DANGER =\r\n  'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg ' +\r\n  'bg-[var(--status-danger-bg)] text-[var(--status-danger)] ' +\r\n  'hover:opacity-80 transition-colors disabled:opacity-50';\r\n\r\nexport const BTN_GHOST =\r\n  'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg ' +\r\n  'text-[var(--text-secondary)] hover:bg-[var(--surface-hover)] transition-colors disabled:opacity-50';\r\n\r\nexport const INPUT =\r\n  'bg-[var(--bg-tertiary)] border border-[var(--border-primary)] rounded-lg px-3 py-2 ' +\r\n  'text-sm text-[var(--text-primary)] placeholder:text-[var(--text-placeholder)] ' +\r\n  'focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]/40';\r\n\r\nexport const SECTION_TITLE =\r\n  'text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]';\r\n\r\nexport const BADGE = (color: 'success' | 'warning' | 'danger' | 'info' | 'neutral') => {\r\n  const map = {\r\n    success: 'bg-[var(--status-success-bg)] text-[var(--status-success)] border-[var(--status-success)]/30',\r\n    warning: 'bg-[var(--status-warning-bg)] text-[var(--status-warning)] border-[var(--status-warning)]/30',\r\n    danger:  'bg-[var(--status-danger-bg)] text-[var(--status-danger)] border-[var(--status-danger)]/30',\r\n    info:    'bg-[var(--status-info-bg)] text-[var(--status-info)] border-[var(--status-info)]/30',\r\n    neutral: 'bg-[var(--surface-secondary)] text-[var(--text-tertiary)] border-[var(--border-primary)]',\r\n  };\r\n  return `text-[10px] font-medium px-2.5 py-1 rounded-full border capitalize ${map[color]}`;\r\n};\r\n\r\nexport const STATUS_COLORS: Record<string, string> = {\r\n  pending:     'var(--color-neutral-500, #64748b)',\r\n  in_progress: 'var(--color-brand-500, #3b82f6)',\r\n  completed:   'var(--color-success-500, #22c55e)',\r\n  overdue:     'var(--color-danger-500, #ef4444)',\r\n  cancelled:   'var(--color-neutral-500, #6b7280)',\r\n  planning:    'var(--color-brand-500, #3b82f6)',\r\n  active:      'var(--color-success-500, #22c55e)',\r\n  done:        'var(--color-success-500, #22c55e)',\r\n};\r\n\r\nexport const ASSIGNEE_PALETTE = [\r\n  '#3b82f6', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981',\r\n  '#06b6d4', '#f43f5e', '#84cc16', '#6366f1', '#14b8a6',\r\n];\r\n","import { useMemo } from 'react';\r\nimport { BarChart3 } from 'lucide-react';\r\nimport { SECTION_TITLE, STATUS_COLORS, ASSIGNEE_PALETTE } from './styles';\r\n\r\ninterface BarItem {\r\n  label: string;\r\n  value: number;\r\n  color: string;\r\n}\r\n\r\ninterface BreakdownChartProps {\r\n  title: string;\r\n  data: Record<string, number>;\r\n  colorMap?: Record<string, string>;\r\n}\r\n\r\nexport default function BreakdownChart({ title, data, colorMap }: BreakdownChartProps) {\r\n  const bars = useMemo<BarItem[]>(() => {\r\n    const entries = Object.entries(data).filter(([, v]) => v > 0);\r\n    if (entries.length === 0) return [];\r\n    return entries.map(([label, value], i) => ({\r\n      label,\r\n      value,\r\n      color: colorMap?.[label] || STATUS_COLORS[label] || ASSIGNEE_PALETTE[i % ASSIGNEE_PALETTE.length],\r\n    }));\r\n  }, [data, colorMap]);\r\n\r\n  const maxVal = useMemo(() => Math.max(...bars.map(b => b.value), 1), [bars]);\r\n  const total = useMemo(() => bars.reduce((s, b) => s + b.value, 0), [bars]);\r\n\r\n  if (bars.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-6 text-[var(--text-tertiary)]\">\r\n        <BarChart3 className=\"w-6 h-6 mb-1.5 opacity-40\" />\r\n        <p className=\"text-[10px]\">No data available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <span className={SECTION_TITLE}>{title}</span>\r\n        <span className=\"text-[10px] text-[var(--text-tertiary)]\">{total} total</span>\r\n      </div>\r\n      <div className=\"space-y-2\">\r\n        {bars.map(bar => {\r\n          const pct = Math.round((bar.value / maxVal) * 100);\r\n          const sharePct = Math.round((bar.value / total) * 100);\r\n          return (\r\n            <div key={bar.label} className=\"group\">\r\n              <div className=\"flex items-center justify-between mb-0.5\">\r\n                <span className=\"text-xs text-[var(--text-secondary)] capitalize truncate max-w-[60%]\">\r\n                  {bar.label.replace(/_/g, ' ')}\r\n                </span>\r\n                <span className=\"text-[10px] text-[var(--text-tertiary)] tabular-nums\">\r\n                  {bar.value} ({sharePct}%)\r\n                </span>\r\n              </div>\r\n              <div className=\"h-2 rounded-full bg-[var(--surface-hover)] overflow-hidden\">\r\n                <div\r\n                  className=\"h-full rounded-full transition-all duration-500 ease-out\"\r\n                  style={{ width: `${pct}%`, backgroundColor: bar.color }}\r\n                />\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useMemo } from 'react';\r\nimport { Activity } from 'lucide-react';\r\nimport { SECTION_TITLE } from './styles';\r\n\r\ninterface DailyPoint {\r\n  date: string;\r\n  remaining_tasks: number;\r\n  remaining_points: number;\r\n  completed_tasks: number;\r\n  completed_points: number;\r\n}\r\n\r\ninterface BurndownChartProps {\r\n  dailyProgress: DailyPoint[];\r\n  totalTasks: number;\r\n  totalPoints: number;\r\n  usePoints?: boolean;\r\n}\r\n\r\nexport default function BurndownChart({ dailyProgress, totalTasks, totalPoints, usePoints = false }: BurndownChartProps) {\r\n  const total = usePoints ? totalPoints : totalTasks;\r\n  const data = useMemo(() => {\r\n    if (!dailyProgress?.length) return [];\r\n    return dailyProgress.map((d, i) => ({\r\n      ...d,\r\n      remaining: usePoints ? d.remaining_points : d.remaining_tasks,\r\n      idealRemaining: total - (total / (dailyProgress.length - 1)) * i,\r\n    }));\r\n  }, [dailyProgress, total, usePoints]);\r\n\r\n  if (data.length < 2) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]\">\r\n        <Activity className=\"w-8 h-8 mb-2 opacity-40\" />\r\n        <p className=\"text-xs\">Burndown data will appear as tasks are completed</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const maxVal = Math.max(total, ...data.map(d => d.remaining));\r\n  const chartH = 160;\r\n  const chartW = 100;\r\n\r\n  const toX = (i: number) => (i / (data.length - 1)) * chartW;\r\n  const toY = (v: number) => chartH - (v / (maxVal || 1)) * chartH;\r\n\r\n  const actualPath = data.map((d, i) => `${i === 0 ? 'M' : 'L'}${toX(i).toFixed(1)},${toY(d.remaining).toFixed(1)}`).join(' ');\r\n  const idealPath = data.map((d, i) => `${i === 0 ? 'M' : 'L'}${toX(i).toFixed(1)},${toY(d.idealRemaining).toFixed(1)}`).join(' ');\r\n  const areaPath = actualPath + ` L${chartW},${chartH} L0,${chartH} Z`;\r\n\r\n  const todayIdx = (() => {\r\n    const today = new Date().toISOString().slice(0, 10);\r\n    const idx = data.findIndex(d => d.date >= today);\r\n    return idx >= 0 ? idx : data.length - 1;\r\n  })();\r\n\r\n  const labels = useMemo(() => {\r\n    if (data.length <= 7) return data.map(d => d.date.slice(5));\r\n    const step = Math.ceil(data.length / 6);\r\n    return data.map((d, i) => i % step === 0 || i === data.length - 1 ? d.date.slice(5) : '');\r\n  }, [data]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <span className={SECTION_TITLE}>\r\n          Burndown ({usePoints ? 'Points' : 'Tasks'})\r\n        </span>\r\n        <span className=\"text-[10px] text-[var(--text-tertiary)]\">\r\n          {data[todayIdx]?.remaining ?? 0} remaining of {total}\r\n        </span>\r\n      </div>\r\n      <div className=\"relative\" style={{ paddingBottom: '45%' }}>\r\n        <svg viewBox={`-4 -4 ${chartW + 8} ${chartH + 24}`} className=\"absolute inset-0 w-full h-full\" preserveAspectRatio=\"none\">\r\n          {[0, 0.25, 0.5, 0.75, 1].map(f => (\r\n            <line key={f} x1=\"0\" y1={toY(maxVal * f)} x2={chartW} y2={toY(maxVal * f)}\r\n              stroke=\"var(--surface-hover)\" strokeWidth=\"0.3\" />\r\n          ))}\r\n          <path d={areaPath} fill=\"rgba(59,130,246,0.08)\" />\r\n          <path d={idealPath} fill=\"none\" stroke=\"var(--border-secondary)\" strokeWidth=\"0.5\" strokeDasharray=\"2,2\" />\r\n          <path d={actualPath} fill=\"none\" stroke=\"var(--color-brand-500, #3b82f6)\" strokeWidth=\"1\" strokeLinejoin=\"round\" />\r\n          {todayIdx < data.length && (\r\n            <line x1={toX(todayIdx)} y1=\"0\" x2={toX(todayIdx)} y2={chartH}\r\n              stroke=\"rgba(250,204,21,0.3)\" strokeWidth=\"0.5\" strokeDasharray=\"1.5,1.5\" />\r\n          )}\r\n          <circle cx={toX(todayIdx)} cy={toY(data[todayIdx]?.remaining ?? 0)} r=\"2\" fill=\"var(--color-brand-500, #3b82f6)\" />\r\n          {labels.map((label, i) => label ? (\r\n            <text key={i} x={toX(i)} y={chartH + 10} textAnchor=\"middle\"\r\n              className=\"fill-[var(--text-tertiary)]\" fontSize=\"3.5\">{label}</text>\r\n          ) : null)}\r\n        </svg>\r\n      </div>\r\n      <div className=\"flex items-center gap-4 mt-1 justify-center\">\r\n        <span className=\"flex items-center gap-1 text-[9px] text-[var(--text-tertiary)]\">\r\n          <span className=\"w-3 h-0.5 bg-[var(--color-brand-500)] rounded\" /> Actual\r\n        </span>\r\n        <span className=\"flex items-center gap-1 text-[9px] text-[var(--text-tertiary)]\">\r\n          <span className=\"w-3 h-0.5 bg-[var(--border-secondary)] rounded border-dashed\" /> Ideal\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useMemo } from 'react';\r\nimport { BarChart3 } from 'lucide-react';\r\nimport { SECTION_TITLE } from './styles';\r\n\r\ninterface VelocityEntry {\r\n  sprint_name: string;\r\n  completed_points: number;\r\n  completed_tasks: number;\r\n  total_points: number;\r\n  total_tasks: number;\r\n}\r\n\r\ninterface VelocityChartProps {\r\n  history: VelocityEntry[];\r\n}\r\n\r\nexport default function VelocityChart({ history }: VelocityChartProps) {\r\n  const data = useMemo(() => {\r\n    if (!history?.length) return [];\r\n    return history.slice(-8);\r\n  }, [history]);\r\n\r\n  const avgVelocity = useMemo(() => {\r\n    if (!data.length) return 0;\r\n    return Math.round(data.reduce((s, d) => s + d.completed_points, 0) / data.length);\r\n  }, [data]);\r\n\r\n  const maxVal = useMemo(() => Math.max(...data.map(d => Math.max(d.total_points, d.completed_points)), 1), [data]);\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]\">\r\n        <BarChart3 className=\"w-8 h-8 mb-2 opacity-40\" />\r\n        <p className=\"text-xs\">Velocity data builds as you complete sprints</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <span className={SECTION_TITLE}>Velocity</span>\r\n        <span className=\"text-[10px] text-[var(--text-tertiary)]\">Avg: {avgVelocity} pts/sprint</span>\r\n      </div>\r\n      <div className=\"flex items-end gap-1.5\" style={{ height: 100 }}>\r\n        {data.map((d, i) => {\r\n          const totalH = (d.total_points / maxVal) * 100;\r\n          return (\r\n            <div key={i} className=\"flex-1 flex flex-col items-center gap-0.5 group relative\">\r\n              <div className=\"w-full flex flex-col items-center justify-end\" style={{ height: 80 }}>\r\n                <div className=\"w-full rounded-t relative overflow-hidden\" style={{ height: `${totalH}%`, minHeight: 2 }}>\r\n                  <div className=\"absolute inset-0 bg-[var(--surface-hover)] rounded-t\" />\r\n                  <div className=\"absolute bottom-0 left-0 right-0 bg-[var(--color-brand-500)]/80 rounded-t transition-all\" style={{ height: `${d.total_points > 0 ? (d.completed_points / d.total_points) * 100 : 0}%` }} />\r\n                </div>\r\n              </div>\r\n              <span className=\"text-[8px] text-[var(--text-tertiary)] truncate max-w-full text-center leading-tight\"\r\n                title={d.sprint_name}>\r\n                {d.sprint_name.length > 8 ? d.sprint_name.slice(0, 7) + '\\u2026' : d.sprint_name}\r\n              </span>\r\n              <div className=\"absolute -top-6 left-1/2 -translate-x-1/2 bg-[var(--bg-elevated)] border border-[var(--border-primary)] rounded px-1.5 py-0.5 text-[8px] text-[var(--text-primary)] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\">\r\n                {d.completed_points}/{d.total_points} pts\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {avgVelocity > 0 && (\r\n        <div className=\"mt-2 h-px w-full relative\">\r\n          <div className=\"absolute inset-x-0 border-t border-dashed border-[var(--status-warning)]/30\" />\r\n          <span className=\"absolute right-0 -top-2 text-[8px] text-[var(--status-warning)]/60\">avg</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { cn } from '@/lib/utils';\r\nimport { AlertTriangle, CheckCircle, AlertCircle, XCircle, Activity } from 'lucide-react';\r\nimport type { SprintHealthScore } from '@/types/godmode';\r\nimport { SECTION_TITLE } from './styles';\r\n\r\ninterface HealthScoreWidgetProps {\r\n  health: SprintHealthScore | null | undefined;\r\n  isLoading?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\nconst riskConfig = {\r\n  low: { color: 'text-[var(--status-success)]', bg: 'bg-[var(--status-success-bg)]', border: 'border-[var(--status-success)]/30', icon: CheckCircle, label: 'Healthy' },\r\n  medium: { color: 'text-[var(--status-warning)]', bg: 'bg-[var(--status-warning-bg)]', border: 'border-[var(--status-warning)]/30', icon: AlertTriangle, label: 'At Risk' },\r\n  high: { color: 'text-orange-400', bg: 'bg-orange-500/10', border: 'border-orange-500/30', icon: AlertCircle, label: 'High Risk' },\r\n  critical: { color: 'text-[var(--status-danger)]', bg: 'bg-[var(--status-danger-bg)]', border: 'border-[var(--status-danger)]/30', icon: XCircle, label: 'Critical' },\r\n};\r\n\r\nconst factorLabels: Record<string, string> = {\r\n  completion_rate: 'Completion',\r\n  time_progress: 'Time Elapsed',\r\n  velocity_trend: 'Velocity',\r\n  overdue_ratio: 'On-time',\r\n  distribution_balance: 'Balance',\r\n};\r\n\r\nfunction ScoreRing({ score, size = 64, strokeWidth = 5, color }: { score: number; size?: number; strokeWidth?: number; color: string }) {\r\n  const radius = (size - strokeWidth) / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const offset = circumference - (score / 100) * circumference;\r\n  return (\r\n    <svg width={size} height={size} className=\"transform -rotate-90\">\r\n      <circle cx={size / 2} cy={size / 2} r={radius} fill=\"none\" stroke=\"var(--surface-hover)\" strokeWidth={strokeWidth} />\r\n      <circle cx={size / 2} cy={size / 2} r={radius} fill=\"none\" stroke={color} strokeWidth={strokeWidth}\r\n        strokeDasharray={circumference} strokeDashoffset={offset} strokeLinecap=\"round\"\r\n        className=\"transition-all duration-700 ease-out\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default function HealthScoreWidget({ health, isLoading, compact }: HealthScoreWidgetProps) {\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-4\">\r\n        <Activity className=\"w-5 h-5 text-[var(--text-tertiary)] animate-pulse\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!health) return null;\r\n\r\n  const cfg = riskConfig[health.risk_level] || riskConfig.medium;\r\n  const RiskIcon = cfg.icon;\r\n  const scoreColor = health.score >= 75 ? '#22c55e' : health.score >= 50 ? '#eab308' : health.score >= 25 ? '#f97316' : '#ef4444';\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className={cn('flex items-center gap-2 px-2.5 py-1.5 rounded-lg border', cfg.bg, cfg.border)}>\r\n        <div className=\"relative w-8 h-8\">\r\n          <ScoreRing score={health.score} size={32} strokeWidth={3} color={scoreColor} />\r\n          <span className=\"absolute inset-0 flex items-center justify-center text-[9px] font-bold\" style={{ color: scoreColor }}>\r\n            {health.score}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <span className={cn('text-[10px] font-medium', cfg.color)}>{cfg.label}</span>\r\n          {health.alerts.length > 0 && (\r\n            <p className=\"text-[9px] text-[var(--text-tertiary)] truncate max-w-[140px]\">{health.alerts[0]}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <span className={SECTION_TITLE}>Sprint Health</span>\r\n        <div className={cn('flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded-full border', cfg.bg, cfg.color, cfg.border)}>\r\n          <RiskIcon className=\"w-3 h-3\" /> {cfg.label}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"relative w-16 h-16 shrink-0\">\r\n          <ScoreRing score={health.score} size={64} strokeWidth={5} color={scoreColor} />\r\n          <span className=\"absolute inset-0 flex items-center justify-center text-lg font-bold\" style={{ color: scoreColor }}>\r\n            {health.score}\r\n          </span>\r\n        </div>\r\n        <div className=\"flex-1 space-y-1.5\">\r\n          {Object.entries(health.factors).map(([key, val]) => {\r\n            const isInverse = key === 'overdue_ratio';\r\n            const displayVal = isInverse ? 100 - val : val;\r\n            const barColor = displayVal >= 70 ? '#22c55e' : displayVal >= 40 ? '#eab308' : '#ef4444';\r\n            return (\r\n              <div key={key}>\r\n                <div className=\"flex justify-between text-[9px] mb-0.5\">\r\n                  <span className=\"text-[var(--text-tertiary)]\">{factorLabels[key] || key}</span>\r\n                  <span className=\"text-[var(--text-secondary)] tabular-nums\">{displayVal}%</span>\r\n                </div>\r\n                <div className=\"h-1 rounded-full bg-[var(--surface-hover)] overflow-hidden\">\r\n                  <div className=\"h-full rounded-full transition-all duration-500\" style={{ width: `${displayVal}%`, backgroundColor: barColor }} />\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {health.alerts.length > 0 && (\r\n        <div className=\"space-y-1\">\r\n          {health.alerts.map((alert, i) => (\r\n            <div key={i} className=\"flex items-start gap-1.5 text-[10px] text-[var(--status-warning)]\">\r\n              <AlertTriangle className=\"w-3 h-3 shrink-0 mt-0.5\" />\r\n              <span>{alert}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useCallback } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { GripVertical } from 'lucide-react';\r\nimport type { Action } from '@/types/godmode';\r\nimport OwnerBadge from '../sot/OwnerBadge';\r\nimport { SECTION_TITLE } from './styles';\r\n\r\ninterface KanbanBoardProps {\r\n  actions: Action[];\r\n  onStatusChange: (actionId: string, newStatus: Action['status']) => void;\r\n}\r\n\r\nconst COLUMNS: { id: Action['status']; label: string; color: string; dotColor: string }[] = [\r\n  { id: 'pending', label: 'To Do', color: 'border-[var(--text-tertiary)]/30', dotColor: 'bg-[var(--text-tertiary)]' },\r\n  { id: 'in_progress', label: 'In Progress', color: 'border-[var(--status-info)]/30', dotColor: 'bg-[var(--status-info)]' },\r\n  { id: 'overdue', label: 'Overdue', color: 'border-[var(--status-danger)]/30', dotColor: 'bg-[var(--status-danger)]' },\r\n  { id: 'completed', label: 'Done', color: 'border-[var(--status-success)]/30', dotColor: 'bg-[var(--status-success)]' },\r\n];\r\n\r\nexport default function KanbanBoard({ actions, onStatusChange }: KanbanBoardProps) {\r\n  const [dragId, setDragId] = useState<string | null>(null);\r\n  const [dragOverCol, setDragOverCol] = useState<string | null>(null);\r\n\r\n  const handleDragStart = useCallback((e: React.DragEvent, actionId: string) => {\r\n    setDragId(actionId);\r\n    e.dataTransfer.effectAllowed = 'move';\r\n    e.dataTransfer.setData('text/plain', actionId);\r\n    (e.currentTarget as HTMLElement).style.opacity = '0.4';\r\n  }, []);\r\n\r\n  const handleDragEnd = useCallback((e: React.DragEvent) => {\r\n    (e.currentTarget as HTMLElement).style.opacity = '1';\r\n    setDragId(null);\r\n    setDragOverCol(null);\r\n  }, []);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent, colId: string) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'move';\r\n    setDragOverCol(colId);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback(() => {\r\n    setDragOverCol(null);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent, colId: string) => {\r\n    e.preventDefault();\r\n    const actionId = e.dataTransfer.getData('text/plain');\r\n    if (actionId) {\r\n      const action = actions.find(a => a.id === actionId);\r\n      if (action && action.status !== colId) {\r\n        onStatusChange(actionId, colId as Action['status']);\r\n      }\r\n    }\r\n    setDragId(null);\r\n    setDragOverCol(null);\r\n  }, [actions, onStatusChange]);\r\n\r\n  const priorityDot = (p: string) =>\r\n    p === 'high' ? 'bg-[var(--status-danger)]' : p === 'medium' ? 'bg-[var(--status-warning)]' : 'bg-[var(--text-tertiary)]';\r\n\r\n  return (\r\n    <div>\r\n      <span className={cn(SECTION_TITLE, 'block mb-3')}>Kanban Board</span>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n        {COLUMNS.map(col => {\r\n          const colActions = actions.filter(a => a.status === col.id);\r\n          const isOver = dragOverCol === col.id;\r\n          return (\r\n            <div\r\n              key={col.id}\r\n              onDragOver={e => handleDragOver(e, col.id)}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={e => handleDrop(e, col.id)}\r\n              className={cn(\r\n                'rounded-xl border bg-[var(--surface-secondary)] min-h-[200px] transition-colors',\r\n                col.color,\r\n                isOver && 'border-[var(--accent-primary)]/50 bg-[var(--status-info-bg)]'\r\n              )}\r\n            >\r\n              <div className=\"px-3 py-2 border-b border-[var(--border-primary)] flex items-center gap-2\">\r\n                <span className={cn('w-2 h-2 rounded-full', col.dotColor)} />\r\n                <span className=\"text-xs font-medium text-[var(--text-primary)]\">{col.label}</span>\r\n                <span className=\"text-[10px] text-[var(--text-tertiary)] ml-auto\">{colActions.length}</span>\r\n              </div>\r\n              <div className=\"p-2 space-y-1.5\">\r\n                {colActions.map(action => (\r\n                  <div\r\n                    key={action.id}\r\n                    draggable\r\n                    onDragStart={e => handleDragStart(e, action.id)}\r\n                    onDragEnd={handleDragEnd}\r\n                    className={cn(\r\n                      'bg-[var(--surface-primary)] border border-[var(--border-primary)] rounded-lg p-2.5 cursor-grab active:cursor-grabbing hover:border-[var(--accent-primary)]/30 transition-colors group',\r\n                      dragId === action.id && 'opacity-40'\r\n                    )}\r\n                  >\r\n                    <div className=\"flex items-start gap-1.5\">\r\n                      <GripVertical className=\"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity shrink-0 mt-0.5\" />\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <p className=\"text-[11px] font-medium text-[var(--text-primary)] line-clamp-2 leading-tight\">\r\n                          {action.task || action.title || '(untitled)'}\r\n                        </p>\r\n                        <div className=\"flex items-center gap-1.5 mt-1.5\">\r\n                          {action.priority && (\r\n                            <span className={cn('w-1.5 h-1.5 rounded-full shrink-0', priorityDot(action.priority))} title={action.priority} />\r\n                          )}\r\n                          {action.task_points != null && (\r\n                            <span className=\"text-[8px] px-1 py-0.5 rounded bg-[var(--status-info-bg)] text-[var(--accent-primary)] tabular-nums\">{action.task_points}</span>\r\n                          )}\r\n                          {action.owner && <OwnerBadge name={action.owner} size=\"sm\" />}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {colActions.length === 0 && (\r\n                  <p className=\"text-[10px] text-[var(--text-tertiary)] text-center py-6\">\r\n                    {isOver ? 'Drop here' : 'No tasks'}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useMemo } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { GanttChartSquare } from 'lucide-react';\r\nimport type { Action } from '@/types/godmode';\r\nimport { SECTION_TITLE, STATUS_COLORS } from './styles';\r\n\r\ninterface GanttChartProps {\r\n  actions: Action[];\r\n  sprintStart: string;\r\n  sprintEnd: string;\r\n}\r\n\r\nconst statusColor = (s: string) => STATUS_COLORS[s] || STATUS_COLORS.pending;\r\n\r\nexport default function GanttChart({ actions, sprintStart, sprintEnd }: GanttChartProps) {\r\n  const data = useMemo(() => {\r\n    const start = new Date(sprintStart).getTime();\r\n    const end = new Date(sprintEnd).getTime();\r\n    const range = Math.max(1, end - start);\r\n\r\n    return actions.slice(0, 20).map(a => {\r\n      const taskStart = a.created_at ? new Date(a.created_at).getTime() : start;\r\n      const taskEnd = a.deadline ? new Date(a.deadline).getTime() : end;\r\n      const left = Math.max(0, Math.min(100, ((taskStart - start) / range) * 100));\r\n      const width = Math.max(2, Math.min(100 - left, ((taskEnd - taskStart) / range) * 100));\r\n      const hasDeps = (a.depends_on?.length ?? 0) > 0;\r\n      return { action: a, left, width, hasDeps };\r\n    });\r\n  }, [actions, sprintStart, sprintEnd]);\r\n\r\n  const today = useMemo(() => {\r\n    const start = new Date(sprintStart).getTime();\r\n    const end = new Date(sprintEnd).getTime();\r\n    const now = Date.now();\r\n    return Math.max(0, Math.min(100, ((now - start) / (end - start)) * 100));\r\n  }, [sprintStart, sprintEnd]);\r\n\r\n  const dateLabels = useMemo(() => {\r\n    const start = new Date(sprintStart);\r\n    const end = new Date(sprintEnd);\r\n    const range = (end.getTime() - start.getTime()) / 86400000;\r\n    const step = Math.max(1, Math.ceil(range / 6));\r\n    const labels: { label: string; pct: number }[] = [];\r\n    for (let i = 0; i <= range; i += step) {\r\n      const d = new Date(start.getTime() + i * 86400000);\r\n      labels.push({ label: `${d.getMonth() + 1}/${d.getDate()}`, pct: (i / range) * 100 });\r\n    }\r\n    return labels;\r\n  }, [sprintStart, sprintEnd]);\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]\">\r\n        <GanttChartSquare className=\"w-8 h-8 mb-2 opacity-40\" />\r\n        <p className=\"text-xs\">No tasks to display on the timeline</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span className={cn(SECTION_TITLE, 'block mb-3')}>Timeline</span>\r\n\r\n      <div className=\"relative h-5 mb-1\">\r\n        {dateLabels.map((d, i) => (\r\n          <span key={i} className=\"absolute text-[8px] text-[var(--text-tertiary)] -translate-x-1/2\" style={{ left: `${d.pct}%` }}>\r\n            {d.label}\r\n          </span>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        <div className=\"absolute top-0 bottom-0 w-px bg-[var(--status-warning)]/30 z-10\" style={{ left: `${today}%` }} />\r\n\r\n        <div className=\"space-y-1\">\r\n          {data.map(({ action, left, width, hasDeps }) => (\r\n            <div key={action.id} className=\"flex items-center gap-2 group h-7\">\r\n              <div className=\"w-24 shrink-0 truncate text-[10px] text-[var(--text-secondary)] pr-1\" title={action.task || action.title}>\r\n                {(action.task || action.title || '').slice(0, 18)}{(action.task || '').length > 18 ? '\\u2026' : ''}\r\n              </div>\r\n              <div className=\"flex-1 relative h-full\">\r\n                <div className=\"absolute inset-0 bg-[var(--surface-secondary)] rounded\" />\r\n                <div\r\n                  className={cn(\r\n                    'absolute h-4 top-1.5 rounded-sm transition-all cursor-default',\r\n                    hasDeps && 'ring-1 ring-purple-500/40'\r\n                  )}\r\n                  style={{\r\n                    left: `${left}%`,\r\n                    width: `${width}%`,\r\n                    backgroundColor: statusColor(action.status),\r\n                    opacity: action.status === 'completed' ? 0.6 : 0.8,\r\n                  }}\r\n                  title={`${action.task || action.title} (${action.status})${action.owner ? ` \\u2014 ${action.owner}` : ''}`}\r\n                />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-3 mt-2 justify-center\">\r\n        {[\r\n          { label: 'Pending', key: 'pending' },\r\n          { label: 'In Progress', key: 'in_progress' },\r\n          { label: 'Completed', key: 'completed' },\r\n          { label: 'Overdue', key: 'overdue' },\r\n        ].map(l => (\r\n          <span key={l.label} className=\"flex items-center gap-1 text-[8px] text-[var(--text-tertiary)]\">\r\n            <span className=\"w-2 h-2 rounded-sm\" style={{ backgroundColor: STATUS_COLORS[l.key] }} /> {l.label}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Plus, X, Loader2, Sparkles, ThumbsUp, ThumbsDown, ListChecks } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useSprintRetrospective } from '../../hooks/useGodMode';\r\nimport { CARD_FLAT, INPUT, SECTION_TITLE } from './styles';\r\n\r\ninterface RetrospectivePanelProps {\r\n  sprintId: string;\r\n}\r\n\r\nfunction EditableList({ items, onAdd, onRemove, placeholder, color }: {\r\n  items: string[];\r\n  onAdd: (item: string) => void;\r\n  onRemove: (idx: number) => void;\r\n  placeholder: string;\r\n  color: string;\r\n}) {\r\n  const [input, setInput] = useState('');\r\n  const handleAdd = () => {\r\n    if (!input.trim()) return;\r\n    onAdd(input.trim());\r\n    setInput('');\r\n  };\r\n  return (\r\n    <div className=\"space-y-1.5\">\r\n      {items.map((item, i) => (\r\n        <div key={i} className=\"flex items-start gap-2 group\">\r\n          <span className={cn('w-1.5 h-1.5 rounded-full mt-1.5 shrink-0', color)} />\r\n          <span className=\"text-xs text-[var(--text-secondary)] flex-1\">{item}</span>\r\n          <button onClick={() => onRemove(i)} className=\"text-[var(--text-tertiary)] hover:text-[var(--status-danger)] opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <X className=\"w-3 h-3\" />\r\n          </button>\r\n        </div>\r\n      ))}\r\n      <div className=\"flex gap-1.5\">\r\n        <input value={input} onChange={e => setInput(e.target.value)} onKeyDown={e => e.key === 'Enter' && handleAdd()}\r\n          className={cn(INPUT, 'w-full')} placeholder={placeholder} />\r\n        <button onClick={handleAdd} className=\"shrink-0 w-7 h-7 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] flex items-center justify-center\">\r\n          <Plus className=\"w-3.5 h-3.5 text-[var(--text-tertiary)]\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function RetrospectivePanel({ sprintId }: RetrospectivePanelProps) {\r\n  const retroMut = useSprintRetrospective();\r\n  const [wentWell, setWentWell] = useState<string[]>([]);\r\n  const [wentWrong, setWentWrong] = useState<string[]>([]);\r\n  const [actionItems, setActionItems] = useState<string[]>([]);\r\n  const [aiSuggestions, setAiSuggestions] = useState('');\r\n\r\n  const handleGenerate = () => {\r\n    retroMut.mutate({ sprintId, went_well: wentWell, went_wrong: wentWrong, action_items: actionItems }, {\r\n      onSuccess: (d: any) => {\r\n        setAiSuggestions(d?.ai_suggestions || '');\r\n        toast.success('Retrospective generated');\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <span className={SECTION_TITLE}>Sprint Retrospective</span>\r\n        <button onClick={handleGenerate} disabled={retroMut.isPending}\r\n          className=\"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50\">\r\n          {retroMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n          AI Insights\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n        <div className={cn(CARD_FLAT, 'p-3')}>\r\n          <div className=\"flex items-center gap-1.5 mb-2\">\r\n            <ThumbsUp className=\"w-3.5 h-3.5 text-[var(--status-success)]\" />\r\n            <span className=\"text-xs font-medium text-[var(--status-success)]\">What Went Well</span>\r\n          </div>\r\n          <EditableList\r\n            items={wentWell}\r\n            onAdd={item => setWentWell(prev => [...prev, item])}\r\n            onRemove={idx => setWentWell(prev => prev.filter((_, i) => i !== idx))}\r\n            placeholder=\"Add positive...\"\r\n            color=\"bg-[var(--status-success)]\"\r\n          />\r\n        </div>\r\n\r\n        <div className={cn(CARD_FLAT, 'p-3')}>\r\n          <div className=\"flex items-center gap-1.5 mb-2\">\r\n            <ThumbsDown className=\"w-3.5 h-3.5 text-[var(--status-danger)]\" />\r\n            <span className=\"text-xs font-medium text-[var(--status-danger)]\">What Needs Improvement</span>\r\n          </div>\r\n          <EditableList\r\n            items={wentWrong}\r\n            onAdd={item => setWentWrong(prev => [...prev, item])}\r\n            onRemove={idx => setWentWrong(prev => prev.filter((_, i) => i !== idx))}\r\n            placeholder=\"Add improvement...\"\r\n            color=\"bg-[var(--status-danger)]\"\r\n          />\r\n        </div>\r\n\r\n        <div className={cn(CARD_FLAT, 'p-3')}>\r\n          <div className=\"flex items-center gap-1.5 mb-2\">\r\n            <ListChecks className=\"w-3.5 h-3.5 text-[var(--accent-primary)]\" />\r\n            <span className=\"text-xs font-medium text-[var(--accent-primary)]\">Action Items</span>\r\n          </div>\r\n          <EditableList\r\n            items={actionItems}\r\n            onAdd={item => setActionItems(prev => [...prev, item])}\r\n            onRemove={idx => setActionItems(prev => prev.filter((_, i) => i !== idx))}\r\n            placeholder=\"Add action item...\"\r\n            color=\"bg-[var(--accent-primary)]\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {aiSuggestions && (\r\n        <div className={cn(CARD_FLAT, 'p-4')}>\r\n          <span className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">AI Insights</span>\r\n          <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">{aiSuggestions}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Loader2, Sparkles, User, CheckCircle, ArrowRight, AlertTriangle } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useSprintStandup } from '../../hooks/useGodMode';\r\nimport type { SprintStandup, StandupEntry } from '@/types/godmode';\r\nimport { CARD_FLAT, SECTION_TITLE } from './styles';\r\n\r\ninterface StandupPanelProps {\r\n  sprintId: string;\r\n}\r\n\r\nexport default function StandupPanel({ sprintId }: StandupPanelProps) {\r\n  const standupMut = useSprintStandup();\r\n  const [standup, setStandup] = useState<SprintStandup | null>(null);\r\n\r\n  const handleGenerate = () => {\r\n    standupMut.mutate(sprintId, {\r\n      onSuccess: (d: any) => {\r\n        setStandup(d as SprintStandup);\r\n        toast.success('Standup generated');\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <span className={SECTION_TITLE}>Daily Standup</span>\r\n        <button onClick={handleGenerate} disabled={standupMut.isPending}\r\n          className=\"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50\">\r\n          {standupMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n          Generate Standup\r\n        </button>\r\n      </div>\r\n\r\n      {standup && (\r\n        <>\r\n          <p className=\"text-[10px] text-[var(--text-tertiary)]\">{standup.date}</p>\r\n\r\n          {standup.ai_summary && (\r\n            <div className={cn(CARD_FLAT, 'p-3')}>\r\n              <span className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">AI Summary</span>\r\n              <p className=\"mt-1 text-xs text-[var(--text-secondary)] whitespace-pre-wrap\">{standup.ai_summary}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-2\">\r\n            {(standup.entries || []).map((entry, i) => (\r\n              <div key={i} className={cn(CARD_FLAT, 'p-3')}>\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <User className=\"w-3.5 h-3.5 text-[var(--accent-primary)]\" />\r\n                  <span className=\"text-xs font-medium text-[var(--text-primary)]\">{entry.person}</span>\r\n                </div>\r\n                <div className=\"space-y-1.5 pl-5\">\r\n                  {entry.done.length > 0 && (\r\n                    <div>\r\n                      <span className=\"text-[9px] text-[var(--status-success)] uppercase tracking-wider font-medium\">Done</span>\r\n                      {entry.done.map((d, j) => (\r\n                        <div key={j} className=\"flex items-start gap-1.5 mt-0.5\">\r\n                          <CheckCircle className=\"w-3 h-3 text-[var(--status-success)] shrink-0 mt-0.5\" />\r\n                          <span className=\"text-[11px] text-[var(--text-secondary)]\">{d}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {entry.doing.length > 0 && (\r\n                    <div>\r\n                      <span className=\"text-[9px] text-[var(--accent-primary)] uppercase tracking-wider font-medium\">Doing</span>\r\n                      {entry.doing.map((d, j) => (\r\n                        <div key={j} className=\"flex items-start gap-1.5 mt-0.5\">\r\n                          <ArrowRight className=\"w-3 h-3 text-[var(--accent-primary)] shrink-0 mt-0.5\" />\r\n                          <span className=\"text-[11px] text-[var(--text-secondary)]\">{d}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {entry.blockers.length > 0 && (\r\n                    <div>\r\n                      <span className=\"text-[9px] text-[var(--status-danger)] uppercase tracking-wider font-medium\">Blockers</span>\r\n                      {entry.blockers.map((d, j) => (\r\n                        <div key={j} className=\"flex items-start gap-1.5 mt-0.5\">\r\n                          <AlertTriangle className=\"w-3 h-3 text-[var(--status-danger)] shrink-0 mt-0.5\" />\r\n                          <span className=\"text-[11px] text-[var(--text-secondary)]\">{d}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {entry.done.length === 0 && entry.doing.length === 0 && entry.blockers.length === 0 && (\r\n                    <span className=\"text-[10px] text-[var(--text-tertiary)]\">No updates</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {!standup && !standupMut.isPending && (\r\n        <p className=\"text-xs text-[var(--text-tertiary)] text-center py-4\">Click \"Generate Standup\" to get today's team summary</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useMemo } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Loader2, Sparkles, Plus, X, Users } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useSprintCapacity } from '../../hooks/useGodMode';\r\nimport type { SprintCapacity, Action } from '@/types/godmode';\r\nimport { CARD_FLAT, INPUT, SECTION_TITLE } from './styles';\r\n\r\ninterface CapacityPanelProps {\r\n  sprintId: string;\r\n  actions: Action[];\r\n}\r\n\r\nexport default function CapacityPanel({ sprintId, actions }: CapacityPanelProps) {\r\n  const capacityMut = useSprintCapacity();\r\n  const [capacities, setCapacities] = useState<Record<string, number>>({});\r\n  const [result, setResult] = useState<{ capacity: SprintCapacity[]; ai_recommendation: string | null } | null>(null);\r\n  const [newPerson, setNewPerson] = useState('');\r\n  const [newPoints, setNewPoints] = useState('');\r\n\r\n  const owners = useMemo(() => {\r\n    const set = new Set<string>();\r\n    actions.forEach(a => { if (a.owner?.trim()) set.add(a.owner.trim()); });\r\n    Object.keys(capacities).forEach(k => set.add(k));\r\n    return Array.from(set).sort();\r\n  }, [actions, capacities]);\r\n\r\n  const addPerson = () => {\r\n    if (!newPerson.trim() || !newPoints) return;\r\n    setCapacities(prev => ({ ...prev, [newPerson.trim()]: Number(newPoints) || 0 }));\r\n    setNewPerson('');\r\n    setNewPoints('');\r\n  };\r\n\r\n  const handleAnalyze = () => {\r\n    if (Object.keys(capacities).length === 0) {\r\n      toast.error('Set capacity for at least one person');\r\n      return;\r\n    }\r\n    capacityMut.mutate({ sprintId, capacities }, {\r\n      onSuccess: (d: any) => {\r\n        setResult(d);\r\n        toast.success('Capacity analysis complete');\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <span className={SECTION_TITLE}>Capacity Planning</span>\r\n        <button onClick={handleAnalyze} disabled={capacityMut.isPending}\r\n          className=\"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50\">\r\n          {capacityMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />}\r\n          Analyze Capacity\r\n        </button>\r\n      </div>\r\n\r\n      <div className={cn(CARD_FLAT, 'p-3 space-y-2')}>\r\n        <span className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider\">Team Capacity (points per sprint)</span>\r\n        {owners.map(person => (\r\n          <div key={person} className=\"flex items-center gap-2\">\r\n            <Users className=\"w-3 h-3 text-[var(--text-tertiary)]\" />\r\n            <span className=\"text-xs text-[var(--text-primary)] flex-1 truncate\">{person}</span>\r\n            <input\r\n              type=\"number\" min=\"0\"\r\n              value={capacities[person] ?? ''}\r\n              onChange={e => setCapacities(prev => ({ ...prev, [person]: Number(e.target.value) || 0 }))}\r\n              placeholder=\"pts\"\r\n              className={cn(INPUT, 'w-16 text-center')}\r\n            />\r\n            {capacities[person] !== undefined && (\r\n              <button onClick={() => setCapacities(prev => { const n = { ...prev }; delete n[person]; return n; })}\r\n                className=\"text-[var(--text-tertiary)] hover:text-[var(--status-danger)]\">\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n        <div className=\"flex items-center gap-2 pt-1\">\r\n          <input value={newPerson} onChange={e => setNewPerson(e.target.value)} placeholder=\"Name\" className={cn(INPUT, 'flex-1')} />\r\n          <input type=\"number\" min=\"0\" value={newPoints} onChange={e => setNewPoints(e.target.value)} placeholder=\"pts\"\r\n            className={cn(INPUT, 'w-16 text-center')} onKeyDown={e => e.key === 'Enter' && addPerson()} />\r\n          <button onClick={addPerson} className=\"w-7 h-7 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] flex items-center justify-center\">\r\n            <Plus className=\"w-3.5 h-3.5 text-[var(--text-tertiary)]\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {result && (\r\n        <>\r\n          <div className=\"space-y-2\">\r\n            {result.capacity.map(c => {\r\n              const pct = c.utilization;\r\n              const barColor = c.over_allocated ? '#ef4444' : pct > 80 ? '#f59e0b' : '#22c55e';\r\n              const barWidth = Math.min(100, pct);\r\n              return (\r\n                <div key={c.person} className={cn(CARD_FLAT, 'p-3')}>\r\n                  <div className=\"flex items-center justify-between mb-1\">\r\n                    <span className=\"text-xs font-medium text-[var(--text-primary)]\">{c.person}</span>\r\n                    <span className=\"text-[10px] tabular-nums\" style={{ color: barColor }}>\r\n                      {c.assigned_points}/{c.available_points} pts ({pct}%)\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"h-2 rounded-full bg-[var(--surface-hover)] overflow-hidden\">\r\n                    <div className=\"h-full rounded-full transition-all\" style={{ width: `${barWidth}%`, backgroundColor: barColor }} />\r\n                  </div>\r\n                  {c.over_allocated && (\r\n                    <p className=\"text-[9px] text-[var(--status-danger)] mt-1\">Over-allocated by {c.assigned_points - c.available_points} points</p>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {result.ai_recommendation && (\r\n            <div className={cn(CARD_FLAT, 'p-4')}>\r\n              <span className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">AI Recommendation</span>\r\n              <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">{result.ai_recommendation}</div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Loader2, Sparkles } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useSprintEstimatePoints } from '../../hooks/useGodMode';\r\n\r\ninterface EstimatePointsButtonProps {\r\n  sprintId: string;\r\n  taskDescription: string;\r\n  onEstimate?: (points: number) => void;\r\n  className?: string;\r\n}\r\n\r\nexport default function EstimatePointsButton({ sprintId, taskDescription, onEstimate, className }: EstimatePointsButtonProps) {\r\n  const estimateMut = useSprintEstimatePoints();\r\n  const [result, setResult] = useState<{ points: number; confidence: string; reasoning: string } | null>(null);\r\n\r\n  const handleEstimate = () => {\r\n    if (!taskDescription.trim()) { toast.error('Task description needed'); return; }\r\n    estimateMut.mutate({ sprintId, task: taskDescription }, {\r\n      onSuccess: (d: any) => {\r\n        setResult(d);\r\n        onEstimate?.(d.points);\r\n        toast.success(`Estimated: ${d.points} points (${d.confidence} confidence)`);\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const confColor = result?.confidence === 'high'\r\n    ? 'text-[var(--status-success)]'\r\n    : result?.confidence === 'medium'\r\n      ? 'text-[var(--status-warning)]'\r\n      : 'text-orange-400';\r\n\r\n  return (\r\n    <div className={cn('inline-flex items-center gap-2', className)}>\r\n      <button onClick={handleEstimate} disabled={estimateMut.isPending}\r\n        className=\"inline-flex items-center gap-1 px-2 py-1 text-[10px] font-medium rounded-md bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50 transition-colors\"\r\n        title=\"AI estimate story points\">\r\n        {estimateMut.isPending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <Sparkles className=\"w-3 h-3\" />}\r\n        Estimate\r\n      </button>\r\n      {result && (\r\n        <div className=\"flex items-center gap-1.5\">\r\n          <span className=\"text-xs font-bold text-[var(--accent-primary)] tabular-nums\">{result.points} pts</span>\r\n          <span className={cn('text-[9px]', confColor)}>({result.confidence})</span>\r\n          {result.reasoning && (\r\n            <span className=\"text-[9px] text-[var(--text-tertiary)] max-w-[200px] truncate\" title={result.reasoning}>\r\n              {result.reasoning}\r\n            </span>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { X, Loader2, FileText, Presentation, Zap, Building2, CheckCircle, Circle, Download, Printer } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { toast } from 'sonner';\r\nimport { cn } from '@/lib/utils';\r\nimport type { Sprint, SprintReport, Action } from '@/types/godmode';\r\nimport {\r\n  useSprintReport,\r\n  useSprintReportAnalyze,\r\n  useSprintBusinessReport,\r\n  useSprintReportDocument,\r\n  useSprintReportPresentation,\r\n} from '../../hooks/useGodMode';\r\nimport BreakdownChart from './BreakdownChart';\r\nimport { CARD_FLAT, SECTION_TITLE, BTN_PRIMARY, BTN_SECONDARY, BTN_GHOST } from './styles';\r\n\r\ninterface SprintReportModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  sprint: Sprint;\r\n}\r\n\r\nconst CARD = CARD_FLAT;\r\nconst BTN = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg disabled:opacity-50 transition-colors';\r\n\r\nconst STYLE_OPTIONS = [\r\n  { key: 'sprint_report_style_corporate_classic', label: 'Corporate Classic' },\r\n  { key: 'sprint_report_style_modern_minimal', label: 'Modern Minimal' },\r\n  { key: 'sprint_report_style_startup_tech', label: 'Startup Tech' },\r\n  { key: 'sprint_report_style_consultancy', label: 'Consultancy' },\r\n];\r\n\r\nfunction downloadHtml(html: string, filename: string) {\r\n  const blob = new Blob([html], { type: 'text/html' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nfunction openHtmlForPdf(html: string) {\r\n  const blob = new Blob([html], { type: 'text/html' });\r\n  const url = URL.createObjectURL(blob);\r\n  const win = window.open(url, '_blank');\r\n  if (win) {\r\n    win.addEventListener('load', () => {\r\n      setTimeout(() => win.print(), 600);\r\n    });\r\n  }\r\n}\r\n\r\nexport default function SprintReportModal({ open, onClose, sprint }: SprintReportModalProps) {\r\n  const { data: reportData, isLoading: reportLoading } = useSprintReport(open ? sprint.id : null);\r\n  const analyzeMut = useSprintReportAnalyze();\r\n  const businessMut = useSprintBusinessReport();\r\n  const docMut = useSprintReportDocument();\r\n  const presMut = useSprintReportPresentation();\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const handleKey = (e: KeyboardEvent) => { if (e.key === 'Escape') onClose(); };\r\n    document.addEventListener('keydown', handleKey);\r\n    return () => document.removeEventListener('keydown', handleKey);\r\n  }, [open, onClose]);\r\n\r\n  const [analysisText, setAnalysisText] = useState('');\r\n  const [businessText, setBusinessText] = useState('');\r\n  const [includeAnalysis, setIncludeAnalysis] = useState(true);\r\n  const [includeBusiness, setIncludeBusiness] = useState(true);\r\n  const [selectedStyle, setSelectedStyle] = useState(STYLE_OPTIONS[0].key);\r\n  const [lastDocHtml, setLastDocHtml] = useState<string | null>(null);\r\n  const [lastPresHtml, setLastPresHtml] = useState<string | null>(null);\r\n\r\n  const report = reportData as SprintReport | undefined;\r\n  const actions = (report?.actions ?? []) as Action[];\r\n  const breakdown = report?.breakdown ?? { by_status: {}, by_assignee: {} };\r\n  const graphContext = (report as any)?.graph_context as { sprint_name?: string; sprint_context?: string; assignees?: string[] } | null;\r\n  const totalTasks = report?.total_tasks ?? actions.length;\r\n  const completedTasks = report?.completed_tasks ?? actions.filter(a => a.status === 'completed').length;\r\n  const totalPoints = report?.total_task_points ?? 0;\r\n  const completedPoints = report?.completed_task_points ?? 0;\r\n  const completionPct = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;\r\n\r\n  const handleAnalyze = () => {\r\n    analyzeMut.mutate(sprint.id, {\r\n      onSuccess: (d: any) => {\r\n        setAnalysisText(d?.ai_analysis || d?.analysis || '');\r\n        toast.success('Analysis complete');\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleBusiness = () => {\r\n    businessMut.mutate(sprint.id, {\r\n      onSuccess: (d: any) => {\r\n        setBusinessText(d?.business_report || d?.summary || '');\r\n        toast.success('Business report ready');\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleExportDoc = () => {\r\n    docMut.mutate({ sprintId: sprint.id, style: selectedStyle, include_analysis: includeAnalysis, include_business: includeBusiness }, {\r\n      onSuccess: (d: any) => {\r\n        if (d?.html) {\r\n          setLastDocHtml(d.html);\r\n          downloadHtml(d.html, `sprint-${sprint.name || sprint.id}-report.html`);\r\n          toast.success('Document downloaded');\r\n        }\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleExportPres = () => {\r\n    presMut.mutate({ sprintId: sprint.id, include_analysis: includeAnalysis, include_business: includeBusiness }, {\r\n      onSuccess: (d: any) => {\r\n        if (d?.html) {\r\n          setLastPresHtml(d.html);\r\n          downloadHtml(d.html, `sprint-${sprint.name || sprint.id}-presentation.html`);\r\n          toast.success('Presentation downloaded');\r\n        }\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleOpenDocForPdf = () => {\r\n    if (lastDocHtml) {\r\n      openHtmlForPdf(lastDocHtml);\r\n    } else {\r\n      docMut.mutate({ sprintId: sprint.id, style: selectedStyle, include_analysis: includeAnalysis, include_business: includeBusiness }, {\r\n        onSuccess: (d: any) => {\r\n          if (d?.html) {\r\n            setLastDocHtml(d.html);\r\n            openHtmlForPdf(d.html);\r\n          }\r\n        },\r\n        onError: (e: Error) => toast.error(e.message),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleOpenPresForPdf = () => {\r\n    if (lastPresHtml) {\r\n      openHtmlForPdf(lastPresHtml);\r\n    } else {\r\n      presMut.mutate({ sprintId: sprint.id, include_analysis: includeAnalysis, include_business: includeBusiness }, {\r\n        onSuccess: (d: any) => {\r\n          if (d?.html) {\r\n            setLastPresHtml(d.html);\r\n            openHtmlForPdf(d.html);\r\n          }\r\n        },\r\n        onError: (e: Error) => toast.error(e.message),\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <>\r\n          <div className=\"fixed inset-0 bg-[var(--bg-overlay)] backdrop-blur-sm z-50\" onClick={onClose} />\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.95 }}\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n          >\r\n            <div\r\n              role=\"dialog\"\r\n              aria-modal=\"true\"\r\n              aria-label={`Sprint Report  ${sprint.name}`}\r\n              className=\"bg-[var(--bg-elevated)] border border-[var(--border-primary)] rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col\"\r\n              style={{ backgroundColor: 'var(--bg-elevated)', color: 'var(--text-primary)' }}\r\n              onClick={e => e.stopPropagation()}\r\n            >\r\n              {/* Header */}\r\n              <div className=\"flex items-center justify-between p-5 border-b border-[var(--border-primary)] shrink-0\"\r\n                style={{ background: 'linear-gradient(to right, rgba(37,99,235,0.18), rgba(37,99,235,0.05))' }}>\r\n                <div>\r\n                  <h2 className=\"text-lg font-semibold text-[var(--text-primary)]\">Sprint Report</h2>\r\n                  <p className=\"text-xs text-[var(--text-tertiary)]\">{sprint.name}</p>\r\n                </div>\r\n                <button onClick={onClose} aria-label=\"Close report\" className=\"w-8 h-8 rounded-lg hover:bg-[var(--surface-hover)] flex items-center justify-center\">\r\n                  <X className=\"w-4 h-4 text-[var(--text-tertiary)]\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"flex-1 overflow-y-auto p-5 space-y-5\">\r\n                {reportLoading ? (\r\n                  <div className=\"flex items-center justify-center h-32\">\r\n                    <Loader2 className=\"w-6 h-6 animate-spin text-[var(--accent-primary)]\" />\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* Stats Cards */}\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                      {[\r\n                        { label: 'Total Tasks', value: totalTasks, sub: '' },\r\n                        { label: 'Completed', value: completedTasks, sub: `${completionPct}%` },\r\n                        { label: 'Total Points', value: totalPoints, sub: '' },\r\n                        { label: 'Done Points', value: completedPoints, sub: totalPoints > 0 ? `${Math.round((completedPoints / totalPoints) * 100)}%` : '' },\r\n                      ].map(s => (\r\n                        <div key={s.label} className={cn(CARD, 'p-3 text-center')}>\r\n                          <p className=\"text-2xl font-bold text-[var(--text-primary)]\">{s.value}</p>\r\n                          <p className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider\">{s.label}</p>\r\n                          {s.sub && <p className=\"text-xs text-[var(--accent-primary)] mt-0.5\">{s.sub}</p>}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n\r\n                    {/* Breakdown Charts */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <BreakdownChart title=\"By Status\" data={breakdown.by_status} />\r\n                      </div>\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <BreakdownChart title=\"By Assignee\" data={breakdown.by_assignee} />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Graph Context */}\r\n                    {graphContext && (graphContext.assignees?.length || graphContext.sprint_name) && (\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <span className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">Graph Context</span>\r\n                        <div className=\"mt-2 space-y-1.5\">\r\n                          {graphContext.sprint_name && (\r\n                            <p className=\"text-xs text-[var(--text-secondary)]\">\r\n                              <span className=\"text-[var(--text-tertiary)]\">Sprint node:</span> {graphContext.sprint_name}\r\n                              {graphContext.sprint_context && <span className=\"text-[var(--text-tertiary)]\">  {graphContext.sprint_context}</span>}\r\n                            </p>\r\n                          )}\r\n                          {graphContext.assignees && graphContext.assignees.length > 0 && (\r\n                            <div className=\"flex items-center gap-1.5 flex-wrap\">\r\n                              <span className=\"text-[10px] text-[var(--text-tertiary)]\">Assignees:</span>\r\n                              {graphContext.assignees.map(name => (\r\n                                <span key={name} className=\"text-[10px] px-2 py-0.5 rounded-full bg-purple-500/10 text-purple-400\">{name}</span>\r\n                              ))}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Task List */}\r\n                    {actions.length > 0 && (\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <span className=\"text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]\">\r\n                          Tasks ({actions.length})\r\n                        </span>\r\n                        <div className=\"mt-2 space-y-1 max-h-48 overflow-y-auto\">\r\n                          {actions.map(a => {\r\n                            const done = a.status === 'completed';\r\n                            return (\r\n                              <div key={a.id} className=\"flex items-center gap-2 py-1 px-2 rounded hover:bg-[var(--surface-hover)]\">\r\n                                {done\r\n                                  ? <CheckCircle className=\"w-3.5 h-3.5 text-[var(--status-success)] shrink-0\" />\r\n                                  : <Circle className=\"w-3.5 h-3.5 text-[var(--text-tertiary)] shrink-0\" />}\r\n                                <span className={cn('text-xs flex-1 truncate', done ? 'line-through text-[var(--text-tertiary)]' : 'text-[var(--text-primary)]')}>\r\n                                  {a.task || a.title || '(untitled)'}\r\n                                </span>\r\n                                {a.owner && <span className=\"text-[10px] text-[var(--text-tertiary)] truncate max-w-[100px]\">{a.owner}</span>}\r\n                                <span className=\"text-[9px] text-[var(--text-tertiary)] capitalize shrink-0\">{a.status}</span>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* AI Actions */}\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      <button onClick={handleAnalyze} disabled={analyzeMut.isPending} className={cn(BTN, 'bg-purple-500/10 text-purple-400 hover:bg-purple-500/20')}>\r\n                        {analyzeMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Zap className=\"w-3.5 h-3.5\" />}\r\n                        AI Analysis\r\n                      </button>\r\n                      <button onClick={handleBusiness} disabled={businessMut.isPending} className={cn(BTN, 'bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20')}>\r\n                        {businessMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Building2 className=\"w-3.5 h-3.5\" />}\r\n                        Business Report\r\n                      </button>\r\n                    </div>\r\n\r\n                    {/* AI Analysis Result */}\r\n                    {analysisText && (\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <span className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">AI Analysis</span>\r\n                        <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">\r\n                          {analysisText}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Business Report Result */}\r\n                    {businessText && (\r\n                      <div className={cn(CARD, 'p-4')}>\r\n                        <span className=\"text-[10px] font-bold text-emerald-400 uppercase tracking-[0.1em]\">Business Report</span>\r\n                        <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">\r\n                          {businessText}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Export Section */}\r\n                    <div className={cn(CARD, 'p-4 space-y-3')}>\r\n                      <span className=\"text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]\">Export</span>\r\n\r\n                      <div className=\"flex flex-wrap gap-3\">\r\n                        <label className=\"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer\">\r\n                          <input type=\"checkbox\" checked={includeAnalysis} onChange={e => setIncludeAnalysis(e.target.checked)} className=\"rounded border-[var(--border-primary)]\" />\r\n                          Include AI Analysis\r\n                        </label>\r\n                        <label className=\"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer\">\r\n                          <input type=\"checkbox\" checked={includeBusiness} onChange={e => setIncludeBusiness(e.target.checked)} className=\"rounded border-[var(--border-primary)]\" />\r\n                          Include Business Report\r\n                        </label>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider block mb-1\">Document Style</label>\r\n                        <div className=\"flex flex-wrap gap-1.5\">\r\n                          {STYLE_OPTIONS.map(opt => (\r\n                            <button\r\n                              key={opt.key}\r\n                              onClick={() => setSelectedStyle(opt.key)}\r\n                              className={cn(\r\n                                'px-2.5 py-1 rounded-md text-[10px] font-medium border transition-colors',\r\n                                selectedStyle === opt.key\r\n                                  ? 'bg-[var(--interactive-primary)]/20 text-[var(--accent-primary)] border-[var(--accent-primary)]/30'\r\n                                  : 'bg-[var(--surface-secondary)] text-[var(--text-tertiary)] border-[var(--border-primary)] hover:text-[var(--text-primary)]'\r\n                              )}\r\n                            >\r\n                              {opt.label}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-wrap gap-2 pt-1\">\r\n                        <button onClick={handleExportDoc} disabled={docMut.isPending} className={cn(BTN, 'bg-[var(--interactive-primary)] text-[var(--text-on-brand)] hover:bg-[var(--interactive-primary-hover)]')}>\r\n                          {docMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <FileText className=\"w-3.5 h-3.5\" />}\r\n                          Download A4 Document\r\n                        </button>\r\n                        <button onClick={handleExportPres} disabled={presMut.isPending} className={cn(BTN, 'bg-orange-500/10 text-orange-400 hover:bg-orange-500/20')}>\r\n                          {presMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Presentation className=\"w-3.5 h-3.5\" />}\r\n                          Download Presentation\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        <button onClick={handleOpenDocForPdf} disabled={docMut.isPending} className={cn(BTN, 'bg-[var(--surface-secondary)] text-[var(--text-secondary)] hover:bg-[var(--surface-hover)] border border-[var(--border-primary)]')}>\r\n                          {docMut.isPending && !lastDocHtml ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Printer className=\"w-3.5 h-3.5\" />}\r\n                          Open Document for PDF\r\n                        </button>\r\n                        <button onClick={handleOpenPresForPdf} disabled={presMut.isPending} className={cn(BTN, 'bg-[var(--surface-secondary)] text-[var(--text-secondary)] hover:bg-[var(--surface-hover)] border border-[var(--border-primary)]')}>\r\n                          {presMut.isPending && !lastPresHtml ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Printer className=\"w-3.5 h-3.5\" />}\r\n                          Open Presentation for PDF\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import { useState, useMemo, useCallback } from 'react';\r\nimport { useQueryClient } from '@tanstack/react-query';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  Plus, Loader2, Calendar, Zap, FileBarChart, ChevronRight,\r\n  ArrowLeft, CheckCircle, Circle, Clock, Target, Trash2,\r\n  Edit3, Play, Square, Sparkles, AlertTriangle, X,\r\n  Copy, LayoutGrid, GanttChartSquare, Activity, Users, MessageSquare, BarChart3,\r\n  PlusCircle, Unlink,\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { cn } from '../lib/utils';\r\nimport { ErrorState } from '../components/shared/ErrorState';\r\nimport OwnerBadge from '../components/sot/OwnerBadge';\r\nimport BreakdownChart from '../components/sprints/BreakdownChart';\r\nimport BurndownChart from '../components/sprints/BurndownChart';\r\nimport VelocityChart from '../components/sprints/VelocityChart';\r\nimport HealthScoreWidget from '../components/sprints/HealthScoreWidget';\r\nimport KanbanBoard from '../components/sprints/KanbanBoard';\r\nimport GanttChart from '../components/sprints/GanttChart';\r\nimport RetrospectivePanel from '../components/sprints/RetrospectivePanel';\r\nimport StandupPanel from '../components/sprints/StandupPanel';\r\nimport CapacityPanel from '../components/sprints/CapacityPanel';\r\nimport EstimatePointsButton from '../components/sprints/EstimatePointsButton';\r\nimport SprintReportModal from '../components/sprints/SprintReportModal';\r\nimport {\r\n  CARD, BTN_PRIMARY, BTN_SECONDARY, BTN_DANGER, INPUT, SECTION_TITLE,\r\n} from '../components/sprints/styles';\r\nimport type { Sprint, Action, ProposedTask, SprintReport, SprintGenerateResult } from '../types/godmode';\r\nimport {\r\n  useSprints,\r\n  useCreateSprint,\r\n  useUpdateSprint,\r\n  useDeleteSprint,\r\n  useSprintStatusTransition,\r\n  useSprint,\r\n  useSprintGenerateTasks,\r\n  useSprintApplyTasks,\r\n  useSprintReport,\r\n  useSprintReportAnalyze,\r\n  useSprintBusinessReport,\r\n  useSprintVelocity,\r\n  useSprintHealth,\r\n  useSprintClone,\r\n  useUpdateAction,\r\n  useCreateAction,\r\n} from '../hooks/useGodMode';\r\n\r\nconst statusConfig: Record<string, { color: string; bg: string; border: string; icon: typeof Circle }> = {\r\n  planning: { color: 'text-[var(--text-tertiary)]', bg: 'bg-[var(--surface-secondary)]', border: 'border-[var(--border-secondary)]', icon: Circle },\r\n  active: { color: 'text-[var(--status-success)]', bg: 'bg-[var(--status-success-bg)]', border: 'border-[var(--status-success)]/30', icon: Clock },\r\n  completed: { color: 'text-[var(--status-info)]', bg: 'bg-[var(--status-info-bg)]', border: 'border-[var(--status-info)]/30', icon: CheckCircle },\r\n};\r\n\r\nconst taskStatusDot = (s: string) =>\r\n  s === 'completed' ? 'bg-[var(--status-success)]' :\r\n  s === 'in_progress' ? 'bg-[var(--status-info)]' :\r\n  s === 'overdue' ? 'bg-[var(--status-danger)]' : 'bg-[var(--text-tertiary)]';\r\n\r\nfunction normalizeSprint(raw: any): Sprint {\r\n  return {\r\n    id: raw.id,\r\n    name: raw.name || '',\r\n    start_date: raw.start_date || raw.startDate || '',\r\n    end_date: raw.end_date || raw.endDate || '',\r\n    context: raw.context || '',\r\n    goals: raw.goals || [],\r\n    status: raw.status || 'planning',\r\n    analysis_start_date: raw.analysis_start_date || '',\r\n    analysis_end_date: raw.analysis_end_date || '',\r\n    project_id: raw.project_id || '',\r\n    created_at: raw.created_at || '',\r\n    updated_at: raw.updated_at || '',\r\n  };\r\n}\r\n\r\nfunction CreateSprintForm({ onCreated }: { onCreated: () => void }) {\r\n  const createSprint = useCreateSprint();\r\n  const [form, setForm] = useState({ name: '', start_date: '', end_date: '', context: '', goals: '', analysis_start_date: '', analysis_end_date: '' });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!form.name || !form.start_date || !form.end_date) {\r\n      toast.error('Name, start date and end date are required');\r\n      return;\r\n    }\r\n    createSprint.mutate({\r\n      name: form.name,\r\n      start_date: form.start_date,\r\n      end_date: form.end_date,\r\n      context: form.context || undefined,\r\n      goals: form.goals ? form.goals.split('\\n').filter(g => g.trim()) : undefined,\r\n      analysis_start_date: form.analysis_start_date || undefined,\r\n      analysis_end_date: form.analysis_end_date || undefined,\r\n    }, {\r\n      onSuccess: () => {\r\n        toast.success('Sprint created');\r\n        setForm({ name: '', start_date: '', end_date: '', context: '', goals: '', analysis_start_date: '', analysis_end_date: '' });\r\n        onCreated();\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={cn(CARD, 'p-5 space-y-4')}>\r\n      <h3 className={SECTION_TITLE}>New Sprint</h3>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div>\r\n          <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Name *</label>\r\n          <input value={form.name} onChange={e => setForm(f => ({ ...f, name: e.target.value }))} className={cn(INPUT, 'w-full')} placeholder=\"Sprint 1\" required />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Start Date *</label>\r\n          <input type=\"date\" value={form.start_date} onChange={e => setForm(f => ({ ...f, start_date: e.target.value }))} className={cn(INPUT, 'w-full')} required />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">End Date *</label>\r\n          <input type=\"date\" value={form.end_date} onChange={e => setForm(f => ({ ...f, end_date: e.target.value }))} className={cn(INPUT, 'w-full')} required />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Context</label>\r\n        <input value={form.context} onChange={e => setForm(f => ({ ...f, context: e.target.value }))} className={cn(INPUT, 'w-full')} placeholder=\"Focus areas, constraints...\" />\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Goals (one per line)</label>\r\n          <textarea value={form.goals} onChange={e => setForm(f => ({ ...f, goals: e.target.value }))} rows={3} className={cn(INPUT, 'w-full resize-none')} placeholder=\"Complete feature X&#10;Fix bug Y\" />\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Analysis Start Date</label>\r\n            <input type=\"date\" value={form.analysis_start_date} onChange={e => setForm(f => ({ ...f, analysis_start_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider\">Analysis End Date</label>\r\n            <input type=\"date\" value={form.analysis_end_date} onChange={e => setForm(f => ({ ...f, analysis_end_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end\">\r\n        <button type=\"submit\" disabled={createSprint.isPending} className={BTN_PRIMARY}>\r\n          {createSprint.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Plus className=\"w-3.5 h-3.5\" />}\r\n          Create Sprint\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\ntype DetailTab = 'overview' | 'kanban' | 'timeline' | 'burndown' | 'standup' | 'retro' | 'capacity';\r\n\r\nconst DETAIL_TABS: { id: DetailTab; label: string; icon: typeof Circle }[] = [\r\n  { id: 'overview', label: 'Overview', icon: BarChart3 },\r\n  { id: 'kanban', label: 'Kanban', icon: LayoutGrid },\r\n  { id: 'timeline', label: 'Timeline', icon: GanttChartSquare },\r\n  { id: 'burndown', label: 'Burndown', icon: Activity },\r\n  { id: 'standup', label: 'Standup', icon: MessageSquare },\r\n  { id: 'capacity', label: 'Capacity', icon: Users },\r\n  { id: 'retro', label: 'Retro', icon: Target },\r\n];\r\n\r\nfunction SprintDetail({ sprintId, onBack }: { sprintId: string; onBack: () => void }) {\r\n  const queryClient = useQueryClient();\r\n  const { data: sprintRaw, isLoading } = useSprint(sprintId);\r\n  const { data: reportRaw, isLoading: reportLoading, error: reportError } = useSprintReport(sprintId);\r\n  const { data: velocityRaw, error: velocityError } = useSprintVelocity(sprintId);\r\n  const { data: healthRaw, isLoading: healthLoading, error: healthError } = useSprintHealth(sprintId);\r\n  const generateTasks = useSprintGenerateTasks();\r\n  const applyTasks = useSprintApplyTasks();\r\n  const analyzeMut = useSprintReportAnalyze();\r\n  const businessMut = useSprintBusinessReport();\r\n  const updateSprint = useUpdateSprint();\r\n  const deleteSprint = useDeleteSprint();\r\n  const transitionStatus = useSprintStatusTransition();\r\n  const cloneSprint = useSprintClone();\r\n  const updateAction = useUpdateAction();\r\n  const createAction = useCreateAction();\r\n\r\n  const [activeTab, setActiveTab] = useState<DetailTab>('overview');\r\n  const [showAddTask, setShowAddTask] = useState(false);\r\n  const [newTask, setNewTask] = useState({ task: '', owner: '', priority: 'medium' });\r\n  const [generatedResult, setGeneratedResult] = useState<SprintGenerateResult | null>(null);\r\n  const [selectedNewTasks, setSelectedNewTasks] = useState<Set<number>>(new Set());\r\n  const [selectedExisting, setSelectedExisting] = useState<Set<string>>(new Set());\r\n  const [analysisText, setAnalysisText] = useState('');\r\n  const [businessText, setBusinessText] = useState('');\r\n  const [editing, setEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState({ name: '', context: '', goals: '', start_date: '', end_date: '', analysis_start_date: '', analysis_end_date: '' });\r\n  const [reportModalOpen, setReportModalOpen] = useState(false);\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n\r\n  const sprint = useMemo<Sprint>(() => {\r\n    const d = (sprintRaw as any)?.sprint ?? sprintRaw;\r\n    return d ? normalizeSprint(d) : { id: sprintId, name: '', start_date: '', end_date: '', status: 'planning' as const };\r\n  }, [sprintRaw, sprintId]);\r\n\r\n  const report = reportRaw as SprintReport | undefined;\r\n  const actions = (report?.actions ?? []) as Action[];\r\n  const breakdown = report?.breakdown ?? { by_status: {}, by_assignee: {} };\r\n  const totalTasks = report?.total_tasks ?? actions.length;\r\n  const graphContext = (report as any)?.graph_context as { sprint_name?: string; sprint_context?: string; assignees?: string[] } | null;\r\n  const completedTasks = report?.completed_tasks ?? actions.filter(a => a.status === 'completed').length;\r\n\r\n  const groupedActions = useMemo(() => {\r\n    const groups: Record<string, Action[]> = {};\r\n    actions.forEach(a => {\r\n      const s = a.status || 'pending';\r\n      if (!groups[s]) groups[s] = [];\r\n      groups[s].push(a);\r\n    });\r\n    return groups;\r\n  }, [actions]);\r\n\r\n  const startEdit = useCallback(() => {\r\n    setEditForm({\r\n      name: sprint.name,\r\n      context: sprint.context || '',\r\n      goals: (sprint.goals || []).join('\\n'),\r\n      start_date: sprint.start_date?.slice(0, 10) || '',\r\n      end_date: sprint.end_date?.slice(0, 10) || '',\r\n      analysis_start_date: sprint.analysis_start_date?.slice(0, 10) || '',\r\n      analysis_end_date: sprint.analysis_end_date?.slice(0, 10) || '',\r\n    });\r\n    setEditing(true);\r\n  }, [sprint]);\r\n\r\n  const saveEdit = () => {\r\n    updateSprint.mutate({\r\n      id: sprint.id,\r\n      name: editForm.name,\r\n      context: editForm.context || undefined,\r\n      goals: editForm.goals ? editForm.goals.split('\\n').filter(g => g.trim()) : [],\r\n      start_date: editForm.start_date || undefined,\r\n      end_date: editForm.end_date || undefined,\r\n      analysis_start_date: editForm.analysis_start_date || undefined,\r\n      analysis_end_date: editForm.analysis_end_date || undefined,\r\n    } as any, {\r\n      onSuccess: () => { toast.success('Sprint updated'); setEditing(false); },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deleteSprint.mutate(sprint.id, {\r\n      onSuccess: () => { toast.success('Sprint deleted'); onBack(); },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleTransition = (status: 'planning' | 'active' | 'completed') => {\r\n    transitionStatus.mutate({ sprintId: sprint.id, status }, {\r\n      onSuccess: () => toast.success(`Sprint marked as ${status}`),\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleGenerate = () => {\r\n    generateTasks.mutate(sprintId, {\r\n      onSuccess: (d: any) => {\r\n        const result: SprintGenerateResult = {\r\n          proposed_new_tasks: d?.proposed_new_tasks ?? [],\r\n          existing_action_ids: d?.existing_action_ids ?? [],\r\n          existing_details: d?.existing_details ?? [],\r\n        };\r\n        setGeneratedResult(result);\r\n        const allNew = new Set<number>();\r\n        result.proposed_new_tasks.forEach((_, i) => allNew.add(i));\r\n        setSelectedNewTasks(allNew);\r\n        const allExisting = new Set<string>(result.existing_action_ids);\r\n        setSelectedExisting(allExisting);\r\n        toast.success(`Generated ${result.proposed_new_tasks.length} new tasks, found ${result.existing_action_ids.length} existing`);\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleApply = () => {\r\n    if (!generatedResult) return;\r\n    const newTasks = generatedResult.proposed_new_tasks.filter((_, i) => selectedNewTasks.has(i));\r\n    const existingIds = generatedResult.existing_action_ids.filter(id => selectedExisting.has(id));\r\n    applyTasks.mutate({ sprintId, new_tasks: newTasks, existing_action_ids: existingIds }, {\r\n      onSuccess: (d: any) => {\r\n        toast.success(`Created ${d?.created ?? 0} tasks, linked ${d?.linked ?? 0} existing`);\r\n        setGeneratedResult(null);\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleAnalyze = () => {\r\n    analyzeMut.mutate(sprintId, {\r\n      onSuccess: (d: any) => { setAnalysisText(d?.ai_analysis || d?.analysis || ''); toast.success('Analysis complete'); },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleBusiness = () => {\r\n    businessMut.mutate(sprintId, {\r\n      onSuccess: (d: any) => { setBusinessText(d?.business_report || d?.summary || ''); toast.success('Business report ready'); },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleClone = () => {\r\n    cloneSprint.mutate({ sprintId: sprint.id }, {\r\n      onSuccess: (d: any) => {\r\n        toast.success(`Sprint cloned: ${d?.sprint?.name || 'Copy'}${d?.tasks_cloned ? ` with ${d.tasks_cloned} tasks` : ''}`);\r\n      },\r\n      onError: (e: Error) => toast.error(e.message),\r\n    });\r\n  };\r\n\r\n  const handleKanbanStatusChange = useCallback((actionId: string, newStatus: Action['status']) => {\r\n    updateAction.mutate({ id: actionId, status: newStatus }, {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries({ queryKey: ['sprint', sprintId] });\r\n        queryClient.invalidateQueries({ queryKey: ['sprintReport', sprintId] });\r\n        toast.success('Task status updated');\r\n      },\r\n      onError: () => toast.error('Failed to update status'),\r\n    });\r\n  }, [updateAction, queryClient, sprintId]);\r\n\r\n  const handleAddTask = () => {\r\n    if (!newTask.task.trim()) return;\r\n    createAction.mutate({\r\n      task: newTask.task.trim(),\r\n      owner: newTask.owner.trim() || undefined,\r\n      priority: newTask.priority,\r\n      status: 'pending',\r\n      sprint_id: sprintId,\r\n    } as any, {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries({ queryKey: ['sprint', sprintId] });\r\n        queryClient.invalidateQueries({ queryKey: ['sprintReport', sprintId] });\r\n        toast.success('Task added to sprint');\r\n        setNewTask({ task: '', owner: '', priority: 'medium' });\r\n        setShowAddTask(false);\r\n      },\r\n      onError: () => toast.error('Failed to add task'),\r\n    });\r\n  };\r\n\r\n  const handleRemoveFromSprint = useCallback((actionId: string) => {\r\n    updateAction.mutate({ id: actionId, sprint_id: null } as any, {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries({ queryKey: ['sprint', sprintId] });\r\n        queryClient.invalidateQueries({ queryKey: ['sprintReport', sprintId] });\r\n        toast.success('Task removed from sprint');\r\n      },\r\n      onError: () => toast.error('Failed to remove task'),\r\n    });\r\n  }, [updateAction, queryClient, sprintId]);\r\n\r\n  const velocity = velocityRaw as any;\r\n  const health = healthRaw as any;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"space-y-5 animate-pulse\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"w-8 h-8 rounded-lg bg-[var(--surface-hover)]\" />\r\n          <div className=\"flex-1 space-y-2\">\r\n            <div className=\"h-5 w-48 rounded bg-[var(--surface-hover)]\" />\r\n            <div className=\"h-3 w-32 rounded bg-[var(--surface-hover)]\" />\r\n          </div>\r\n          <div className=\"h-6 w-20 rounded-full bg-[var(--surface-hover)]\" />\r\n        </div>\r\n        <div className={cn(CARD, 'p-4 space-y-2')}>\r\n          <div className=\"h-3 w-16 rounded bg-[var(--surface-hover)]\" />\r\n          <div className=\"h-3 w-full rounded bg-[var(--surface-hover)]\" />\r\n          <div className=\"h-3 w-3/4 rounded bg-[var(--surface-hover)]\" />\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          {[1,2,3,4].map(i => <div key={i} className=\"h-8 w-24 rounded-lg bg-[var(--surface-hover)]\" />)}\r\n        </div>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n          {[1,2,3,4].map(i => <div key={i} className={cn(CARD, 'p-3 h-20')} />)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const cfg = statusConfig[sprint.status] || statusConfig.planning;\r\n  const StatusIcon = cfg.icon;\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start gap-3\">\r\n        <button onClick={onBack} className=\"mt-1 w-8 h-8 rounded-lg bg-[var(--surface-secondary)] flex items-center justify-center hover:bg-[var(--surface-hover)] shrink-0\">\r\n          <ArrowLeft className=\"w-4 h-4 text-[var(--text-tertiary)]\" />\r\n        </button>\r\n        <div className=\"flex-1 min-w-0\">\r\n          {editing ? (\r\n            <div className=\"space-y-2\">\r\n              <input value={editForm.name} onChange={e => setEditForm(f => ({ ...f, name: e.target.value }))} className={cn(INPUT, 'w-full text-lg font-bold')} />\r\n              <input value={editForm.context} onChange={e => setEditForm(f => ({ ...f, context: e.target.value }))} className={cn(INPUT, 'w-full')} placeholder=\"Context...\" />\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                <label className=\"space-y-0.5\">\r\n                  <span className=\"text-[9px] text-[var(--text-tertiary)] uppercase\">Start Date</span>\r\n                  <input type=\"date\" value={editForm.start_date} onChange={e => setEditForm(f => ({ ...f, start_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n                </label>\r\n                <label className=\"space-y-0.5\">\r\n                  <span className=\"text-[9px] text-[var(--text-tertiary)] uppercase\">End Date</span>\r\n                  <input type=\"date\" value={editForm.end_date} onChange={e => setEditForm(f => ({ ...f, end_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n                </label>\r\n                <label className=\"space-y-0.5\">\r\n                  <span className=\"text-[9px] text-[var(--text-tertiary)] uppercase\">Analysis Start</span>\r\n                  <input type=\"date\" value={editForm.analysis_start_date} onChange={e => setEditForm(f => ({ ...f, analysis_start_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n                </label>\r\n                <label className=\"space-y-0.5\">\r\n                  <span className=\"text-[9px] text-[var(--text-tertiary)] uppercase\">Analysis End</span>\r\n                  <input type=\"date\" value={editForm.analysis_end_date} onChange={e => setEditForm(f => ({ ...f, analysis_end_date: e.target.value }))} className={cn(INPUT, 'w-full')} />\r\n                </label>\r\n              </div>\r\n              <textarea value={editForm.goals} onChange={e => setEditForm(f => ({ ...f, goals: e.target.value }))} className={cn(INPUT, 'w-full resize-none')} rows={2} placeholder=\"Goals (one per line)\" />\r\n              <div className=\"flex gap-2\">\r\n                <button onClick={saveEdit} disabled={updateSprint.isPending} className={BTN_PRIMARY}>\r\n                  {updateSprint.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <CheckCircle className=\"w-3.5 h-3.5\" />} Save\r\n                </button>\r\n                <button onClick={() => setEditing(false)} className={BTN_SECONDARY}><X className=\"w-3.5 h-3.5\" /> Cancel</button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <h2 className=\"text-lg font-bold text-[var(--text-primary)] truncate\">{sprint.name || 'Sprint'}</h2>\r\n              <div className=\"flex items-center gap-2 mt-0.5 flex-wrap\">\r\n                <span className=\"text-xs text-[var(--text-tertiary)]\">\r\n                  {sprint.start_date ? new Date(sprint.start_date).toLocaleDateString() : '?'}  {sprint.end_date ? new Date(sprint.end_date).toLocaleDateString() : '?'}\r\n                </span>\r\n                {sprint.context && <span className=\"text-xs text-[var(--text-tertiary)]\"> {sprint.context}</span>}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        {!editing && (\r\n          <div className=\"flex items-center gap-2 shrink-0\">\r\n            <span className={cn('text-[10px] font-medium px-2.5 py-1 rounded-full border capitalize', cfg.bg, cfg.color, cfg.border)}>\r\n              <StatusIcon className=\"w-3 h-3 inline mr-1\" />{sprint.status}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Goals */}\r\n      {!editing && sprint.goals && sprint.goals.length > 0 && (\r\n        <div className={cn(CARD, 'p-4')}>\r\n          <h3 className={SECTION_TITLE}>Goals</h3>\r\n          <ul className=\"mt-2 space-y-1.5\">\r\n            {sprint.goals.map((g, i) => (\r\n              <li key={i} className=\"flex items-start gap-2 text-sm text-[var(--text-secondary)]\">\r\n                <Target className=\"w-3.5 h-3.5 text-[var(--accent-primary)] mt-0.5 shrink-0\" />\r\n                {g}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      {!editing && (\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <button onClick={startEdit} className={BTN_SECONDARY}><Edit3 className=\"w-3.5 h-3.5\" /> Edit</button>\r\n\r\n          {sprint.status === 'planning' && (\r\n            <button onClick={() => handleTransition('active')} disabled={transitionStatus.isPending} className={cn(BTN_SECONDARY, 'text-[var(--status-success)] border-[var(--status-success)]/30')}>\r\n              {transitionStatus.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Play className=\"w-3.5 h-3.5\" />} Start Sprint\r\n            </button>\r\n          )}\r\n          {sprint.status === 'active' && (\r\n            <button onClick={() => handleTransition('completed')} disabled={transitionStatus.isPending} className={cn(BTN_SECONDARY, 'text-[var(--status-info)] border-[var(--status-info)]/30')}>\r\n              {transitionStatus.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Square className=\"w-3.5 h-3.5\" />} Complete Sprint\r\n            </button>\r\n          )}\r\n          {sprint.status === 'completed' && (\r\n            <button onClick={() => handleTransition('planning')} disabled={transitionStatus.isPending} className={BTN_SECONDARY}>\r\n              {transitionStatus.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Circle className=\"w-3.5 h-3.5\" />} Reopen\r\n            </button>\r\n          )}\r\n\r\n          <div className=\"w-px h-6 bg-[var(--border-primary)] self-center\" />\r\n\r\n          <button onClick={handleGenerate} disabled={generateTasks.isPending} className={BTN_PRIMARY}>\r\n            {generateTasks.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Zap className=\"w-3.5 h-3.5\" />} Generate Tasks (AI)\r\n          </button>\r\n          <button onClick={handleAnalyze} disabled={analyzeMut.isPending} className={cn(BTN_SECONDARY, 'text-purple-400 border-purple-400/30')}>\r\n            {analyzeMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />} AI Analysis\r\n          </button>\r\n          <button onClick={handleBusiness} disabled={businessMut.isPending} className={cn(BTN_SECONDARY, 'text-emerald-400 border-emerald-400/30')}>\r\n            {businessMut.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Sparkles className=\"w-3.5 h-3.5\" />} Business Report\r\n          </button>\r\n          <button onClick={() => setReportModalOpen(true)} className={BTN_SECONDARY}>\r\n            <FileBarChart className=\"w-3.5 h-3.5\" /> Full Report & Export\r\n          </button>\r\n          <button onClick={handleClone} disabled={cloneSprint.isPending} className={BTN_SECONDARY}>\r\n            {cloneSprint.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Copy className=\"w-3.5 h-3.5\" />} Clone\r\n          </button>\r\n\r\n          <div className=\"flex-1\" />\r\n\r\n          {confirmDelete ? (\r\n            <div className=\"flex gap-1\">\r\n              <button onClick={handleDelete} disabled={deleteSprint.isPending} className={BTN_DANGER}>\r\n                {deleteSprint.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Trash2 className=\"w-3.5 h-3.5\" />} Confirm Delete\r\n              </button>\r\n              <button onClick={() => setConfirmDelete(false)} className={BTN_SECONDARY}><X className=\"w-3.5 h-3.5\" /></button>\r\n            </div>\r\n          ) : (\r\n            <button onClick={() => setConfirmDelete(true)} className={BTN_DANGER}><Trash2 className=\"w-3.5 h-3.5\" /> Delete</button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Generated Tasks Preview */}\r\n      {generatedResult && (\r\n        <div className={cn(CARD, 'p-4 space-y-3')}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className={SECTION_TITLE}>AI Generated Tasks</h3>\r\n            <div className=\"flex gap-2\">\r\n              <button onClick={handleApply} disabled={applyTasks.isPending || (selectedNewTasks.size === 0 && selectedExisting.size === 0)} className={BTN_PRIMARY}>\r\n                {applyTasks.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <CheckCircle className=\"w-3.5 h-3.5\" />}\r\n                Apply Selected ({selectedNewTasks.size + selectedExisting.size})\r\n              </button>\r\n              <button onClick={() => setGeneratedResult(null)} className={BTN_SECONDARY}><X className=\"w-3.5 h-3.5\" /> Dismiss</button>\r\n            </div>\r\n          </div>\r\n\r\n          {generatedResult.proposed_new_tasks.length > 0 && (\r\n            <div>\r\n              <p className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5\">New Tasks ({generatedResult.proposed_new_tasks.length})</p>\r\n              <div className=\"space-y-1.5\">\r\n                {generatedResult.proposed_new_tasks.map((t, i) => (\r\n                  <label key={i} className=\"flex items-start gap-2 p-2 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedNewTasks.has(i)}\r\n                      onChange={e => {\r\n                        setSelectedNewTasks(prev => {\r\n                          const next = new Set(prev);\r\n                          e.target.checked ? next.add(i) : next.delete(i);\r\n                          return next;\r\n                        });\r\n                      }}\r\n                      className=\"mt-0.5 rounded border-[var(--border-primary)]\"\r\n                    />\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <p className=\"text-xs font-medium text-[var(--text-primary)]\">{t.task}</p>\r\n                      {t.description && <p className=\"text-[10px] text-[var(--text-tertiary)] mt-0.5 line-clamp-2\">{t.description}</p>}\r\n                    </div>\r\n                    {t.size_estimate && <span className=\"text-[9px] px-2 py-0.5 rounded-full bg-[var(--status-info-bg)] text-[var(--status-info)] shrink-0\">{t.size_estimate}</span>}\r\n                    {t.priority && <span className={cn('text-[9px] px-2 py-0.5 rounded-full shrink-0',\r\n                      t.priority === 'high' || t.priority === 'urgent' ? 'bg-[var(--status-danger-bg)] text-[var(--status-danger)]' :\r\n                      t.priority === 'medium' ? 'bg-[var(--status-warning-bg)] text-[var(--status-warning)]' : 'bg-[var(--surface-secondary)] text-[var(--text-tertiary)]'\r\n                    )}>{t.priority}</span>}\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {generatedResult.existing_details && generatedResult.existing_details.length > 0 && (\r\n            <div>\r\n              <p className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5\">Existing Actions to Link ({generatedResult.existing_details.length})</p>\r\n              <div className=\"space-y-1.5\">\r\n                {generatedResult.existing_details.map(a => (\r\n                  <label key={a.id} className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedExisting.has(a.id)}\r\n                      onChange={e => {\r\n                        setSelectedExisting(prev => {\r\n                          const next = new Set(prev);\r\n                          e.target.checked ? next.add(a.id) : next.delete(a.id);\r\n                          return next;\r\n                        });\r\n                      }}\r\n                      className=\"rounded border-[var(--border-primary)]\"\r\n                    />\r\n                    <span className=\"text-xs text-[var(--text-primary)] flex-1 truncate\">{a.task}</span>\r\n                    <span className=\"text-[9px] text-[var(--text-tertiary)] capitalize\">{a.status}</span>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* AI Analysis */}\r\n      {analysisText && (\r\n        <div className={cn(CARD, 'p-4')}>\r\n          <h3 className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">AI Analysis</h3>\r\n          <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">{analysisText}</div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Business Report */}\r\n      {businessText && (\r\n        <div className={cn(CARD, 'p-4')}>\r\n          <h3 className=\"text-[10px] font-bold text-emerald-400 uppercase tracking-[0.1em]\">Business Report</h3>\r\n          <div className=\"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed\">{businessText}</div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Health Score (compact) */}\r\n      <div className=\"flex items-center gap-3 flex-wrap\">\r\n        <HealthScoreWidget health={health} isLoading={healthLoading} compact />\r\n        {velocity?.daily_progress && (\r\n          <span className=\"text-[10px] text-[var(--text-tertiary)]\">\r\n            {velocity.completed_tasks}/{velocity.total_tasks} tasks  {velocity.completed_points}/{velocity.total_points} pts\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex gap-1 bg-[var(--surface-secondary)] rounded-xl p-1 border border-[var(--border-primary)] overflow-x-auto\">\r\n        {DETAIL_TABS.map(tab => {\r\n          const TabIcon = tab.icon;\r\n          return (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-colors whitespace-nowrap',\r\n                activeTab === tab.id\r\n                  ? 'bg-[var(--interactive-primary)]/15 text-[var(--accent-primary)]'\r\n                  : 'text-[var(--text-tertiary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-hover)]'\r\n              )}\r\n            >\r\n              <TabIcon className=\"w-3.5 h-3.5\" />\r\n              {tab.label}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <AnimatePresence mode=\"wait\">\r\n        <motion.div key={activeTab} initial={{ opacity: 0, y: 4 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} transition={{ duration: 0.15 }}>\r\n\r\n          {activeTab === 'overview' && (\r\n            <div className=\"space-y-5\">\r\n              {reportLoading && (\r\n                <div className=\"flex items-center justify-center py-6 gap-2\">\r\n                  <Loader2 className=\"w-4 h-4 animate-spin text-[var(--accent-primary)]\" />\r\n                  <span className=\"text-xs text-[var(--text-tertiary)]\">Loading report data...</span>\r\n                </div>\r\n              )}\r\n              {(reportError || velocityError || healthError) && (\r\n                <div className=\"flex items-center gap-2 p-3 rounded-lg bg-[var(--status-danger-bg)] border border-[var(--status-danger)]/20\">\r\n                  <AlertTriangle className=\"w-4 h-4 text-[var(--status-danger)] shrink-0\" />\r\n                  <span className=\"text-xs text-[var(--status-danger)]\">Some report data failed to load. Partial data may be shown.</span>\r\n                </div>\r\n              )}\r\n              {/* Stats Cards */}\r\n              {totalTasks > 0 && (\r\n                <>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                    {[\r\n                      { label: 'Total Tasks', value: totalTasks },\r\n                      { label: 'Completed', value: completedTasks, sub: totalTasks > 0 ? `${Math.round((completedTasks / totalTasks) * 100)}%` : '' },\r\n                      { label: 'Total Points', value: report?.total_task_points ?? 0 },\r\n                      { label: 'Done Points', value: report?.completed_task_points ?? 0 },\r\n                    ].map(s => (\r\n                      <div key={s.label} className={cn(CARD, 'p-3 text-center')}>\r\n                        <p className=\"text-2xl font-bold text-[var(--text-primary)]\">{s.value}</p>\r\n                        <p className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider\">{s.label}</p>\r\n                        {s.sub && <p className=\"text-xs text-[var(--accent-primary)] mt-0.5\">{s.sub}</p>}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div className={cn(CARD, 'p-4')}><BreakdownChart title=\"By Status\" data={breakdown.by_status} /></div>\r\n                    <div className={cn(CARD, 'p-4')}><BreakdownChart title=\"By Assignee\" data={breakdown.by_assignee} /></div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {/* Health Score (full) */}\r\n              <div className={cn(CARD, 'p-4')}>\r\n                <HealthScoreWidget health={health} isLoading={healthLoading} />\r\n              </div>\r\n\r\n              {/* Graph Context */}\r\n              {graphContext && (graphContext.assignees?.length || graphContext.sprint_name) && (\r\n                <div className={cn(CARD, 'p-4')}>\r\n                  <h3 className=\"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]\">Graph Context</h3>\r\n                  <div className=\"mt-2 space-y-1.5\">\r\n                    {graphContext.sprint_name && (\r\n                      <p className=\"text-xs text-[var(--text-secondary)]\">\r\n                        <span className=\"text-[var(--text-tertiary)]\">Sprint node:</span> {graphContext.sprint_name}\r\n                        {graphContext.sprint_context && <span className=\"text-[var(--text-tertiary)]\">  {graphContext.sprint_context}</span>}\r\n                      </p>\r\n                    )}\r\n                    {graphContext.assignees && graphContext.assignees.length > 0 && (\r\n                      <div className=\"flex items-center gap-1.5 flex-wrap\">\r\n                        <span className=\"text-[10px] text-[var(--text-tertiary)]\">Assignees:</span>\r\n                        {graphContext.assignees.map(name => (\r\n                          <span key={name} className=\"text-[10px] px-2 py-0.5 rounded-full bg-purple-500/10 text-purple-400\">{name}</span>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Add Task */}\r\n              <div className={cn(CARD, 'p-4')}>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className={SECTION_TITLE}>Sprint Tasks ({actions.length})</h3>\r\n                  <button onClick={() => setShowAddTask(!showAddTask)} className={BTN_SECONDARY}>\r\n                    <Plus className=\"w-3 h-3\" /> Add Task\r\n                  </button>\r\n                </div>\r\n                <AnimatePresence>\r\n                  {showAddTask && (\r\n                    <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: 'auto' }} exit={{ opacity: 0, height: 0 }} className=\"overflow-hidden\">\r\n                      <div className=\"mt-3 space-y-2 p-3 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]\">\r\n                        <input\r\n                          value={newTask.task}\r\n                          onChange={e => setNewTask(f => ({ ...f, task: e.target.value }))}\r\n                          className={cn(INPUT, 'w-full')}\r\n                          placeholder=\"Task description...\"\r\n                          onKeyDown={e => e.key === 'Enter' && handleAddTask()}\r\n                        />\r\n                        <div className=\"flex gap-2\">\r\n                          <input\r\n                            value={newTask.owner}\r\n                            onChange={e => setNewTask(f => ({ ...f, owner: e.target.value }))}\r\n                            className={cn(INPUT, 'flex-1')}\r\n                            placeholder=\"Owner (optional)\"\r\n                          />\r\n                          <select\r\n                            value={newTask.priority}\r\n                            onChange={e => setNewTask(f => ({ ...f, priority: e.target.value }))}\r\n                            className={cn(INPUT, 'w-28')}\r\n                          >\r\n                            <option value=\"low\">Low</option>\r\n                            <option value=\"medium\">Medium</option>\r\n                            <option value=\"high\">High</option>\r\n                          </select>\r\n                          <button onClick={handleAddTask} disabled={!newTask.task.trim() || createAction.isPending} className={BTN_PRIMARY}>\r\n                            {createAction.isPending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : 'Add'}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                </AnimatePresence>\r\n              </div>\r\n\r\n              {/* Sprint Tasks grouped by status */}\r\n              {actions.length > 0 && (\r\n                <div className={cn(CARD, 'p-4')}>\r\n                  <div className=\"mt-3 space-y-4\">\r\n                    {['in_progress', 'pending', 'overdue', 'completed'].map(status => {\r\n                      const group = groupedActions[status];\r\n                      if (!group || group.length === 0) return null;\r\n                      return (\r\n                        <div key={status}>\r\n                          <p className=\"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5 flex items-center gap-1.5\">\r\n                            <span className={cn('w-2 h-2 rounded-full', taskStatusDot(status))} />\r\n                            {status.replace('_', ' ')} ({group.length})\r\n                          </p>\r\n                          <div className=\"space-y-1\">\r\n                            {group.map(a => (\r\n                              <div key={a.id} className=\"group flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-[var(--surface-hover)]\">\r\n                                <span className={cn('w-1.5 h-1.5 rounded-full shrink-0', taskStatusDot(a.status))} />\r\n                                <span className={cn('text-xs flex-1 truncate', a.status === 'completed' ? 'line-through text-[var(--text-tertiary)]' : 'text-[var(--text-primary)]')}>\r\n                                  {a.task || a.title || '(untitled)'}\r\n                                </span>\r\n                                {a.owner && <OwnerBadge name={a.owner} size=\"sm\" />}\r\n                                {a.task_points != null && <span className=\"text-[9px] px-1.5 py-0.5 rounded bg-[var(--status-info-bg)] text-[var(--accent-primary)] tabular-nums\">{a.task_points}pt</span>}\r\n                                <EstimatePointsButton sprintId={sprintId} taskDescription={a.task || a.title || ''} />\r\n                                <button\r\n                                  onClick={e => { e.stopPropagation(); handleRemoveFromSprint(a.id); }}\r\n                                  className=\"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:bg-[var(--status-danger-bg)] text-[var(--status-danger)] transition-all\"\r\n                                  title=\"Remove from sprint\"\r\n                                >\r\n                                  <X className=\"w-3 h-3\" />\r\n                                </button>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'kanban' && (\r\n            <div className={cn(CARD, 'p-4')}>\r\n              <KanbanBoard actions={actions} onStatusChange={handleKanbanStatusChange} />\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'timeline' && (\r\n            <div className={cn(CARD, 'p-4')}>\r\n              <GanttChart actions={actions} sprintStart={sprint.start_date} sprintEnd={sprint.end_date} />\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'burndown' && (\r\n            <div className=\"space-y-4\">\r\n              {velocity?.daily_progress ? (\r\n                <div className={cn(CARD, 'p-4')}>\r\n                  <BurndownChart dailyProgress={velocity.daily_progress} totalTasks={velocity.total_tasks} totalPoints={velocity.total_points} />\r\n                </div>\r\n              ) : (\r\n                <div className={cn(CARD, 'p-8 text-center')}>\r\n                  <Activity className=\"w-8 h-8 mx-auto text-[var(--text-tertiary)] mb-2\" />\r\n                  <p className=\"text-xs text-[var(--text-tertiary)]\">Burndown data will appear as tasks are completed</p>\r\n                </div>\r\n              )}\r\n              {velocity?.daily_progress && (\r\n                <div className={cn(CARD, 'p-4')}>\r\n                  <BurndownChart dailyProgress={velocity.daily_progress} totalTasks={velocity.total_tasks} totalPoints={velocity.total_points} usePoints />\r\n                </div>\r\n              )}\r\n              {velocity?.velocity_history?.length > 0 && (\r\n                <div className={cn(CARD, 'p-4')}>\r\n                  <VelocityChart history={velocity.velocity_history} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'standup' && (\r\n            <StandupPanel sprintId={sprintId} />\r\n          )}\r\n\r\n          {activeTab === 'capacity' && (\r\n            <CapacityPanel sprintId={sprintId} actions={actions} />\r\n          )}\r\n\r\n          {activeTab === 'retro' && (\r\n            <RetrospectivePanel sprintId={sprintId} />\r\n          )}\r\n\r\n        </motion.div>\r\n      </AnimatePresence>\r\n\r\n      {/* Report Modal */}\r\n      <SprintReportModal open={reportModalOpen} onClose={() => setReportModalOpen(false)} sprint={sprint} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function SprintsPage() {\r\n  const sprintsQuery = useSprints();\r\n  const { data: sprintsRaw, isLoading } = sprintsQuery;\r\n  const [selectedSprint, setSelectedSprint] = useState<string | null>(null);\r\n  const [showCreate, setShowCreate] = useState(false);\r\n\r\n  const sprints = useMemo<Sprint[]>(() => {\r\n    const arr = (sprintsRaw as any)?.sprints ?? (Array.isArray(sprintsRaw) ? sprintsRaw : []);\r\n    return arr.map((s: any) => normalizeSprint(s));\r\n  }, [sprintsRaw]);\r\n\r\n  const activeSprints = sprints.filter(s => s.status === 'active');\r\n  const planningSprints = sprints.filter(s => s.status === 'planning');\r\n  const completedSprints = sprints.filter(s => s.status === 'completed');\r\n\r\n  if (selectedSprint) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <SprintDetail sprintId={selectedSprint} onBack={() => setSelectedSprint(null)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const renderSprintCard = (s: Sprint) => {\r\n    const cfg = statusConfig[s.status] || statusConfig.planning;\r\n    const StatusIcon = cfg.icon;\r\n    return (\r\n      <motion.div\r\n        key={s.id}\r\n        layout\r\n        className={cn(CARD, 'p-4 hover:border-[var(--accent-primary)]/30 transition-colors cursor-pointer')}\r\n        onClick={() => setSelectedSprint(s.id)}\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          <StatusIcon className={cn('w-4 h-4 shrink-0', cfg.color)} />\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h3 className=\"text-sm font-semibold text-[var(--text-primary)] truncate\">{s.name || 'Unnamed Sprint'}</h3>\r\n            <p className=\"text-[10px] text-[var(--text-tertiary)]\">\r\n              {s.start_date ? new Date(s.start_date).toLocaleDateString() : '?'}  {s.end_date ? new Date(s.end_date).toLocaleDateString() : '?'}\r\n              {s.context && <span className=\"ml-2\"> {s.context.substring(0, 50)}{s.context.length > 50 ? '...' : ''}</span>}\r\n            </p>\r\n          </div>\r\n          <span className={cn('text-[10px] font-medium px-2.5 py-1 rounded-full border capitalize', cfg.bg, cfg.color, cfg.border)}>\r\n            {s.status}\r\n          </span>\r\n          <ChevronRight className=\"w-4 h-4 text-[var(--text-tertiary)]\" />\r\n        </div>\r\n        {s.goals && s.goals.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-1.5 mt-2 ml-7\">\r\n            {s.goals.slice(0, 3).map((g, i) => (\r\n              <span key={i} className=\"text-[9px] px-2 py-0.5 rounded-full bg-[var(--surface-secondary)] text-[var(--text-tertiary)]\">{g}</span>\r\n            ))}\r\n            {s.goals.length > 3 && <span className=\"text-[9px] text-[var(--text-tertiary)]\">+{s.goals.length - 3} more</span>}\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-5\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-xl font-bold text-[var(--text-primary)]\">Sprints</h1>\r\n          <p className=\"text-xs text-[var(--text-tertiary)]\">\r\n            {sprints.length} sprint{sprints.length !== 1 ? 's' : ''}\r\n            {activeSprints.length > 0 && <span className=\"text-[var(--status-success)] ml-2\"> {activeSprints.length} active</span>}\r\n          </p>\r\n        </div>\r\n        <button onClick={() => setShowCreate(!showCreate)} className={BTN_PRIMARY}>\r\n          <Plus className=\"w-3.5 h-3.5\" /> New Sprint\r\n        </button>\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {showCreate && (\r\n          <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: 'auto' }} exit={{ opacity: 0, height: 0 }} className=\"overflow-hidden\">\r\n            <CreateSprintForm onCreated={() => setShowCreate(false)} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {sprintsQuery.error ? (\r\n        <ErrorState message=\"Failed to load sprints.\" onRetry={() => sprintsQuery.refetch()} />\r\n      ) : isLoading ? (\r\n        <div className=\"space-y-3 animate-pulse\">\r\n          {[1,2,3].map(i => (\r\n            <div key={i} className={cn(CARD, 'p-4')}>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-4 h-4 rounded-full bg-[var(--surface-hover)]\" />\r\n                <div className=\"flex-1 space-y-1.5\">\r\n                  <div className=\"h-4 w-40 rounded bg-[var(--surface-hover)]\" />\r\n                  <div className=\"h-3 w-56 rounded bg-[var(--surface-hover)]\" />\r\n                </div>\r\n                <div className=\"h-5 w-16 rounded-full bg-[var(--surface-hover)]\" />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : sprints.length === 0 ? (\r\n        <div className={cn(CARD, 'p-12 text-center')}>\r\n          <Calendar className=\"w-10 h-10 mx-auto text-[var(--text-tertiary)] mb-3\" />\r\n          <p className=\"text-sm text-[var(--text-tertiary)]\">No sprints yet. Create your first sprint to get started.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {activeSprints.length > 0 && (\r\n            <div>\r\n              <h2 className=\"text-xs font-bold text-[var(--status-success)] uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <Clock className=\"w-3.5 h-3.5\" /> Active ({activeSprints.length})\r\n              </h2>\r\n              <div className=\"space-y-3\">{activeSprints.map(renderSprintCard)}</div>\r\n            </div>\r\n          )}\r\n          {planningSprints.length > 0 && (\r\n            <div>\r\n              <h2 className=\"text-xs font-bold text-[var(--text-tertiary)] uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <Circle className=\"w-3.5 h-3.5\" /> Planning ({planningSprints.length})\r\n              </h2>\r\n              <div className=\"space-y-3\">{planningSprints.map(renderSprintCard)}</div>\r\n            </div>\r\n          )}\r\n          {completedSprints.length > 0 && (\r\n            <div>\r\n              <h2 className=\"text-xs font-bold text-[var(--accent-primary)] uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <CheckCircle className=\"w-3.5 h-3.5\" /> Completed ({completedSprints.length})\r\n              </h2>\r\n              <div className=\"space-y-3\">{completedSprints.map(renderSprintCard)}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","Presentation","createLucideIcon","SquareChartGantt","CARD","CARD_FLAT","BTN_PRIMARY","BTN_SECONDARY","BTN_DANGER","INPUT","SECTION_TITLE","STATUS_COLORS","ASSIGNEE_PALETTE","BreakdownChart","title","data","colorMap","bars","useMemo","entries","v","label","value","i","maxVal","b","total","s","jsxs","jsx","BarChart3","bar","pct","sharePct","BurndownChart","dailyProgress","totalTasks","totalPoints","usePoints","d","Activity","chartH","chartW","toX","toY","actualPath","idealPath","areaPath","todayIdx","today","idx","labels","step","f","VelocityChart","history","avgVelocity","totalH","riskConfig","CheckCircle","AlertTriangle","AlertCircle","XCircle","factorLabels","ScoreRing","score","size","strokeWidth","color","radius","circumference","offset","HealthScoreWidget","health","isLoading","compact","cfg","RiskIcon","scoreColor","cn","key","val","displayVal","barColor","alert","COLUMNS","KanbanBoard","actions","onStatusChange","dragId","setDragId","useState","dragOverCol","setDragOverCol","handleDragStart","useCallback","e","actionId","handleDragEnd","handleDragOver","colId","handleDragLeave","handleDrop","action","a","priorityDot","p","col","colActions","isOver","GripVertical","OwnerBadge","statusColor","GanttChart","sprintStart","sprintEnd","start","end","range","taskStart","taskEnd","left","width","hasDeps","now","dateLabels","GanttChartSquare","l","EditableList","items","onAdd","onRemove","placeholder","input","setInput","handleAdd","item","Plus","RetrospectivePanel","sprintId","retroMut","useSprintRetrospective","wentWell","setWentWell","wentWrong","setWentWrong","actionItems","setActionItems","aiSuggestions","setAiSuggestions","handleGenerate","toast","Loader2","Sparkles","ThumbsUp","prev","_","ThumbsDown","ListChecks","StandupPanel","standupMut","useSprintStandup","standup","setStandup","Fragment","entry","User","j","ArrowRight","CapacityPanel","capacityMut","useSprintCapacity","capacities","setCapacities","result","setResult","newPerson","setNewPerson","newPoints","setNewPoints","owners","set","k","addPerson","handleAnalyze","person","Users","n","c","barWidth","EstimatePointsButton","taskDescription","onEstimate","className","estimateMut","useSprintEstimatePoints","handleEstimate","confColor","BTN","STYLE_OPTIONS","downloadHtml","html","filename","blob","url","openHtmlForPdf","win","SprintReportModal","open","onClose","sprint","reportData","reportLoading","useSprintReport","analyzeMut","useSprintReportAnalyze","businessMut","useSprintBusinessReport","docMut","useSprintReportDocument","presMut","useSprintReportPresentation","useEffect","handleKey","analysisText","setAnalysisText","businessText","setBusinessText","includeAnalysis","setIncludeAnalysis","includeBusiness","setIncludeBusiness","selectedStyle","setSelectedStyle","lastDocHtml","setLastDocHtml","lastPresHtml","setLastPresHtml","report","breakdown","graphContext","completedTasks","completedPoints","completionPct","handleBusiness","handleExportDoc","handleExportPres","handleOpenDocForPdf","handleOpenPresForPdf","AnimatePresence","motion","name","done","Circle","Zap","Building2","opt","FileText","Printer","statusConfig","Clock","taskStatusDot","normalizeSprint","raw","CreateSprintForm","onCreated","createSprint","useCreateSprint","form","setForm","handleSubmit","g","DETAIL_TABS","LayoutGrid","MessageSquare","Target","SprintDetail","onBack","queryClient","useQueryClient","sprintRaw","useSprint","reportRaw","reportError","velocityRaw","velocityError","useSprintVelocity","healthRaw","healthLoading","healthError","useSprintHealth","generateTasks","useSprintGenerateTasks","applyTasks","useSprintApplyTasks","updateSprint","useUpdateSprint","deleteSprint","useDeleteSprint","transitionStatus","useSprintStatusTransition","cloneSprint","useSprintClone","updateAction","useUpdateAction","createAction","useCreateAction","activeTab","setActiveTab","showAddTask","setShowAddTask","newTask","setNewTask","generatedResult","setGeneratedResult","selectedNewTasks","setSelectedNewTasks","selectedExisting","setSelectedExisting","editing","setEditing","editForm","setEditForm","reportModalOpen","setReportModalOpen","confirmDelete","setConfirmDelete","groupedActions","groups","startEdit","saveEdit","handleDelete","handleTransition","status","allNew","allExisting","handleApply","newTasks","existingIds","id","handleClone","handleKanbanStatusChange","newStatus","handleAddTask","handleRemoveFromSprint","velocity","StatusIcon","ArrowLeft","Edit3","Play","Square","FileBarChart","Copy","Trash2","t","next","tab","TabIcon","group","SprintsPage","sprintsQuery","useSprints","sprintsRaw","selectedSprint","setSelectedSprint","showCreate","setShowCreate","sprints","activeSprints","planningSprints","completedSprints","renderSprintCard","ChevronRight","ErrorState","Calendar"],"mappings":"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","x_google_ignoreList":[0,1]}