const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompaniesPage-iGJW6ql9.js","assets/main-BKbBKYvC.js","assets/main-6XWNLwH0.css","assets/input-DsK7IqD2.js","assets/AvatarUpload-DVZbQ3jc.js","assets/upload-BtADKM1s.js","assets/link-2-CWyrMbe7.js","assets/ErrorState-BgEaU0QT.js","assets/alert-dialog-BuwvV1Iy.js","assets/index-CKDzCnkP.js","assets/plus-BG5YpVIb.js","assets/eye-DDSd_vfm.js","assets/pen-BADy_74g.js","assets/arrow-left-ZBUT7vL6.js","assets/globe-2bdQFbui.js","assets/external-link-DJUZ9Zlf.js","assets/sparkles-BJxATUBg.js","assets/save-CuHcaXm4.js","assets/printer-Y5eU2yM0.js","assets/monitor-YqaueyEx.js","assets/key-Cfbr9NfN.js","assets/circle-x-DCC498lp.js","assets/lightbulb-CVgMn_Uk.js","assets/list-checks-CRGlPMsc.js","assets/CompaniesPage-54DrP_uy.css","assets/ProjectsPage-Bj_NCaBy.js","assets/star-_8XYD7us.js","assets/play-BOQB2G_-.js","assets/user-plus-DXXcvBw_.js","assets/users-round-CN2BgtyY.js","assets/grip-vertical--qLQuYrG.js","assets/square-check-big-B5vwT1uX.js","assets/test-tube-C0Ew-oTr.js"])))=>i.map(i=>d[i]);
import{c as U,cB as Y,eT as ee,r as n,j as e,N as b,g as ve,ao as ye,an as te,a2 as ae,am as je,a as x,a1 as fe,O as c,al as J,eU as se,T as Ne,ak as be,d8 as we,cx as Se,b6 as H,eS as ke,C as Ae,F as _e,eV as Ce,eW as Pe,eX as Ie,eY as Le,eZ as Te,e_ as Me,b9 as De,aD as Ee,b8 as q,K as re,av as ze,X as Ue,Y as Oe,e$ as ne,f0 as Re}from"./main-BKbBKYvC.js";import{B as Ke,I as Fe,A as Be}from"./AvatarUpload-DVZbQ3jc.js";import{M as ie,L as le}from"./monitor-YqaueyEx.js";import{S as ce}from"./sparkles-BJxATUBg.js";import{L as $e}from"./link-2-CWyrMbe7.js";import{G as Ge}from"./globe-2bdQFbui.js";import{K as W}from"./key-Cfbr9NfN.js";import{C as Q}from"./circle-x-DCC498lp.js";import{E as V}from"./external-link-DJUZ9Zlf.js";import{L as oe}from"./lightbulb-CVgMn_Uk.js";import{L as de}from"./list-checks-CRGlPMsc.js";const He=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Ve=U("at-sign",He);const Ye=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],me=U("headphones",Ye);const Je=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xe=U("lock",Je);const Ze=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],X=U("text-align-start",Ze);const qe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],We=U("type",qe),_="rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200",j="w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)] transition-all duration-150",z="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] hover:bg-[var(--gm-interactive-primary-hover)] shadow-sm transition-all duration-150 disabled:opacity-50",xe="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150",Qe="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)] shadow-sm transition-all duration-150 disabled:opacity-50",P="text-[10px] font-bold text-[var(--gm-accent-primary)] uppercase tracking-[0.1em]",y="text-[10px] font-bold text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1 flex items-center gap-1.5",et=[{id:"general",label:"General",icon:te},{id:"security",label:"Security",icon:Xe},{id:"sessions",label:"Sessions",icon:ie},{id:"settings",label:"User Settings",icon:ce},{id:"companies",label:"Companies",icon:ae},{id:"projects",label:"Projects",icon:Ke},{id:"integrations",label:"Integrations",icon:$e}];function O({title:a,subtitle:d}){return e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-[var(--gm-text-primary)]",children:a}),d&&e.jsx("p",{className:"text-xs text-[var(--gm-text-tertiary)] mt-0.5",children:d})]})}const tt=()=>{const{user:a,isLoading:d}=Y(),[m]=ee(),i=m.get("tab"),[l,h]=n.useState(i&&["general","security","sessions","integrations","companies","projects","settings"].includes(i)?i:"general");if(d)return e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(b,{className:"h-6 w-6 animate-spin text-[var(--gm-accent-primary)]"})});const r=ve(a?.display_name||a?.email||"");return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-48 shrink-0 border-r border-[var(--gm-border-primary)] bg-[var(--gm-bg-primary)] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-4 border-b border-[var(--gm-border-primary)]",children:[ye(a?.avatar_url)?e.jsx("img",{src:a.avatar_url,alt:a?.display_name||"",className:"w-7 h-7 rounded-full object-cover",onError:o=>{o.target.style.display="none"}}):e.jsx("div",{className:"w-7 h-7 rounded-full bg-[var(--gm-interactive-primary)]/10 flex items-center justify-center",children:e.jsx("span",{className:"text-[10px] font-bold text-[var(--gm-accent-primary)]",children:r})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-bold text-[var(--gm-accent-primary)]",children:"Profile"}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] truncate",children:a?.email})]})]}),e.jsx("nav",{className:"py-2",children:et.map(o=>{const w=o.icon,f=l===o.id;return e.jsxs("button",{onClick:()=>h(o.id),className:x("w-full flex items-center gap-2.5 px-4 py-2 text-xs transition-colors",f?"text-[var(--gm-accent-primary)] bg-[var(--gm-surface-hover)] font-semibold":"text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]"),children:[e.jsx(w,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{className:"flex-1 text-left",children:o.label}),f&&e.jsx(je,{className:"w-3 h-3 shrink-0"})]},o.id)})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l==="general"&&e.jsx(at,{}),l==="security"&&e.jsx(st,{}),l==="sessions"&&e.jsx(rt,{}),l==="settings"&&e.jsx(ct,{}),l==="companies"&&e.jsx(dt,{}),l==="projects"&&e.jsx(xt,{}),l==="integrations"&&e.jsx(it,{})]})]})};function at(){const{user:a,updateProfile:d,uploadAvatar:m,deleteAvatar:i}=Y(),[l,h]=n.useState(""),[r,o]=n.useState(""),[w,f]=n.useState(""),[v,u]=n.useState(""),[N,I]=n.useState("Europe/Lisbon"),[C,D]=n.useState("en"),[k,L]=n.useState(!1);n.useEffect(()=>{a&&(h(a.username||""),o(a.display_name||""),u(a.avatar_url||""),I(a.timezone||"Europe/Lisbon"))},[a]);const T=async()=>{if(l&&!/^[a-zA-Z0-9_]{3,30}$/.test(l)){c.error("Username must be 3-30 characters, alphanumeric and underscores only");return}if(r&&r.trim().length<2){c.error("Display name must be at least 2 characters");return}L(!0);try{await d.mutateAsync({username:l,display_name:r,avatar_url:v||void 0,timezone:N}),c.success("Profile updated")}catch(p){c.error(p.message||"Failed to update profile")}finally{L(!1)}};return e.jsxs("div",{className:"space-y-5",children:[e.jsx(O,{title:"General",subtitle:"Manage your account information and preferences"}),e.jsxs("div",{className:x(_,"p-5 space-y-5"),children:[e.jsx("h3",{className:P,children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(fe,{className:"w-3 h-3"})," Email"]}),e.jsx("input",{value:a?.email||"",readOnly:!0,className:x(j,"opacity-60 cursor-not-allowed")}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(Ve,{className:"w-3 h-3"})," Username"]}),e.jsx("input",{value:l,onChange:p=>h(p.target.value),className:j})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(We,{className:"w-3 h-3"})," Display Name"]}),e.jsx("input",{value:r,onChange:p=>o(p.target.value),className:j})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(X,{className:"w-3 h-3"})," Bio"]}),e.jsx("textarea",{value:w,onChange:p=>f(p.target.value),placeholder:"Tell us a bit about yourself",rows:3,className:x(j,"resize-y")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(Fe,{className:"w-3 h-3"})," Avatar"]}),e.jsx("div",{className:"mt-2",children:e.jsx(Be,{currentUrl:v,name:r||l||a?.email||"",onUpload:async p=>{const A=await m.mutateAsync(p);return u(A),c.success("Avatar uploaded"),A},onUrlChange:p=>{u(p),c.info("URL set — click Save to apply")},onRemove:async()=>{await i.mutateAsync(),u(""),c.success("Avatar removed")},size:"lg"})})]})]}),e.jsxs("div",{className:x(_,"p-5 space-y-4"),children:[e.jsx("h3",{className:P,children:"Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(Ge,{className:"w-3 h-3"})," Timezone"]}),e.jsxs("select",{value:N,onChange:p=>I(p.target.value),className:j,children:[e.jsx("option",{value:"Europe/Lisbon",children:"Lisbon, Portugal (+00:00)"}),e.jsx("option",{value:"Europe/London",children:"London, UK (+00:00)"}),e.jsx("option",{value:"Europe/Paris",children:"Paris, France (+01:00)"}),e.jsx("option",{value:"Europe/Berlin",children:"Berlin, Germany (+01:00)"}),e.jsx("option",{value:"America/New_York",children:"New York, USA (-05:00)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Los Angeles, USA (-08:00)"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo, Japan (+09:00)"}),e.jsx("option",{value:"Australia/Sydney",children:"Sydney, Australia (+11:00)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(le,{className:"w-3 h-3"})," Language"]}),e.jsxs("select",{value:C,onChange:p=>D(p.target.value),className:j,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{onClick:T,disabled:k,className:z,children:[k?e.jsx(b,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(J,{className:"w-3.5 h-3.5"}),k?"Saving...":"Save Changes"]})})]})]})}function st(){const{resetPassword:a}=se(),[d,m]=n.useState(""),[i,l]=n.useState(""),[h,r]=n.useState(""),[o,w]=n.useState(!1),f=async()=>{if(!i||!h){c.error("Please fill in all password fields");return}if(i!==h){c.error("New passwords do not match");return}if(i.length<6){c.error("Password must be at least 6 characters");return}w(!0);try{await a(i),c.success("Password updated successfully"),m(""),l(""),r("")}catch(u){c.error(u.message||"Failed to update password")}finally{w(!1)}},v=()=>{c.error("Account deletion requires contacting an administrator")};return e.jsxs("div",{className:"space-y-5",children:[e.jsx(O,{title:"Security",subtitle:"Manage your password and account security"}),e.jsxs("div",{className:x(_,"p-5 space-y-4"),children:[e.jsx("h3",{className:P,children:"Change Password"}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(W,{className:"w-3 h-3"})," Current Password"]}),e.jsx("input",{type:"password",value:d,onChange:u=>m(u.target.value),className:j})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:y,children:"New Password"}),e.jsx("input",{type:"password",value:i,onChange:u=>l(u.target.value),className:j})]}),e.jsxs("div",{children:[e.jsx("label",{className:y,children:"Confirm Password"}),e.jsx("input",{type:"password",value:h,onChange:u=>r(u.target.value),className:j})]})]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-accent-primary)]",children:"Minimum 6 characters"}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{onClick:f,disabled:o,className:z,children:[o?e.jsx(b,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"}),o?"Updating...":"Update Password"]})})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--color-danger-500)]/30 bg-[var(--color-danger-500)]/5 p-5",children:[e.jsxs("h3",{className:"text-xs font-bold text-[var(--color-danger-500)] mb-1 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-3.5 h-3.5"})," Danger Zone"]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),e.jsxs("button",{onClick:v,className:Qe,children:[e.jsx(be,{className:"w-3.5 h-3.5"})," Delete Account"]})]})]})}function rt(){const{logout:a}=se(),d=[{id:"1",userAgent:navigator.userAgent,ip:"::1",lastActive:"Just now",current:!0}],m=async()=>{try{await a(),c.success("All other sessions signed out")}catch{c.error("Failed to sign out other sessions")}};return e.jsxs("div",{className:"space-y-5",children:[e.jsx(O,{title:"Sessions",subtitle:"Active login sessions for your account"}),e.jsxs("div",{className:x(_,"p-5 space-y-4"),children:[e.jsx("h3",{className:P,children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:d.map(i=>e.jsxs("div",{className:x("flex items-center gap-4 p-4 rounded-lg border",i.current?"border-[var(--gm-accent-primary)]/30 bg-[var(--gm-accent-primary)]/5":"border-[var(--gm-border-primary)]"),children:[e.jsx(ie,{className:"w-7 h-7 text-[var(--gm-text-tertiary)] flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-[var(--gm-text-primary)] break-all",children:i.userAgent}),e.jsxs("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:[i.ip," • Last active: ",i.lastActive]})]}),i.current&&e.jsx("span",{className:"text-[10px] font-bold text-[var(--gm-accent-primary)] bg-[var(--gm-accent-primary)]/10 px-2 py-0.5 rounded-full flex-shrink-0",children:"Current"})]},i.id))}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{onClick:m,className:xe,children:[e.jsx(we,{className:"w-3.5 h-3.5"})," Sign out all other sessions"]})})]})]})}function nt({meeting:a}){const{data:d,isLoading:m}=Re(a.meeting_id),[i,l]=n.useState("outline"),h=[{id:"transcript",label:"Transcript",icon:re,available:!0},{id:"outline",label:"Outline",icon:X,available:a.detailed_summary.length>0},{id:"keypoints",label:"Key Points",icon:oe,available:a.key_points.length>0},{id:"actions",label:"Actions",icon:de,available:a.action_items.length>0},{id:"audio",label:"Audio",icon:me,available:!0}];return e.jsxs("div",{className:"border-t border-[var(--gm-border-primary)]/50 mx-4 mb-2",children:[e.jsx("div",{className:"flex gap-0.5 pt-2 pb-1 overflow-x-auto",children:h.map(({id:r,label:o,icon:w,available:f})=>e.jsxs("button",{onClick:()=>l(r),className:x("flex items-center gap-1 px-2.5 py-1.5 rounded-md text-[10px] font-medium whitespace-nowrap transition-colors",i===r?"bg-[var(--gm-accent-primary)]/10 text-[var(--gm-accent-primary)]":f?"text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]":"text-[var(--gm-text-tertiary)]/40 cursor-default"),children:[e.jsx(w,{className:"w-3 h-3"}),o,r==="actions"&&a.action_items.length>0&&e.jsxs("span",{className:"ml-0.5 text-[9px] opacity-60",children:["(",a.action_items.length,")"]}),r==="keypoints"&&a.key_points.length>0&&e.jsxs("span",{className:"ml-0.5 text-[9px] opacity-60",children:["(",a.key_points.length,")"]}),r==="outline"&&a.detailed_summary.length>0&&e.jsxs("span",{className:"ml-0.5 text-[9px] opacity-60",children:["(",a.detailed_summary.length,")"]})]},r))}),e.jsxs("div",{className:"pb-3 pt-1",children:[i==="transcript"&&e.jsx("div",{children:m?e.jsxs("div",{className:"flex items-center gap-2 py-4 justify-center",children:[e.jsx(b,{className:"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]"}),e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:"Fetching transcript..."})]}):d?.transcript?e.jsx("pre",{className:"text-[10px] text-[var(--gm-text-secondary)] whitespace-pre-wrap max-h-[200px] overflow-y-auto bg-[var(--gm-bg-tertiary)] rounded-md p-3 font-mono leading-relaxed",children:d.transcript}):e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] italic py-2",children:d?.error||"No transcript content available."})}),i==="outline"&&e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:a.detailed_summary.length>0?a.detailed_summary.map((r,o)=>e.jsxs("div",{className:"text-[10px]",children:[e.jsx("span",{className:"font-medium text-[var(--gm-text-primary)]",children:r.title}),e.jsx("p",{className:"text-[var(--gm-text-tertiary)] mt-0.5",children:r.description})]},o)):e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] italic",children:"No outline available."})}),i==="keypoints"&&e.jsx("ul",{className:"space-y-1.5 max-h-[200px] overflow-y-auto",children:a.key_points.length>0?a.key_points.map((r,o)=>e.jsxs("li",{className:"text-[10px] text-[var(--gm-text-tertiary)] flex gap-1.5",children:[e.jsx("span",{className:"text-[var(--gm-accent-primary)] mt-0.5 flex-shrink-0",children:"•"}),e.jsx("span",{children:r.replace(/\{\{.*?\}\}/g,"").trim()})]},o)):e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] italic",children:"No key points available."})}),i==="actions"&&e.jsx("ul",{className:"space-y-1.5 max-h-[200px] overflow-y-auto",children:a.action_items.length>0?a.action_items.map((r,o)=>e.jsxs("li",{className:"text-[10px] flex items-start gap-1.5",children:[e.jsx("span",{className:x("mt-0.5 flex-shrink-0",r.completed?"text-emerald-500":"text-[var(--gm-text-tertiary)]"),children:r.completed?"✓":"○"}),e.jsx("span",{className:"text-[var(--gm-text-primary)] flex-1",children:r.title}),r.assignee&&e.jsx("span",{className:"text-[9px] px-1.5 py-0 rounded border border-[var(--gm-border-primary)] text-[var(--gm-text-tertiary)] flex-shrink-0",children:r.assignee})]},o)):e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] italic",children:"No action items available."})}),i==="audio"&&e.jsx("div",{children:m?e.jsxs("div",{className:"flex items-center gap-2 py-4 justify-center",children:[e.jsx(b,{className:"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]"}),e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:"Checking for audio..."})]}):d?.audioUrl?e.jsxs("div",{className:"space-y-2",children:[e.jsx("audio",{controls:!0,className:"w-full h-8",preload:"none",children:e.jsx("source",{src:d.audioUrl,type:"audio/mpeg"})}),e.jsxs("a",{href:d.audioUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-[10px] text-[var(--gm-accent-primary)] hover:underline",children:[e.jsx(V,{className:"w-3 h-3"})," Open audio file"]})]}):e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] italic py-2",children:"No audio recording available for this meeting."})})]})]})}function it(){const a=_e(),[d,m]=ee(),{data:i=[]}=Ce(),[l,h]=n.useState(!1),[r,o]=n.useState(new Set),[w,f]=n.useState(null),[v,u]=n.useState(""),[N,I]=n.useState({transcript:!0,keyPoints:!0,actionItems:!0,outline:!0,audio:!0}),[C,D]=n.useState(()=>{const t=new Date;return t.setDate(t.getDate()-30),t.toISOString().split("T")[0]}),[k,L]=n.useState(()=>new Date().toISOString().split("T")[0]),{data:T,isLoading:p}=Pe(),A=Ie(),E=Le(),M=Te(),{data:R,isLoading:F}=Me({limit:50,after:C||void 0,before:k||void 0,enabled:l&&!!T?.connected});n.useEffect(()=>{const t=d.get("krisp_connected"),g=d.get("krisp_error");t==="true"?(c.success("Krisp connected successfully!"),m({},{replace:!0})):g&&(c.error(`Krisp connection failed: ${decodeURIComponent(g)}`),m({},{replace:!0}))},[d,m]);const B=async()=>{try{const t=await A.mutateAsync();t.url&&(window.location.href=t.url)}catch{c.error("Failed to start Krisp authorization")}},s=async()=>{if(confirm("Disconnect Krisp? You can reconnect anytime."))try{await E.mutateAsync(),h(!1),c.success("Krisp disconnected")}catch{c.error("Failed to disconnect")}},pe=t=>{o(g=>{const S=new Set(g);return S.has(t)?S.delete(t):S.add(t),S})},ge=t=>{I(g=>({...g,[t]:!g[t]}))},ue=async()=>{if(r.size===0)return c.error("Select at least one meeting");if(!v)return c.error("Select a target project");if(!N.transcript&&!N.keyPoints&&!N.actionItems&&!N.outline)return c.error("Select at least one content type to import");const t=i.find(g=>g.id===v);try{const g=await M.mutateAsync({meetingIds:Array.from(r),projectId:v,importOptions:N});g.succeeded>0&&(c.success(`Imported ${g.succeeded} meeting(s) to ${t?.name||"project"}`),o(new Set)),g.failed>0&&c.error(`${g.failed} meeting(s) failed to import`)}catch{c.error("Import failed")}},Z=T?.connected===!0,$=R?.meetings||[],he=[{key:"transcript",icon:re,label:"Transcript"},{key:"keyPoints",icon:oe,label:"Key Points"},{key:"actionItems",icon:de,label:"Action Items"},{key:"outline",icon:X,label:"Outline"},{key:"audio",icon:me,label:"Audio"}];return e.jsxs("div",{className:"space-y-5",children:[e.jsx(O,{title:"Integrations",subtitle:"Connect external services to your account"}),e.jsxs("div",{className:x(_,"p-5"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:x(P,"flex items-center gap-2"),children:[e.jsx(De,{className:"w-3.5 h-3.5"})," Krisp AI Meeting Assistant"]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Connect your Krisp account via OAuth to import transcripts and recordings."})]}),p?e.jsx(b,{className:"w-4 h-4 animate-spin text-[var(--gm-text-tertiary)]"}):Z?e.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-bold text-emerald-500 bg-emerald-500/10 border border-emerald-500/30 px-2 py-0.5 rounded-full",children:[e.jsx(Ee,{className:"w-3 h-3"})," Connected"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-bold text-[var(--gm-text-tertiary)] border border-[var(--gm-border-primary)] px-2 py-0.5 rounded-full",children:[e.jsx(Q,{className:"w-3 h-3"})," Not connected"]})]}),Z?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>h(!l),className:x(z,"flex-1 justify-center py-2"),children:[e.jsx(q,{className:"w-3.5 h-3.5"}),l?"Hide Meetings":"Browse & Import Meetings"]}),e.jsxs("button",{onClick:s,disabled:E.isPending,className:x(xe,"hover:text-[var(--color-danger-500)] hover:border-[var(--color-danger-500)]/30"),children:[E.isPending?e.jsx(b,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Q,{className:"w-3.5 h-3.5"}),"Disconnect"]})]}),l&&e.jsxs("div",{className:"border border-[var(--gm-border-primary)] rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-[var(--gm-bg-tertiary)] border-b border-[var(--gm-border-primary)]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-[10px] text-[var(--gm-text-tertiary)] whitespace-nowrap uppercase tracking-wider font-bold",children:"From"}),e.jsx("input",{type:"date",value:C,onChange:t=>D(t.target.value),className:"px-2 py-1 text-xs rounded-md border border-[var(--gm-border-primary)] bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-primary)]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-[10px] text-[var(--gm-text-tertiary)] whitespace-nowrap uppercase tracking-wider font-bold",children:"To"}),e.jsx("input",{type:"date",value:k,onChange:t=>L(t.target.value),className:"px-2 py-1 text-xs rounded-md border border-[var(--gm-border-primary)] bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-primary)]"})]}),e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)] ml-auto",children:[$.length," meeting(s)"]})]}),r.size>0&&e.jsxs("div",{className:"px-4 py-3 bg-[var(--gm-accent-primary)]/5 border-b border-[var(--gm-border-primary)] space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-[var(--gm-text-primary)] font-medium whitespace-nowrap",children:[r.size," selected →"]}),e.jsxs("select",{value:v,onChange:t=>u(t.target.value),className:x(j,"flex-1"),children:[e.jsx("option",{value:"",children:"Select target project..."}),i.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("button",{onClick:ue,disabled:M.isPending||!v,className:z,children:[M.isPending?e.jsx(b,{className:"w-3 h-3 animate-spin"}):e.jsx(q,{className:"w-3 h-3"}),"Import"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"text-[10px] text-[var(--gm-text-tertiary)] mr-1",children:"Include:"}),he.map(({key:t,icon:g,label:S})=>e.jsxs("button",{onClick:()=>ge(t),className:x("flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-medium border transition-colors",N[t]?"bg-[var(--gm-accent-primary)]/10 border-[var(--gm-accent-primary)]/30 text-[var(--gm-accent-primary)]":"bg-[var(--gm-bg-tertiary)] border-[var(--gm-border-primary)] text-[var(--gm-text-tertiary)]"),children:[e.jsx(g,{className:"w-3 h-3"}),S]},t))]})]}),F?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(b,{className:"w-5 h-5 animate-spin text-[var(--gm-text-tertiary)]"}),e.jsx("span",{className:"ml-2 text-xs text-[var(--gm-text-tertiary)]",children:"Loading meetings from Krisp..."})]}):$.length===0?e.jsx("div",{className:"text-center py-8 text-[var(--gm-text-tertiary)] text-xs",children:"No meetings found for the selected date range."}):e.jsx("div",{className:"max-h-[500px] overflow-y-auto divide-y divide-[var(--gm-border-primary)]",children:$.map(t=>{const g=r.has(t.meeting_id),S=w===t.meeting_id,K=v?t.importedTo.some(G=>G.projectId===v):!1;return e.jsxs("div",{className:x(g&&"bg-[var(--gm-accent-primary)]/5",K&&"opacity-60"),children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:()=>pe(t.meeting_id),disabled:K,className:"rounded border-[var(--gm-border-primary)] flex-shrink-0"}),e.jsxs("button",{onClick:()=>f(S?null:t.meeting_id),className:"flex-1 min-w-0 text-left",children:[e.jsx("p",{className:"text-xs font-medium text-[var(--gm-text-primary)] truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-1",children:[e.jsx(ze,{className:"w-3 h-3"}),t.date?new Date(t.date).toLocaleDateString():"—"]}),t.speakers.length>0&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)] flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),t.speakers.slice(0,3).join(", "),t.speakers.length>3&&` +${t.speakers.length-3}`]}),t.detailed_summary.length>0&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:[t.detailed_summary.length," topics"]}),t.key_points.length>0&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:[t.key_points.length," key pts"]}),t.action_items.length>0&&e.jsxs("span",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:[t.action_items.length," actions"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[K&&e.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[10px] font-bold text-emerald-500 border border-emerald-500/30 px-1.5 py-0 rounded",children:[e.jsx(J,{className:"w-3 h-3"})," Imported"]}),t.importedTo.length>0&&!K&&e.jsxs("span",{className:"text-[10px] border border-[var(--gm-border-primary)] px-1.5 py-0 rounded text-[var(--gm-text-tertiary)]",children:["In ",t.importedTo.map(G=>G.projectName).join(", ")]}),e.jsx("button",{onClick:()=>f(S?null:t.meeting_id),className:"p-1 text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] transition-colors",children:S?e.jsx(Ue,{className:"w-4 h-4"}):e.jsx(Oe,{className:"w-4 h-4"})})]})]}),S&&e.jsx(nt,{meeting:t})]},t.meeting_id)})})]}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsxs("button",{onClick:()=>a("/files"),className:"flex items-center gap-2 text-[10px] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-accent-primary)] transition-colors",children:["View imported transcripts ",e.jsx(V,{className:"w-3 h-3"})]})})]}):e.jsxs("button",{onClick:B,disabled:A.isPending,className:x(z,"w-full justify-center py-2.5"),children:[A.isPending?e.jsx(b,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(V,{className:"w-3.5 h-3.5"}),"Connect Krisp Account"]})]})]})}function lt({checked:a,onChange:d,disabled:m}){return e.jsx("button",{onClick:()=>!m&&d(!a),disabled:m,className:"relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border border-[var(--gm-border-primary)] transition-colors duration-200 disabled:opacity-50",style:{backgroundColor:a?"var(--color-brand-500)":"var(--gm-bg-tertiary)"},children:e.jsx("span",{className:x("pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-sm transition-transform duration-200",a?"translate-x-4":"translate-x-0")})})}function ct(){const{user:a,updateProfile:d}=Y(),{currentProject:m,currentProjectId:i}=Se(),[l,h]=n.useState(()=>localStorage.getItem("godmode-theme")||"dark"),[r,o]=n.useState(()=>localStorage.getItem("godmode-language")||"en"),[w,f]=n.useState([]),[v,u]=n.useState([]),[N,I]=n.useState(""),[C,D]=n.useState(""),[k,L]=n.useState(!0),[T,p]=n.useState(!0),[A,E]=n.useState(!1),[M,R]=n.useState(!1);n.useEffect(()=>{a?.timezone&&D(a.timezone),m?.user_role&&I(m.user_role),H.get("/api/role-templates").then(s=>{s.roles&&f(s.roles)}).catch(()=>{}),H.get("/api/timezones").then(s=>{s.timezones&&u(s.timezones)}).catch(()=>{});try{const s=JSON.parse(localStorage.getItem("godmode-privacy")||"{}");s.analytics!==void 0&&L(s.analytics),s.errorReporting!==void 0&&p(s.errorReporting),s.aiData!==void 0&&E(s.aiData)}catch{}},[a,m,i]);const F=async()=>{R(!0);try{localStorage.setItem("godmode-theme",l),localStorage.setItem("godmode-language",r),localStorage.setItem("godmode-privacy",JSON.stringify({analytics:k,errorReporting:T,aiData:A})),l==="dark"?document.documentElement.classList.add("dark"):l==="light"&&document.documentElement.classList.remove("dark"),C!==a?.timezone&&await d.mutateAsync({timezone:C}),i&&N!==(m?.user_role||"")&&await H.put(`/api/projects/${i}/members/${a?.id}`,{user_role:N}),c.success("Settings saved")}catch(s){c.error(s.message||"Failed to save settings")}finally{R(!1)}},B=[{label:"Analytics",desc:"Help improve GodMode with anonymous usage data",value:k,set:L},{label:"Error Reporting",desc:"Automatically report errors to help fix bugs",value:T,set:p},{label:"AI Data Improvement",desc:"Allow anonymized data to improve AI responses",value:A,set:E}];return e.jsxs("div",{className:"space-y-5",children:[e.jsx(O,{title:"User Settings",subtitle:"Appearance, role, and privacy preferences"}),e.jsxs("div",{className:x(_,"p-5 space-y-4"),children:[e.jsx("h3",{className:P,children:"Appearance"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(ce,{className:"w-3 h-3"})," Theme"]}),e.jsxs("select",{value:l,onChange:s=>h(s.target.value),className:j,children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"system",children:"System"})]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Choose your preferred color scheme"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(le,{className:"w-3 h-3"})," Language"]}),e.jsxs("select",{value:r,onChange:s=>o(s.target.value),className:j,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"})]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Interface language preference"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-[var(--gm-accent-primary)]/20 bg-[var(--gm-accent-primary)]/5",children:[e.jsx(ke,{className:"w-4 h-4 text-[var(--gm-accent-primary)] flex-shrink-0"}),e.jsxs("p",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:["For ",e.jsx("span",{className:"text-[var(--gm-accent-primary)] font-medium",children:"LLM configuration"})," and ",e.jsx("span",{className:"text-[var(--gm-accent-primary)] font-medium",children:"Graph"})," settings, use the ",e.jsx("span",{className:"text-[var(--gm-accent-primary)] font-medium",children:"Admin"})," section."]})]})]}),e.jsxs("div",{className:x(_,"p-5 space-y-4"),children:[e.jsx("h3",{className:P,children:"Role & Context"}),e.jsxs("div",{className:"p-3 rounded-lg bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)]",children:[e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] uppercase tracking-wider font-bold mb-1",children:"Active Project"}),e.jsx("p",{className:"text-xs font-medium text-[var(--gm-text-primary)]",children:m?.name||"No Active Project"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(ae,{className:"w-3 h-3"})," Project Role"]}),e.jsxs("select",{value:N,onChange:s=>I(s.target.value),disabled:!i||i==="default",className:j,children:[e.jsx("option",{value:"",children:"Select a role..."}),w.filter(s=>s.name||s.display_name).map(s=>e.jsx("option",{value:s.display_name||s.name,children:s.display_name||s.name},s.id||s.name))]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Your role in the current project"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:y,children:[e.jsx(Ae,{className:"w-3 h-3"})," Timezone"]}),e.jsxs("select",{value:C,onChange:s=>D(s.target.value),className:j,children:[e.jsx("option",{value:"",children:"Select timezone..."}),v.map(s=>e.jsxs("option",{value:s.code,children:[s.name," (",s.utc_offset,")"]},s.code))]}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)] mt-1",children:"Used for scheduling and notifications"})]})]})]}),e.jsxs("div",{className:x(_,"p-5"),children:[e.jsx("h3",{className:x(P,"mb-4"),children:"Data & Privacy"}),e.jsx("div",{className:"space-y-1",children:B.map(s=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-[var(--gm-border-primary)] last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--gm-text-primary)]",children:s.label}),e.jsx("p",{className:"text-[10px] text-[var(--gm-text-tertiary)]",children:s.desc})]}),e.jsx(lt,{checked:s.value,onChange:s.set})]},s.label))})]}),e.jsx("div",{className:x(_,"p-4 flex justify-end"),children:e.jsxs("button",{onClick:F,disabled:M,className:z,children:[M?e.jsx(b,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(J,{className:"w-3.5 h-3.5"}),M?"Saving...":"Save Settings"]})})]})}const ot=n.lazy(()=>ne(()=>import("./CompaniesPage-iGJW6ql9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])));function dt(){return e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),children:e.jsx(ot,{})})}const mt=n.lazy(()=>ne(()=>import("./ProjectsPage-Bj_NCaBy.js"),__vite__mapDeps([25,1,2,3,8,9,5,10,26,27,12,13,28,29,20,30,6,31,32,16])));function xt(){return e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b,{className:"w-6 h-6 animate-spin text-[var(--gm-accent-primary)]"})}),children:e.jsx(mt,{})})}const St=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{St as P,We as T};
//# sourceMappingURL=ProfilePage-AdV8lZ0-.js.map
