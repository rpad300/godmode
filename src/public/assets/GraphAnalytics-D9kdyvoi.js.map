{"version":3,"file":"GraphAnalytics-D9kdyvoi.js","sources":["../../frontend/components/graph/GraphAnalytics.ts"],"sourcesContent":["/**\n * GraphAnalytics - Analytics and insights dashboard\n * \n * Features:\n * - Stats cards with key metrics\n * - Community visualization\n * - Centrality ranking\n * - Key people list\n * - Bridge nodes\n * - AI-generated insights\n */\n\nimport { createElement, on } from '../../utils/dom';\nimport { graphService, GraphStats, Community, CentralityMetrics, BridgeNode, GraphInsight } from '../../services/graph';\nimport { toast } from '../../services/toast';\n\nexport interface GraphAnalyticsProps {\n  onNodeSelect?: (nodeId: string) => void;\n}\n\ninterface AnalyticsState {\n  stats: GraphStats | null;\n  communities: Community[];\n  centrality: CentralityMetrics;\n  bridges: BridgeNode[];\n  insights: GraphInsight[];\n  isLoading: boolean;\n}\n\n/**\n * Create the graph analytics component\n */\nexport function createGraphAnalytics(props: GraphAnalyticsProps = {}): HTMLElement {\n  const state: AnalyticsState = {\n    stats: null,\n    communities: [],\n    centrality: { topNodes: [] },\n    bridges: [],\n    insights: [],\n    isLoading: true,\n  };\n\n  const container = createElement('div', { className: 'graph-analytics' });\n  \n  container.innerHTML = `\n    <div class=\"analytics-grid\">\n      <!-- Stats Cards Row -->\n      <div class=\"stats-cards\" id=\"stats-cards\">\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n            </svg>\n          </div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\" id=\"stat-nodes\">-</div>\n            <div class=\"stat-label\">Total Nodes</div>\n          </div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"/>\n              <polyline points=\"15 3 21 3 21 9\"/>\n              <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"/>\n            </svg>\n          </div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\" id=\"stat-edges\">-</div>\n            <div class=\"stat-label\">Total Edges</div>\n          </div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n              <circle cx=\"12\" cy=\"12\" r=\"6\"/>\n              <circle cx=\"12\" cy=\"12\" r=\"2\"/>\n            </svg>\n          </div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\" id=\"stat-communities\">-</div>\n            <div class=\"stat-label\">Communities</div>\n          </div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/>\n              <circle cx=\"9\" cy=\"7\" r=\"4\"/>\n              <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/>\n              <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\n            </svg>\n          </div>\n          <div class=\"stat-content\">\n            <div class=\"stat-value\" id=\"stat-people\">-</div>\n            <div class=\"stat-label\">People</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Main Grid -->\n      <div class=\"analytics-main\">\n        <!-- Left Column -->\n        <div class=\"analytics-column\">\n          <!-- Entity Types Distribution -->\n          <div class=\"analytics-card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"/>\n                  <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"/>\n                  <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"/>\n                  <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"/>\n                </svg>\n                Entity Distribution\n              </h3>\n            </div>\n            <div class=\"card-content\" id=\"entity-distribution\">\n              <div class=\"loading-state\"><div class=\"loading-spinner\"></div></div>\n            </div>\n          </div>\n\n          <!-- Communities -->\n          <div class=\"analytics-card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n                  <circle cx=\"12\" cy=\"12\" r=\"6\"/>\n                  <circle cx=\"12\" cy=\"12\" r=\"2\"/>\n                </svg>\n                Communities\n              </h3>\n              <button class=\"card-action\" id=\"btn-detect-communities\">\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <path d=\"M21 2v6h-6\"/>\n                  <path d=\"M3 12a9 9 0 0 1 15-6.7L21 8\"/>\n                </svg>\n                Detect\n              </button>\n            </div>\n            <div class=\"card-content\" id=\"communities-list\">\n              <div class=\"loading-state\"><div class=\"loading-spinner\"></div></div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Center Column -->\n        <div class=\"analytics-column\">\n          <!-- Key People -->\n          <div class=\"analytics-card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/>\n                  <circle cx=\"9\" cy=\"7\" r=\"4\"/>\n                  <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/>\n                  <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\n                </svg>\n                Key People (by Centrality)\n              </h3>\n            </div>\n            <div class=\"card-content\" id=\"key-people\">\n              <div class=\"loading-state\"><div class=\"loading-spinner\"></div></div>\n            </div>\n          </div>\n\n          <!-- Bridge Nodes -->\n          <div class=\"analytics-card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <path d=\"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\"/>\n                  <path d=\"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\"/>\n                  <path d=\"M4 22h16\"/>\n                  <path d=\"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\"/>\n                  <path d=\"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\"/>\n                  <path d=\"M18 2H6v7a6 6 0 0 0 12 0V2Z\"/>\n                </svg>\n                Bridge Nodes\n              </h3>\n            </div>\n            <div class=\"card-content\" id=\"bridge-nodes\">\n              <div class=\"loading-state\"><div class=\"loading-spinner\"></div></div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Right Column -->\n        <div class=\"analytics-column\">\n          <!-- AI Insights -->\n          <div class=\"analytics-card analytics-card-full\">\n            <div class=\"card-header\">\n              <h3 class=\"card-title\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n                  <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/>\n                  <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/>\n                </svg>\n                AI Insights\n              </h3>\n              <button class=\"card-action\" id=\"btn-generate-insights\">\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"/>\n                </svg>\n                Generate\n              </button>\n            </div>\n            <div class=\"card-content\" id=\"ai-insights\">\n              <div class=\"loading-state\"><div class=\"loading-spinner\"></div></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // Initialize\n  initAnalytics(container, state, props);\n\n  return container;\n}\n\n/**\n * Initialize analytics\n */\nasync function initAnalytics(\n  container: HTMLElement,\n  state: AnalyticsState,\n  props: GraphAnalyticsProps\n): Promise<void> {\n  // Bind actions\n  const btnDetectCommunities = container.querySelector('#btn-detect-communities');\n  if (btnDetectCommunities) {\n    on(btnDetectCommunities as HTMLElement, 'click', async () => {\n      toast.info('Detecting communities...');\n      const communities = await graphService.getCommunities();\n      state.communities = communities;\n      renderCommunities(container, state, props);\n      toast.success(`Found ${communities.length} communities`);\n    });\n  }\n\n  const btnGenerateInsights = container.querySelector('#btn-generate-insights');\n  if (btnGenerateInsights) {\n    on(btnGenerateInsights as HTMLElement, 'click', async () => {\n      toast.info('Generating AI insights...');\n      const insights = await graphService.getInsights();\n      state.insights = insights;\n      renderInsights(container, state);\n      toast.success(`Generated ${insights.length} insights`);\n    });\n  }\n\n  // Load data\n  await loadAnalyticsData(container, state, props);\n}\n\n/**\n * Load all analytics data\n */\nasync function loadAnalyticsData(\n  container: HTMLElement,\n  state: AnalyticsState,\n  props: GraphAnalyticsProps\n): Promise<void> {\n  try {\n    const [stats, communities, centrality, bridges, insights] = await Promise.all([\n      graphService.getStats(),\n      graphService.getCommunities(),\n      graphService.getCentrality(),\n      graphService.getBridges(),\n      graphService.getInsights(),\n    ]);\n\n    state.stats = stats;\n    state.communities = communities;\n    state.centrality = centrality;\n    state.bridges = bridges;\n    state.insights = insights;\n    state.isLoading = false;\n\n    // Render all sections\n    renderStats(container, state);\n    renderEntityDistribution(container, state);\n    renderCommunities(container, state, props);\n    renderKeyPeople(container, state, props);\n    renderBridgeNodes(container, state, props);\n    renderInsights(container, state);\n\n  } catch (error) {\n    console.error('[GraphAnalytics] Failed to load:', error);\n    state.isLoading = false;\n  }\n}\n\n/**\n * Render stats cards\n */\nfunction renderStats(container: HTMLElement, state: AnalyticsState): void {\n  const stats = state.stats;\n  if (!stats) return;\n\n  const nodeCount = container.querySelector('#stat-nodes');\n  const edgeCount = container.querySelector('#stat-edges');\n  const communityCount = container.querySelector('#stat-communities');\n  const peopleCount = container.querySelector('#stat-people');\n\n  if (nodeCount) nodeCount.textContent = formatNumber(stats.nodeCount);\n  if (edgeCount) edgeCount.textContent = formatNumber(stats.edgeCount);\n  if (communityCount) communityCount.textContent = formatNumber(state.communities.length);\n  if (peopleCount) {\n    const people = stats.nodeTypes?.Person || stats.nodeTypes?.person || 0;\n    peopleCount.textContent = formatNumber(people);\n  }\n}\n\n/**\n * Render entity distribution\n */\nfunction renderEntityDistribution(container: HTMLElement, state: AnalyticsState): void {\n  const el = container.querySelector('#entity-distribution');\n  if (!el || !state.stats?.nodeTypes) {\n    if (el) el.innerHTML = '<div class=\"empty-state-small\">No data available</div>';\n    return;\n  }\n\n  const types = Object.entries(state.stats.nodeTypes)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 10);\n\n  const total = types.reduce((sum, [, count]) => sum + count, 0);\n  const maxCount = Math.max(...types.map(([, count]) => count));\n\n  el.innerHTML = `\n    <div class=\"distribution-chart\">\n      ${types.map(([type, count]) => {\n        const percentage = total > 0 ? (count / total * 100).toFixed(1) : 0;\n        const width = maxCount > 0 ? (count / maxCount * 100) : 0;\n        return `\n          <div class=\"distribution-row\">\n            <div class=\"distribution-label\">\n              <span class=\"type-dot\" style=\"--type-color: ${getTypeColor(type)}\"></span>\n              <span class=\"type-name\">${escapeHtml(type)}</span>\n            </div>\n            <div class=\"distribution-bar-container\">\n              <div class=\"distribution-bar\" style=\"--bar-width: ${width}%; --bar-color: ${getTypeColor(type)}\"></div>\n            </div>\n            <div class=\"distribution-value\">${count} (${percentage}%)</div>\n          </div>\n        `;\n      }).join('')}\n    </div>\n  `;\n}\n\n/**\n * Render communities\n */\nfunction renderCommunities(\n  container: HTMLElement,\n  state: AnalyticsState,\n  props: GraphAnalyticsProps\n): void {\n  const el = container.querySelector('#communities-list');\n  if (!el) return;\n\n  if (state.communities.length === 0) {\n    el.innerHTML = `\n      <div class=\"empty-state-small\">\n        <p>No communities detected</p>\n        <p class=\"text-muted\">Click \"Detect\" to find communities</p>\n      </div>\n    `;\n    return;\n  }\n\n  const colors = ['#6366f1', '#22c55e', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#ec4899', '#84cc16'];\n\n  el.innerHTML = `\n    <div class=\"communities-grid\">\n      ${state.communities.slice(0, 6).map((community, i) => `\n        <div class=\"community-card\" data-id=\"${community.id}\">\n          <div class=\"community-header\">\n            <div class=\"community-color\" style=\"--community-color: ${colors[i % colors.length]}\"></div>\n            <span class=\"community-name\">${community.hub?.name || `Community ${i + 1}`}</span>\n          </div>\n          <div class=\"community-stats\">\n            <span class=\"community-size\">${community.size} members</span>\n          </div>\n          ${community.members.slice(0, 3).map(m => `\n            <div class=\"community-member\">\n              <span class=\"member-type\" style=\"--member-type-color: ${getTypeColor(m.type)}\">${m.type}</span>\n              <span class=\"member-name\">${escapeHtml(m.name)}</span>\n            </div>\n          `).join('')}\n          ${community.members.length > 3 ? `<div class=\"community-more\">+${community.members.length - 3} more</div>` : ''}\n        </div>\n      `).join('')}\n    </div>\n    ${state.communities.length > 6 ? `<div class=\"show-more\">+${state.communities.length - 6} more communities</div>` : ''}\n  `;\n\n  // Bind click events\n  el.querySelectorAll('.community-card').forEach(card => {\n    on(card as HTMLElement, 'click', () => {\n      const id = card.getAttribute('data-id');\n      if (id) {\n        toast.info(`Filtering by community ${id}`);\n        // TODO: Filter graph by community\n      }\n    });\n  });\n}\n\n/**\n * Render key people\n */\nfunction renderKeyPeople(\n  container: HTMLElement,\n  state: AnalyticsState,\n  props: GraphAnalyticsProps\n): void {\n  const el = container.querySelector('#key-people');\n  if (!el) return;\n\n  if (!state.centrality.topNodes || state.centrality.topNodes.length === 0) {\n    el.innerHTML = '<div class=\"empty-state-small\">No centrality data available</div>';\n    return;\n  }\n\n  const maxConnections = Math.max(...state.centrality.topNodes.map(n => n.connections));\n\n  el.innerHTML = `\n    <div class=\"key-people-list\">\n      ${state.centrality.topNodes.slice(0, 10).map((person, i) => `\n        <div class=\"key-person\" data-id=\"${person.id}\">\n          <div class=\"person-rank\">${i + 1}</div>\n          <div class=\"person-avatar\">\n            ${person.avatarUrl\n              ? `<img src=\"${person.avatarUrl}\" alt=\"\" onerror=\"this.classList.add('gm-none')\">`\n              : `<div class=\"avatar-placeholder\">${getInitials(person.name)}</div>`\n            }\n          </div>\n          <div class=\"person-info\">\n            <div class=\"person-name\">${escapeHtml(person.name)}</div>\n            <div class=\"person-type\">${person.type}</div>\n          </div>\n          <div class=\"person-metrics\">\n            <div class=\"connections-bar-container\">\n              <div class=\"connections-bar\" style=\"--bar-width: ${(person.connections / maxConnections) * 100}%\"></div>\n            </div>\n            <span class=\"connections-count\">${person.connections}</span>\n          </div>\n        </div>\n      `).join('')}\n    </div>\n  `;\n\n  // Bind click events\n  el.querySelectorAll('.key-person').forEach(item => {\n    on(item as HTMLElement, 'click', () => {\n      const id = item.getAttribute('data-id');\n      if (id) props.onNodeSelect?.(id);\n    });\n  });\n}\n\n/**\n * Render bridge nodes\n */\nfunction renderBridgeNodes(\n  container: HTMLElement,\n  state: AnalyticsState,\n  props: GraphAnalyticsProps\n): void {\n  const el = container.querySelector('#bridge-nodes');\n  if (!el) return;\n\n  if (state.bridges.length === 0) {\n    el.innerHTML = '<div class=\"empty-state-small\">No bridge nodes detected</div>';\n    return;\n  }\n\n  el.innerHTML = `\n    <div class=\"bridge-nodes-list\">\n      ${state.bridges.slice(0, 8).map(bridge => `\n        <div class=\"bridge-node\" data-id=\"${bridge.id}\">\n          <div class=\"bridge-info\">\n            <span class=\"bridge-name\">${escapeHtml(bridge.name)}</span>\n            <span class=\"bridge-connections\">Connects ${bridge.connects} groups</span>\n          </div>\n          ${bridge.org1 && bridge.org2 ? `\n            <div class=\"bridge-path\">\n              <span class=\"org\">${escapeHtml(bridge.org1)}</span>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M5 12h14M12 5l7 7-7 7\"/>\n              </svg>\n              <span class=\"org\">${escapeHtml(bridge.org2)}</span>\n            </div>\n          ` : ''}\n        </div>\n      `).join('')}\n    </div>\n  `;\n\n  // Bind click events\n  el.querySelectorAll('.bridge-node').forEach(item => {\n    on(item as HTMLElement, 'click', () => {\n      const id = item.getAttribute('data-id');\n      if (id) props.onNodeSelect?.(id);\n    });\n  });\n}\n\n/**\n * Render AI insights\n */\nfunction renderInsights(container: HTMLElement, state: AnalyticsState): void {\n  const el = container.querySelector('#ai-insights');\n  if (!el) return;\n\n  if (state.insights.length === 0) {\n    el.innerHTML = `\n      <div class=\"empty-state-small\">\n        <p>No insights available</p>\n        <p class=\"text-muted\">Click \"Generate\" to create AI insights</p>\n      </div>\n    `;\n    return;\n  }\n\n  el.innerHTML = `\n    <div class=\"insights-list\">\n      ${state.insights.map(insight => `\n        <div class=\"insight-card insight-${insight.importance}\">\n          <div class=\"insight-header\">\n            <span class=\"insight-type\">${insight.type}</span>\n            <span class=\"insight-importance\">${insight.importance}</span>\n          </div>\n          <h4 class=\"insight-title\">${escapeHtml(insight.title)}</h4>\n          <p class=\"insight-description\">${escapeHtml(insight.description)}</p>\n        </div>\n      `).join('')}\n    </div>\n  `;\n}\n\n/**\n * Get type color\n */\nfunction getTypeColor(type: string): string {\n  const colors: Record<string, string> = {\n    Person: '#6366f1',\n    Project: '#22c55e',\n    Document: '#8b5cf6',\n    Decision: '#06b6d4',\n    Risk: '#ef4444',\n    Question: '#f59e0b',\n    Fact: '#84cc16',\n    Meeting: '#ec4899',\n    Task: '#3b82f6',\n    Technology: '#f97316',\n    Organization: '#a855f7',\n    Client: '#14b8a6',\n  };\n  return colors[type] || '#6b7280';\n}\n\n/**\n * Get initials\n */\nfunction getInitials(name: string): string {\n  return name\n    .split(' ')\n    .map(part => part.charAt(0))\n    .join('')\n    .substring(0, 2)\n    .toUpperCase();\n}\n\n/**\n * Format number\n */\nfunction formatNumber(num: number): string {\n  if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\n  if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\n  return String(num);\n}\n\n/**\n * Escape HTML\n */\nfunction escapeHtml(text: string): string {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n\nexport default createGraphAnalytics;\n"],"names":["createGraphAnalytics","props","state","container","createElement","initAnalytics","btnDetectCommunities","on","toast","communities","graphService","renderCommunities","btnGenerateInsights","insights","renderInsights","loadAnalyticsData","stats","centrality","bridges","renderStats","renderEntityDistribution","renderKeyPeople","renderBridgeNodes","error","nodeCount","edgeCount","communityCount","peopleCount","formatNumber","people","el","types","a","b","total","sum","count","maxCount","type","percentage","width","getTypeColor","escapeHtml","colors","community","i","m","card","id","maxConnections","n","person","getInitials","item","bridge","insight","name","part","num","text","div"],"mappings":"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"}