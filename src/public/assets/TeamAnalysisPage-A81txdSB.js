import{bl as ee,j as e,b8 as me,b9 as de,ba as xe,N as F,K as ye,O as z,r as S,a1 as ge,C as je,Y as Ne,ab as ve,T as te,Z as pe,bm as we,bn as Se,bo as _e,bp as ke,bq as Ce,br as Ae,U as B,J as Te,bs as Y,g as X,af as M,an as ze,o as Me,a3 as Pe}from"./main-DPJZnN-g.js";import{A as $e}from"./arrow-left-zNkLqbte.js";import{R as ue}from"./rotate-cw-CScwxFr9.js";import{E as Re}from"./eye-Bsxv-RpG.js";import{S as Ie}from"./star-Dro_83QX.js";import{E as Ee}from"./ErrorState-CGhToI5I.js";import{P as he}from"./play-DFwYGH3G.js";import{C as fe}from"./chart-column-siH3WiuI.js";import{A as se}from"./arrow-right-BrYOnItf.js";import{T as re}from"./trending-up-BdSFupFA.js";import{C as Le}from"./circle-check-big-B1jdWUHQ.js";import{C as J}from"./chevron-up-CuIutfHG.js";import{C as K}from"./chevron-down-DvtyaUz8.js";function De({url:n,name:s,initials:a}){const[c,o]=S.useState(!1);return n&&!c?e.jsx("img",{src:n,alt:s,referrerPolicy:"no-referrer",onError:()=>o(!0),className:"w-14 h-14 rounded-full object-cover border-2 border-blue-600/30"}):e.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold text-white border-2 border-white/20",style:{background:`linear-gradient(135deg, ${W(s)}, ${ae(W(s),-30)})`},children:a})}function Ue({profile:n,open:s,onClose:a}){const c=ee();if(!n)return null;const o=n.contact??{},t=String(o.name||n.person_name||"Unknown"),i=String(o.role||o.organization||""),r=t.split(" ").map(p=>p[0]).join("").substring(0,2).toUpperCase(),l=o.avatar_url||o.photo_url,d=typeof l=="string"&&l.length>0&&l!=="undefined"&&l!=="null"?l:null,x=n.profile_data??{},u=String(n.confidence_level||"low"),h=String(n.contact_id||n.person_id||""),g=Number(n.total_speaking_time_seconds||0),N=n.limitations??[],_=n.last_analysis_at?new Date(String(n.last_analysis_at)).toLocaleString():"â€”",v=()=>{h&&c.mutate({personId:h,forceReanalysis:!0},{onSuccess:()=>z.success(`Re-analysis started for ${t}`),onError:()=>z.error("Failed to start re-analysis")})},m=p=>{if(!p)return"â€”";const j=Math.floor(p/60),f=p%60;return j>0?`${j}m ${f}s`:`${f}s`};return e.jsx(me,{open:s,onOpenChange:p=>!p&&a(),children:e.jsxs(de,{className:"max-w-3xl p-0 overflow-hidden",children:[e.jsxs(xe,{className:"sr-only",children:["Profile: ",t]}),e.jsxs("div",{className:"p-5",style:{background:"linear-gradient(to right, rgba(37,99,235,0.25), rgba(37,99,235,0.08))"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"text-slate-400 hover:text-slate-200 transition-colors",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsx(De,{url:d,name:t,initials:r}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:t}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[i&&e.jsx("span",{className:"text-xs text-slate-300",children:i}),e.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium capitalize ${u==="high"||u==="very_high"?"bg-green-500/20 text-green-400":u==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-white/10 text-slate-300"}`,children:[u.replace("_"," ")," confidence"]})]})]}),e.jsxs("button",{onClick:v,disabled:c.isPending,className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white text-xs font-medium hover:bg-blue-700 flex items-center gap-1.5 disabled:opacity-50 transition-colors",children:[c.isPending?e.jsx(F,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ue,{className:"w-3.5 h-3.5"}),"Re-analyze"]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(U,{label:"Influence",value:String(n.influence_score||0)}),e.jsx(U,{label:"Transcripts",value:String(n.transcript_count||0)}),e.jsx(U,{label:"Risk",value:String(n.risk_tolerance||"â€”")}),e.jsx(U,{label:"Speaking Time",value:m(g)}),e.jsx(U,{label:"Last Analysis",value:_})]})]}),e.jsxs("div",{className:"p-5 max-h-[60vh] overflow-y-auto space-y-4 bg-[var(--gm-surface-primary)]",style:{backgroundColor:"var(--gm-surface-primary)"},children:[n.communication_style&&e.jsxs("div",{className:"bg-blue-600/5 border border-blue-600/10 rounded-xl p-4",children:[e.jsx("h4",{className:"text-[10px] text-gm-interactive-primary font-semibold uppercase tracking-wider mb-1",children:"Communication Style"}),e.jsx("p",{className:"text-sm text-gm-text-primary",children:String(n.communication_style)})]}),n.dominant_motivation&&e.jsxs("div",{className:"bg-[var(--gm-status-success-bg)] border border-green-500/10 rounded-xl p-4",children:[e.jsx("h4",{className:"text-[10px] text-gm-status-success font-semibold uppercase tracking-wider mb-1",children:"Dominant Motivation"}),e.jsx("p",{className:"text-sm text-gm-text-primary",children:String(n.dominant_motivation)})]}),e.jsx(Fe,{data:x}),e.jsx(Be,{data:x}),e.jsx(We,{data:x}),e.jsx(Ge,{data:x}),e.jsx(Oe,{data:x}),e.jsx(qe,{data:x}),e.jsx(Ve,{data:x}),e.jsx(Ye,{data:x}),N.length>0&&e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:ye,title:"Limitations"}),e.jsx("ul",{className:"space-y-1",children:N.map((p,j)=>e.jsxs("li",{className:"text-xs text-gm-text-tertiary flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 mt-0.5",children:"â€¢"})," ",p]},j))})]}),Object.keys(x).length===0&&!n.communication_style&&e.jsxs("div",{className:"text-center py-8 text-gm-text-tertiary",children:[e.jsx(Re,{className:"w-10 h-10 mx-auto mb-3 text-gray-500"}),e.jsx("p",{className:"text-sm",children:"No detailed profile data available yet."}),e.jsx("p",{className:"text-xs mt-1",children:'Click "Re-analyze" to generate AI insights.'})]})]})]})})}function U({label:n,value:s}){return e.jsxs("div",{className:"backdrop-blur rounded-lg px-3 py-1.5 text-center",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:[e.jsx("p",{className:"text-sm font-bold text-white",children:s}),e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-wider",children:n})]})}function P({icon:n,title:s}){return e.jsxs("h4",{className:"flex items-center gap-2 text-sm font-semibold text-gm-text-primary mb-3",children:[e.jsx(n,{className:"w-4 h-4 text-gm-interactive-primary"})," ",s]})}function Fe({data:n}){const s=n.communication_identity;return s?e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:ge,title:"Communication Identity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.dominant_style&&e.jsx(Q,{label:"Style",value:String(s.dominant_style)}),s.intervention_rhythm&&e.jsx(Q,{label:"Rhythm",value:String(s.intervention_rhythm)}),s.textual_body_language&&e.jsx(Q,{label:"Textual Cues",value:String(s.textual_body_language)})]}),e.jsx(be,{evidence:s.evidence})]}):null}function Be({data:n}){const s=n.motivations_and_priorities;if(!s)return null;const a=s.values_most??[],c=s.avoids??[];return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:Ie,title:"Motivations & Priorities"}),a.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-[10px] text-gm-text-tertiary font-medium",children:"Values most:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:a.map((o,t)=>e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-success-bg text-gm-status-success",children:o},t))})]}),c.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-[10px] text-gm-text-tertiary font-medium",children:"Avoids:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:c.map((o,t)=>e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-danger-bg text-gm-status-danger",children:o},t))})]}),s.based_on&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary mt-1",children:["Based on: ",String(s.based_on)]}),s.confidence&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:["Confidence: ",String(s.confidence)]}),e.jsx(be,{evidence:s.evidence})]})}function We({data:n}){const s=n.behavior_under_pressure;return s?.length?e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:je,title:"Behavior Under Pressure"}),e.jsx("div",{className:"space-y-2",children:s.map((a,c)=>e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary",children:String(a.situation)}),e.jsx("p",{className:"text-xs text-gm-text-tertiary mt-0.5",children:String(a.observed_behavior)}),a.quote&&e.jsxs("p",{className:"text-xs italic text-gm-text-tertiary mt-1 border-l-2 border-blue-600/30 pl-2",children:['"',String(a.quote),'"']}),a.timestamp&&e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:String(a.timestamp)})]},c))})]}):null}function Ge({data:n}){const s=n.influence_tactics;return s?.length?e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:Ne,title:"Influence Tactics"}),e.jsx("div",{className:"space-y-2",children:s.map((a,c)=>e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary",children:String(a.objective)}),e.jsx("p",{className:"text-xs text-gm-text-tertiary mt-0.5",children:String(a.tactic)}),a.example&&e.jsx("p",{className:"text-xs italic text-gm-text-tertiary mt-1 border-l-2 border-blue-600/30 pl-2",children:String(a.example)}),a.timestamp&&e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:String(a.timestamp)})]},c))})]}):null}function Oe({data:n}){const s=n.vulnerabilities;if(!s)return null;const a=s.defense_triggers??[],c=s.blind_spots??[],o=s.discourse_action_inconsistencies??[],t=s.risk_patterns??[];return!a.length&&!c.length&&!o.length&&!t.length?null:e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:ve,title:"Vulnerabilities & Friction Points"}),o.length>0&&e.jsx(V,{label:"Discourse-Action Inconsistencies",color:"text-gm-status-danger",items:o,field:"description",evidenceField:"evidence"}),a.length>0&&e.jsx(V,{label:"Defense Triggers",color:"text-gm-status-danger",items:a,field:"trigger",evidenceField:"evidence"}),c.length>0&&e.jsx(V,{label:"Blind Spots",color:"text-gm-status-warning",items:c,field:"description",evidenceField:"evidence"}),t.length>0&&e.jsx(V,{label:"Risk Patterns",color:"text-gm-status-warning",items:t,field:"pattern",evidenceField:"evidence"})]})}function V({label:n,color:s,items:a,field:c,evidenceField:o}){return e.jsxs("div",{className:"mb-3 last:mb-0",children:[e.jsx("p",{className:`text-[10px] font-semibold uppercase tracking-wider mb-1.5 ${s}`,children:n}),e.jsx("div",{className:"space-y-1.5",children:a.map((t,i)=>e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-2.5",children:[e.jsx("p",{className:"text-xs text-gm-text-primary",children:String(t[c]||t.text||t)}),t[o]&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary mt-0.5 italic",children:String(t[o])})]},i))})]})}function qe({data:n}){const s=n.interaction_strategy;if(!s)return null;const a=s.framing_that_works??[],c=s.what_to_avoid??[],o=s.cooperation_triggers??[],t=s.ideal_format;return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:ge,title:"Recommended Interaction Strategy"}),t&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.channel&&e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-blue-600/10 text-gm-interactive-primary",children:["Channel: ",String(t.channel)]}),t.structure&&e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-blue-600/10 text-gm-interactive-primary",children:["Structure: ",String(t.structure)]}),t.timing&&e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-blue-600/10 text-gm-interactive-primary",children:["Timing: ",String(t.timing)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.length>0&&e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-gm-status-success font-semibold uppercase tracking-wider mb-1",children:"What Works"}),e.jsx("ul",{className:"space-y-0.5",children:a.map((i,r)=>e.jsxs("li",{className:"text-xs text-gm-text-primary",children:["+ ",i]},r))})]}),c.length>0&&e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-gm-status-danger font-semibold uppercase tracking-wider mb-1",children:"What to Avoid"}),e.jsx("ul",{className:"space-y-0.5",children:c.map((i,r)=>e.jsxs("li",{className:"text-xs text-gm-text-primary",children:["- ",i]},r))})]}),o.length>0&&e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-gm-interactive-primary font-semibold uppercase tracking-wider mb-1",children:"Cooperation Triggers"}),e.jsx("ul",{className:"space-y-0.5",children:o.map((i,r)=>e.jsxs("li",{className:"text-xs text-gm-text-primary",children:["â†’ ",i]},r))})]})]})]})}function Ve({data:n}){const s=n.early_warning_signs;return s?.length?e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:te,title:"Early Warning Signs"}),e.jsx("div",{className:"space-y-2",children:s.map((a,c)=>e.jsxs("div",{className:"bg-[var(--gm-status-warning-bg)] rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary",children:String(a.signal)}),e.jsxs("p",{className:"text-xs text-gm-text-tertiary mt-0.5",children:["Indicates: ",String(a.indicates)]}),a.comparison_evidence&&e.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:["Evidence: ",String(a.comparison_evidence)]})]},c))})]}):null}function Ye({data:n}){const s=n.power_analysis;return s?.length?e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-xl p-4",children:[e.jsx(P,{icon:pe,title:"Power & Dependency Analysis"}),e.jsx("div",{className:"space-y-2",children:s.map((a,c)=>e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary",children:String(a.factor)}),e.jsx("p",{className:"text-xs text-gm-text-tertiary mt-0.5",children:String(a.assessment)}),a.strategic_implication&&e.jsxs("p",{className:"text-xs text-gm-interactive-primary mt-1",children:["â†’ ",String(a.strategic_implication)]})]},c))})]}):null}function Q({label:n,value:s}){return e.jsxs("div",{className:"bg-gm-surface-secondary rounded-lg p-3",children:[e.jsx("span",{className:"text-[10px] text-gm-text-tertiary uppercase tracking-wider",children:n}),e.jsx("p",{className:"text-xs text-gm-text-primary mt-0.5",children:s})]})}function be({evidence:n}){return n?.length?e.jsxs("div",{className:"mt-3 space-y-1.5",children:[e.jsx("p",{className:"text-[10px] text-gm-text-tertiary font-medium uppercase tracking-wider",children:"Evidence"}),n.slice(0,5).map((s,a)=>e.jsxs("div",{className:"text-xs bg-[var(--gm-surface-hover)] rounded p-2",children:[s.quote&&e.jsxs("p",{className:"italic text-gm-text-tertiary border-l-2 border-blue-600/30 pl-2",children:['"',String(s.quote),'"']}),s.observation&&e.jsx("p",{className:"text-gm-text-tertiary mt-0.5",children:String(s.observation)}),s.timestamp&&e.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:String(s.timestamp)})]},a))]}):null}function W(n){const s=["#9b59b6","#3498db","#e74c3c","#27ae60","#f59e0b","#1abc9c","#e67e22","#34495e"];let a=0;for(let c=0;c<n.length;c++)a=n.charCodeAt(c)+((a<<5)-a);return s[Math.abs(a)%s.length]}function ae(n,s){const a=r=>Math.min(255,Math.max(0,r)),c=n.replace("#",""),o=a(parseInt(c.substring(0,2),16)+s),t=a(parseInt(c.substring(2,4),16)+s),i=a(parseInt(c.substring(4,6),16)+s);return`#${o.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}function G({url:n,name:s,size:a="md",className:c=""}){const[o,t]=S.useState(!1),i=X(s),r=a==="sm"?"w-5 h-5":a==="lg"?"w-14 h-14":"w-8 h-8",l=a==="sm"?"text-[8px]":a==="lg"?"text-lg":"text-[10px]",d=a==="lg"?"border-2 border-white/20":"";return n&&!o?e.jsx("img",{src:n,alt:s,referrerPolicy:"no-referrer",onError:()=>t(!0),className:`${r} rounded-full object-cover flex-shrink-0 ${c}`}):e.jsx("div",{className:`${r} rounded-full flex items-center justify-center ${l} font-bold text-white flex-shrink-0 ${d} ${c}`,style:{background:`linear-gradient(135deg, ${W(s)}, ${ae(W(s),-30)})`},children:i})}function Xe(n){const s={};return n.forEach((a,c)=>{const o=a.contact??{},t=String(o.name||a.person_name||"Unknown"),i=o.avatar_url||o.photo_url,r={name:t,initials:X(t),role:String(o.role||o.organization||""),avatarUrl:i?String(i):void 0};s[`person_${c+1}`]=r,s[`person ${c+1}`]=r,s[t.toLowerCase()]=r;const l=t.split(" ")[0];l&&(s[l.toLowerCase()]=r);const d=String(a.contact_id||a.person_id||"");d&&(s[d]=r)}),a=>{if(!a)return{name:"Unknown",initials:"?",role:""};const c=a.toLowerCase().trim();return s[c]||s[a]||{name:a.replace(/_/g," "),initials:X(a),role:""}}}function E(n,s){return n.replace(/Person_(\d+)/gi,a=>s(a).name)}function A({name:n,resolve:s}){const a=s(n);return e.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-gm-surface-primary border border-gm-border-primary rounded-full px-2.5 py-1",children:[e.jsx(G,{url:M(a.avatarUrl)?a.avatarUrl:null,name:a.name,size:"sm"}),e.jsx("span",{className:"text-[10px] font-medium text-gm-text-primary whitespace-nowrap",children:a.name})]})}const ie={direct:{color:"#3b82f6",bg:"#eff6ff",icon:"â†’"},technical:{color:"#8b5cf6",bg:"#f5f3ff",icon:"âš™"},political:{color:"#f59e0b",bg:"#fffbeb",icon:"â™Ÿ"},social:{color:"#10b981",bg:"#ecfdf5",icon:"ðŸ¤"},resource:{color:"#ef4444",bg:"#fef2f2",icon:"ðŸ“Š"}},ce={natural:{color:"#10b981",bg:"#ecfdf5",icon:"ðŸŒ±"},circumstantial:{color:"#6366f1",bg:"#eef2ff",icon:"ðŸ”—"},strategic:{color:"#f59e0b",bg:"#fffbeb",icon:"â™Ÿ"},historical:{color:"#8b5cf6",bg:"#f5f3ff",icon:"ðŸ“œ"}},le={technical:{color:"#8b5cf6",bg:"#f5f3ff",icon:"âš™"},resource:{color:"#f59e0b",bg:"#fffbeb",icon:"ðŸ“Š"},political:{color:"#ef4444",bg:"#fef2f2",icon:"â™Ÿ"},communication:{color:"#3b82f6",bg:"#eff6ff",icon:"ðŸ’¬"},values:{color:"#10b981",bg:"#ecfdf5",icon:"âš–"}},oe={technical:{color:"#8b5cf6",bg:"#f5f3ff",icon:"âš™"},formal:{color:"#3b82f6",bg:"#eff6ff",icon:"ðŸ‘”"},informal:{color:"#f59e0b",bg:"#fffbeb",icon:"ðŸ’¬"},social:{color:"#10b981",bg:"#ecfdf5",icon:"ðŸ¤"},resource:{color:"#ef4444",bg:"#fef2f2",icon:"ðŸ“Š"}};function jt(){const[n,s]=S.useState("profiles"),[a,c]=S.useState(null),[o,t]=S.useState(!1),i=we(),r=Se(),l=_e(),d=ke(),x=Ce(),u=Ae(),h=S.useMemo(()=>i.data?.profiles??[],[i.data]),g=S.useMemo(()=>Xe(h),[h]);if(i.error)return e.jsx("div",{className:"p-6",children:e.jsx(Ee,{message:"Failed to load team profiles.",onRetry:()=>i.refetch()})});const N=[{key:"profiles",label:"Profiles",icon:B},{key:"team",label:"Team Dynamics",icon:fe},{key:"relationships",label:"Relationships",icon:se},{key:"graph",label:"Network Graph",icon:Y}],_=()=>{x.mutate({forceReanalysis:!0},{onSuccess:()=>z.success("Team analysis started"),onError:()=>z.error("Failed to start team analysis")})},v=()=>{u.mutate(void 0,{onSuccess:()=>{z.success("Graph synced"),d.refetch()},onError:()=>z.error("Failed to sync graph")})};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gm-text-primary",children:"Team Analysis"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>t(!0),className:"px-3 py-1.5 rounded-lg bg-gm-interactive-secondary text-gm-text-primary text-xs font-medium hover:bg-gm-interactive-secondary-hover flex items-center gap-1.5 transition-colors",children:[e.jsx(B,{className:"w-3.5 h-3.5"})," Analyze Members"]}),e.jsxs("button",{onClick:_,disabled:x.isPending,className:"px-3 py-1.5 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover flex items-center gap-1.5 disabled:opacity-50 transition-colors",children:[x.isPending?e.jsx(F,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(he,{className:"w-3.5 h-3.5"}),"Run Team Analysis"]}),e.jsxs("button",{onClick:v,disabled:u.isPending,className:"px-3 py-1.5 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs font-medium hover:bg-gm-surface-hover flex items-center gap-1.5 disabled:opacity-50 transition-colors border border-gm-border-primary",children:[u.isPending?e.jsx(F,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Te,{className:"w-3.5 h-3.5"}),"Sync Graph"]})]})]}),e.jsx("div",{className:"flex gap-1 bg-gm-surface-secondary rounded-xl p-1",children:N.map(m=>{const p=m.icon;return e.jsxs("button",{onClick:()=>s(m.key),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n===m.key?"bg-gm-surface-primary text-gm-text-primary shadow-sm":"text-gm-text-tertiary hover:text-gm-text-primary"}`,children:[e.jsx(p,{className:"w-3.5 h-3.5"})," ",m.label]},m.key)})}),n==="profiles"&&e.jsx(Je,{profiles:h,isLoading:i.isLoading,onSelectProfile:c}),n==="team"&&e.jsx(Ke,{data:r.data?.analysis??r.data,isLoading:r.isLoading,profiles:h,resolveName:g}),n==="relationships"&&e.jsx(rt,{data:l.data,isLoading:l.isLoading,profiles:h,resolveName:g}),n==="graph"&&e.jsx(at,{data:d.data,isLoading:d.isLoading,profiles:h,resolveName:g}),e.jsx(Ue,{profile:a,open:!!a,onClose:()=>c(null)}),e.jsx(it,{open:o,onClose:()=>t(!1),existingProfileIds:new Set(h.map(m=>String(m.contact_id||m.person_id||"")))})]})}function Je({profiles:n,isLoading:s,onSelectProfile:a}){const c=ee();if(s)return e.jsx(O,{});if(n.length===0)return e.jsx(Z,{icon:B,message:"No team profiles available. Click 'Analyze Members' to generate AI behavioral profiles."});const o=[...n].sort((i,r)=>(Number(r.influence_score)||0)-(Number(i.influence_score)||0)),t=(i,r)=>{i.stopPropagation();const l=String(r.contact_id||r.person_id||"");if(!l)return;const d=r.contact??{},x=String(d.name||r.person_name||"Unknown");c.mutate({personId:l,forceReanalysis:!0},{onSuccess:()=>z.success(`Re-analysis started for ${x}`),onError:()=>z.error("Failed to start re-analysis")})};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((i,r)=>{const l=i.contact??{},d=String(l.name||i.person_name||"Unknown"),x=String(l.role||l.organization||""),u=M(l.avatar_url)?l.avatar_url:M(l.photo_url)?l.photo_url:null,h=String(i.confidence_level||"low"),g=String(i.communication_style||""),N=Number(i.total_speaking_time_seconds||0),_=N?`${Math.floor(N/60)}m`:"";return e.jsxs("div",{onClick:()=>a(i),className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4 hover:border-blue-600/30 hover:-translate-y-0.5 transition-all cursor-pointer group shadow-sm hover:shadow-md",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(G,{url:u,name:d,size:"lg",className:"border-2 border-gm-surface-secondary"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gm-text-primary truncate group-hover:text-gm-interactive-primary transition-colors",children:d}),x&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary mt-0.5",children:x}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium capitalize ${h==="high"||h==="very_high"?"bg-gm-status-success-bg text-gm-status-success":h==="medium"?"bg-gm-status-warning-bg text-gm-status-warning":"bg-gm-surface-secondary text-gm-text-tertiary"}`,children:h.replace("_"," ")})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-3 border-t border-[var(--gm-border-primary)]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base font-bold text-gm-text-primary",children:String(i.influence_score||0)}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary uppercase tracking-wider",children:"Influence"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base font-bold text-gm-text-primary",children:String(i.transcript_count||0)}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary uppercase tracking-wider",children:"Transcripts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base font-bold text-gm-text-primary capitalize",children:String(i.risk_tolerance||"â€”")}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary uppercase tracking-wider",children:"Risk"})]})]}),g&&e.jsxs("div",{className:"mt-2 bg-gm-surface-secondary rounded-lg p-2.5",children:[e.jsx("p",{className:"text-[9px] text-gm-text-tertiary uppercase tracking-wider mb-0.5",children:"Communication Style"}),e.jsx("p",{className:"text-xs text-gm-text-primary line-clamp-2",children:g})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[_&&e.jsxs("span",{className:"text-[10px] text-gm-text-tertiary",children:[_," speaking time"]}),e.jsxs("button",{onClick:v=>t(v,i),disabled:c.isPending,className:"ml-auto px-2.5 py-1 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-[10px] font-medium hover:bg-gm-surface-hover flex items-center gap-1 transition-colors border border-gm-border-primary disabled:opacity-50",children:[e.jsx(ue,{className:"w-3 h-3"})," Re-analyze"]})]})]},r)})})}function Ke({data:n,isLoading:s,profiles:a,resolveName:c}){if(s)return e.jsx(O,{});const o=n;if(!o)return e.jsx(Z,{icon:fe,message:"No team dynamics data. Click 'Run Team Analysis' to generate insights."});const t=Number(o.cohesion_score??0),i=String(o.tension_level||"unknown"),r=Number(o.team_size??a.length??0),l=o.analysis_data??{},d=String(l.dominant_communication_pattern||o.summary||""),x=o.influence_map??[],u=o.alliances??[],h=o.tensions??[],g=l.power_centers??[],N=l.risk_factors??[],_=l.recommendations??[],v=l.communication_flow??{},m=o.dynamics??[],p=String(l.analysis_date||o.last_analysis_at||""),j=t>=70?"#22c55e":t>=40?"#f59e0b":"#ef4444";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-5 flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-16 h-16",children:[e.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full -rotate-90",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--gm-border-primary)",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:j,strokeWidth:"3",strokeDasharray:`${t}, 100`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-gm-text-primary",children:t})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gm-text-primary",children:"Team Cohesion"}),e.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium capitalize ${i==="low"?"bg-gm-status-success-bg text-gm-status-success":i==="medium"?"bg-gm-status-warning-bg text-gm-status-warning":"bg-gm-status-danger-bg text-gm-status-danger"}`,children:[i," tension"]})]})]}),e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-5 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gm-text-primary",children:r}),e.jsx("p",{className:"text-xs text-gm-text-tertiary",children:"Team Members"})]}),e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-5 flex items-center gap-3 justify-center",children:[e.jsx(ze,{className:"w-5 h-5 text-gm-text-tertiary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gm-text-tertiary",children:"Analysis Date"}),e.jsx("p",{className:"text-sm font-semibold text-gm-text-primary",children:p?new Date(p).toLocaleDateString():"N/A"})]})]})]}),d&&e.jsxs("div",{className:"bg-blue-600/5 border border-blue-600/10 rounded-xl p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-gm-interactive-primary uppercase tracking-wider mb-2",children:"Executive Summary"}),e.jsx("p",{className:"text-sm text-gm-text-primary leading-relaxed",children:E(d,c)})]}),a.length>0&&e.jsx(Ze,{profiles:a}),(v.bottlenecks||v.information_brokers||v.central_nodes||v.isolated_members)&&e.jsx(He,{flow:v,resolveName:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[x.length>0&&e.jsx(Qe,{items:x,resolveName:c}),u.length>0&&e.jsx(et,{items:u,resolveName:c}),h.length>0&&e.jsx(tt,{items:h,resolveName:c}),g.length>0&&e.jsx(st,{items:g,resolveName:c})]}),m.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map((f,b)=>e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-gm-interactive-primary"}),e.jsx("span",{className:"text-sm font-medium text-gm-text-primary",children:String(f.aspect||f.name||`Dynamic #${b+1}`)})]}),e.jsx("p",{className:"text-xs text-gm-text-tertiary",children:E(String(f.description||f.summary||""),c)}),f.score!==void 0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gm-surface-secondary rounded-full",children:e.jsx("div",{className:"h-1.5 bg-gm-interactive-primary rounded-full",style:{width:`${Math.min(100,Number(f.score))}%`}})}),e.jsxs("span",{className:"text-[10px] font-mono text-gm-text-tertiary",children:[String(f.score),"%"]})]})]},b))}),N.length>0&&e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-status-danger uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"})," Risk Factors",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-danger-bg text-gm-status-danger ml-auto",children:[N.length," identified"]})]}),e.jsx("div",{className:"space-y-2",children:N.map((f,b)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[10px] text-gm-status-danger font-bold mt-0.5 flex-shrink-0",children:b+1}),e.jsx("p",{className:"text-xs text-gm-text-primary",children:E(f,c)})]},b))})]}),_.length>0&&e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-status-success uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"})," Recommendations",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-success-bg text-gm-status-success ml-auto",children:[_.length," actions"]})]}),e.jsx("div",{className:"space-y-2",children:_.map((f,b)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"text-[10px] text-gm-status-success font-bold mt-0.5 flex-shrink-0",children:["Action ",b+1]}),e.jsx("p",{className:"text-xs text-gm-text-primary",children:E(f,c)})]},b))})]})]})}function Ze({profiles:n}){const s=[...n].filter(o=>o.influence_score!==void 0).sort((o,t)=>(Number(t.influence_score)||0)-(Number(o.influence_score)||0));if(s.length===0)return null;const a=Math.max(...s.map(o=>Number(o.influence_score)||0),100),c=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"];return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 text-gm-interactive-primary"})," Influence Scoreboard",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-warning-bg text-gm-status-warning ml-auto",children:[s.length," ranked"]})]}),e.jsx("div",{className:"space-y-2",children:s.map((o,t)=>{const i=o.contact??{},r=String(i.name||o.person_name||"Unknown"),l=String(i.role||i.organization||""),d=M(i.avatar_url)?i.avatar_url:M(i.photo_url)?i.photo_url:null,x=Number(o.influence_score)||0,u=x/a*100,h=String(o.risk_tolerance||"medium"),N=String(o.communication_style||"").split(";")[0]?.substring(0,50)||"";return e.jsxs("div",{className:`flex items-center gap-3 py-1.5 ${t<3?"bg-[var(--gm-surface-hover)] rounded-lg px-2":""}`,children:[e.jsx("span",{className:"w-6 text-center text-sm",children:c[t]||String(t+1)}),e.jsx(G,{url:d,name:r,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary truncate",children:r}),l&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary truncate",children:l}),N&&e.jsx("p",{className:"text-[9px] text-gray-400 truncate italic",children:N})]}),e.jsxs("div",{className:"w-32 flex items-center gap-1.5",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gm-surface-secondary rounded-full",children:e.jsx("div",{className:"h-1.5 bg-gm-interactive-primary rounded-full transition-all",style:{width:`${u}%`}})}),e.jsx("span",{className:"text-[10px] font-mono text-gm-text-tertiary w-6 text-right",children:x})]}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full capitalize ${h==="low"?"bg-gm-status-success-bg text-gm-status-success":h==="high"?"bg-gm-status-danger-bg text-gm-status-danger":"bg-gm-status-warning-bg text-gm-status-warning"}`,children:h})]},t)})})]})}function He({flow:n,resolveName:s}){const a=n.bottlenecks??[],c=n.information_brokers??[],o=n.central_nodes??[],t=n.isolated_members??[];return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3",children:"Communication Flow"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.length>0&&e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx("span",{children:"ðŸš§"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-gm-status-danger",children:"Bottlenecks"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.map((i,r)=>e.jsx(A,{name:i,resolve:s},r))})]}),c.length>0&&e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx("span",{children:"ðŸ”—"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-gm-interactive-primary",children:"Info Brokers"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.map((i,r)=>e.jsx(A,{name:i,resolve:s},r))}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary mt-2",children:"Key connectors who bridge information across the team"})]}),o.length>0&&e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx("span",{children:"â­"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-gm-status-success",children:"Central Nodes"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map((i,r)=>e.jsx(A,{name:i,resolve:s},r))}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary mt-2",children:"Most connected team members"})]}),t.length>0&&e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx("span",{children:"ðŸï¸"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-gm-status-warning",children:"Isolated"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.map((i,r)=>e.jsx(A,{name:i,resolve:s},r))}),e.jsx("p",{className:"text-[9px] text-gm-text-tertiary mt-2",children:"Members with fewer connections â€” may need inclusion"})]})]})]})}function Qe({items:n,resolveName:s}){const[a,c]=S.useState(new Set),o=t=>c(i=>{const r=new Set(i);return r.has(t)?r.delete(t):r.add(t),r});return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 text-gm-interactive-primary"})," Influence Map",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary ml-auto",children:[n.length," connections"]})]}),e.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:n.slice(0,10).map((t,i)=>{const r=String(t.influence_type||"direct").toLowerCase(),l=ie[r]||ie.direct,d=Math.round((Number(t.strength)||.5)*(Number(t.strength)<=1?100:1)),x=!!t.evidence&&String(t.evidence).length>10;return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(A,{name:String(t.from_person||t.from||"?"),resolve:s}),e.jsx(se,{className:"w-3.5 h-3.5 text-gm-text-tertiary flex-shrink-0"}),e.jsx(A,{name:String(t.to_person||t.to||"?"),resolve:s}),e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded capitalize ml-auto",style:{background:l.bg,color:l.color},children:[l.icon," ",r]}),e.jsxs("div",{className:"flex items-center gap-1 w-20",children:[e.jsx("div",{className:"flex-1 h-1 rounded-full bg-gm-surface-secondary",children:e.jsx("div",{className:"h-1 rounded-full transition-all",style:{width:`${d}%`,background:l.color}})}),e.jsxs("span",{className:"text-[10px] font-mono text-gm-text-tertiary",children:[d,"%"]})]}),x&&e.jsx("button",{onClick:()=>o(i),className:"text-gm-text-tertiary hover:text-gm-text-primary",children:a.has(i)?e.jsx(J,{className:"w-3.5 h-3.5"}):e.jsx(K,{className:"w-3.5 h-3.5"})})]}),a.has(i)&&x&&e.jsx("div",{className:"mt-2 pt-2 border-t border-[var(--gm-border-primary)]",children:e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Evidence:"})," ",E(String(t.evidence),s)]})})]},i)})})]})}function et({items:n,resolveName:s}){const[a,c]=S.useState(new Set),o=t=>c(i=>{const r=new Set(i);return r.has(t)?r.delete(t):r.add(t),r});return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-gm-interactive-primary"})," Alliances",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary ml-auto",children:[n.length," groups"]})]}),e.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:n.slice(0,10).map((t,i)=>{let r=t.members;typeof r=="string"&&(r=r.split(/[\s,]+/).filter(Boolean)),Array.isArray(r)||(r=[]);const l=String(t.alliance_type||"natural").toLowerCase(),d=ce[l]||ce.natural,x=Math.round((Number(t.strength)||.5)*(Number(t.strength)<=1?100:1)),u=t.evidence&&String(t.evidence).length>10||Array.isArray(t.shared_values)&&t.shared_values.length>0;return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:r.map((h,g)=>e.jsxs("span",{className:"contents",children:[g>0&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:"&"}),e.jsx(A,{name:h,resolve:s})]},g))}),e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded capitalize ml-auto",style:{background:d.bg,color:d.color},children:[d.icon," ",l]}),e.jsxs("div",{className:"flex items-center gap-1 w-20",children:[e.jsx("div",{className:"flex-1 h-1 rounded-full bg-gm-surface-secondary",children:e.jsx("div",{className:"h-1 rounded-full transition-all",style:{width:`${x}%`,background:d.color}})}),e.jsxs("span",{className:"text-[10px] font-mono text-gm-text-tertiary",children:[x,"%"]})]}),u&&e.jsx("button",{onClick:()=>o(i),className:"text-gm-text-tertiary hover:text-gm-text-primary",children:a.has(i)?e.jsx(J,{className:"w-3.5 h-3.5"}):e.jsx(K,{className:"w-3.5 h-3.5"})})]}),a.has(i)&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-[var(--gm-border-primary)] space-y-1",children:[Array.isArray(t.shared_values)&&t.shared_values.length>0&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Shared Values:"})," ",t.shared_values.join(", ")]}),t.evidence&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Evidence:"})," ",E(String(t.evidence),s)]})]})]},i)})})]})}function tt({items:n,resolveName:s}){const[a,c]=S.useState(new Set),o=t=>c(i=>{const r=new Set(i);return r.has(t)?r.delete(t):r.add(t),r});return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-gm-status-danger"})," Tensions",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-status-danger-bg text-gm-status-danger ml-auto",children:[n.length," identified"]})]}),e.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:n.slice(0,10).map((t,i)=>{let r=t.between;typeof r=="string"&&(r=r.split(/[\s,]+/).filter(Boolean)),Array.isArray(r)||(r=[]);const l=String(t.level||"low").toLowerCase(),d=String(t.tension_type||"communication").toLowerCase(),x=le[d]||le.communication,u=t.evidence&&String(t.evidence).length>10||Array.isArray(t.triggers)&&t.triggers.length>0;return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:r.slice(0,2).map((h,g)=>e.jsxs("span",{className:"contents",children:[g>0&&e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:"â†”"}),e.jsx(A,{name:h,resolve:s})]},g))}),e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded capitalize ml-auto",style:{background:x.bg,color:x.color},children:[x.icon," ",d]}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full capitalize ${l==="high"?"bg-gm-status-danger-bg text-gm-status-danger":l==="medium"?"bg-gm-status-warning-bg text-gm-status-warning":"bg-gm-status-success-bg text-gm-status-success"}`,children:l}),u&&e.jsx("button",{onClick:()=>o(i),className:"text-gm-text-tertiary hover:text-gm-text-primary",children:a.has(i)?e.jsx(J,{className:"w-3.5 h-3.5"}):e.jsx(K,{className:"w-3.5 h-3.5"})})]}),a.has(i)&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-[var(--gm-border-primary)] space-y-1",children:[Array.isArray(t.triggers)&&t.triggers.length>0&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Triggers:"})," ",t.triggers.join(", ")]}),t.evidence&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Evidence:"})," ",E(String(t.evidence),s)]})]})]},i)})})]})}function st({items:n,resolveName:s}){const[a,c]=S.useState(new Set),o=t=>c(i=>{const r=new Set(i);return r.has(t)?r.delete(t):r.add(t),r});return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-gm-interactive-primary"})," Power Centers",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary ml-auto",children:[n.length," key players"]})]}),e.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:n.slice(0,10).map((t,i)=>{const r=String(t.power_type||"informal").toLowerCase(),l=oe[r]||oe.informal,d=Math.round(Number(t.influence_reach??50)),x=Array.isArray(t.dependencies)&&t.dependencies.length>0;return e.jsxs("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(A,{name:String(t.person||"?"),resolve:s}),e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded capitalize ml-auto",style:{background:l.bg,color:l.color},children:[l.icon," ",r]}),e.jsxs("div",{className:"flex items-center gap-1 w-20",children:[e.jsx("div",{className:"flex-1 h-1 rounded-full bg-gm-surface-secondary",children:e.jsx("div",{className:"h-1 rounded-full transition-all",style:{width:`${d}%`,background:l.color}})}),e.jsxs("span",{className:"text-[10px] font-mono text-gm-text-tertiary",children:[d,"%"]})]}),x&&e.jsx("button",{onClick:()=>o(i),className:"text-gm-text-tertiary hover:text-gm-text-primary",children:a.has(i)?e.jsx(J,{className:"w-3.5 h-3.5"}):e.jsx(K,{className:"w-3.5 h-3.5"})})]}),a.has(i)&&x&&e.jsx("div",{className:"mt-2 pt-2 border-t border-[var(--gm-border-primary)]",children:e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[e.jsx("strong",{children:"Power Sources:"})," ",t.dependencies.join(", ")]})})]},i)})})]})}function rt({data:n,isLoading:s,profiles:a,resolveName:c}){if(s)return e.jsx(O,{});const o=n?.relationships??[];if(o.length===0)return e.jsx(Z,{icon:Y,message:"No relationship data. Process documents to discover team relationships."});const t={influences:"#3b82f6",aligned_with:"#22c55e",tension_with:"#ef4444",collaborates:"#8b5cf6"},i=(r,l)=>{const d=r[`${l}_contact`];if(d&&typeof d=="object"&&d.name)return String(d.name);const x=r[`${l}_person`];if(x&&typeof x=="object"&&x.name)return String(x.name);const u=r[l]||r[`${l}_person`]||r[`${l}_contact`];if(u&&typeof u=="string")return u;const h=r[`${l}_contact_id`]||r[`${l}_person_id`];if(h){const g=a.find(N=>String(N.contact_id||N.person_id)===String(h));if(g){const N=g.contact??{};return String(N.name||g.person_name||h)}}return"?"};return e.jsx("div",{className:"space-y-2",children:o.map((r,l)=>{const d=String(r.type||r.relationship_type||r.label||"related"),x=t[d]||"#6b7280",u=i(r,"from"),h=i(r,"to"),g=r.evidence,N=Number(r.evidence_count||(Array.isArray(g)?g.length:0));return e.jsxs("div",{className:"bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 flex-wrap",children:[e.jsx(A,{name:u,resolve:c}),e.jsx(se,{className:"w-4 h-4 flex-shrink-0",style:{color:x}}),e.jsx(A,{name:h,resolve:c})]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full capitalize flex-shrink-0",style:{background:x+"15",color:x},children:d.replace(/_/g," ")}),r.strength!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5 w-24",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gm-surface-secondary rounded-full",children:e.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.round(Number(r.strength)*(Number(r.strength)<=1?100:1))}%`,background:x}})}),e.jsxs("span",{className:"text-[10px] font-mono text-gm-text-tertiary",children:[Math.round(Number(r.strength)*(Number(r.strength)<=1?100:1)),"%"]})]}),r.confidence&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary capitalize",children:String(r.confidence)})]}),(N>0||typeof g=="string"&&g.length>0)&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-[var(--gm-border-primary)]",children:[typeof g=="string"&&g.length>0&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary",children:g}),Array.isArray(g)&&g.length>0&&e.jsxs("div",{className:"space-y-1",children:[g.slice(0,3).map((_,v)=>e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[_.quote&&e.jsxs("span",{className:"italic",children:['"',String(_.quote),'" ']}),_.observation&&e.jsx("span",{children:String(_.observation)}),_.timestamp&&e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",String(_.timestamp),")"]})]},v)),g.length>3&&e.jsxs("p",{className:"text-[9px] text-gray-500",children:["+",g.length-3," more evidence items"]})]}),N>0&&!g&&e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary",children:[N," evidence items"]})]})]},l)})})}function at({data:n,isLoading:s,profiles:a,resolveName:c}){const o=S.useRef(null),[t,i]=S.useState(null),r=n,l=r?.nodes??[],d=r?.edges??[],x=S.useMemo(()=>{const v={};return a.forEach(m=>{const p=String(m.contact_id||m.person_id||"");p&&(v[p]=m)}),v},[a]),u=S.useRef([]),h={influences:{color:"#3b82f6",dash:!1},aligned_with:{color:"#22c55e",dash:!1},tension_with:{color:"#ef4444",dash:!0}},g=S.useCallback(()=>{if(!o.current||l.length===0)return;const v=o.current,m=v.getContext("2d");if(!m)return;const p=v.width=v.parentElement?.clientWidth??800,j=v.height=500,f=new Map;l.forEach((y,w)=>f.set(String(y.id),w));const b=l.map((y,w)=>{const k=y.properties??{},$=.32+Number(k.influenceScore??y.influence_score??y.size??50)/500;return{x:p/2+p*$*Math.cos(2*Math.PI*w/l.length),y:j/2+j*$*Math.sin(2*Math.PI*w/l.length)}});u.current=b,m.clearRect(0,0,p,j),d.forEach(y=>{const w=f.get(String(y.from??y.source)),k=f.get(String(y.to??y.target));if(w===void 0||k===void 0)return;const C=String(y.type||y.label||y.relationship_type||""),$=h[C]||{color:"#94a3b8",dash:!1};if(m.beginPath(),m.setLineDash($.dash?[5,5]:[]),m.moveTo(b[w].x,b[w].y),m.lineTo(b[k].x,b[k].y),m.strokeStyle=$.color+"80",m.lineWidth=Math.max(1,Number(y.strength??y.value??.5)*4),m.stroke(),m.setLineDash([]),C==="influences"){const ne=b[k].x-b[w].x,R=b[k].y-b[w].y,T=Math.atan2(R,ne),I=8,L=l[k].properties??{},q=22+Number(L.influenceScore??l[k].influence_score??50)/10,D=b[k].x-Math.cos(T)*q,H=b[k].y-Math.sin(T)*q;m.beginPath(),m.moveTo(D,H),m.lineTo(D-I*Math.cos(T-Math.PI/6),H-I*Math.sin(T-Math.PI/6)),m.lineTo(D-I*Math.cos(T+Math.PI/6),H-I*Math.sin(T+Math.PI/6)),m.closePath(),m.fillStyle=$.color,m.fill()}}),l.forEach((y,w)=>{const{x:k,y:C}=b[w],$=y.properties??{},R=20+Number($.influenceScore??y.influence_score??y.size??50)/10,T=String(y.label||y.name||"?"),I=W(T);m.shadowColor="rgba(0,0,0,0.15)",m.shadowBlur=8,m.shadowOffsetX=2,m.shadowOffsetY=2;const L=m.createRadialGradient(k-R*.3,C-R*.3,0,k,C,R);L.addColorStop(0,I),L.addColorStop(1,ae(I,-40)),m.beginPath(),m.arc(k,C,R,0,2*Math.PI),m.fillStyle=L,m.fill(),m.shadowColor="transparent",m.strokeStyle=t&&String(t.id)===String(y.id)?"#f59e0b":"rgba(255,255,255,0.6)",m.lineWidth=t&&String(t.id)===String(y.id)?3:2,m.stroke();const q=X(T);m.fillStyle="#fff",m.font=`bold ${Math.max(11,R*.55)}px Inter, system-ui, sans-serif`,m.textAlign="center",m.textBaseline="middle",m.fillText(q,k,C);const D=getComputedStyle(document.documentElement).getPropertyValue("--gm-text-primary").trim()||"#0f172a";m.fillStyle=D,m.font="11px Inter, system-ui, sans-serif",m.fillText(T,k,C+R+14)})},[l,d,t]);S.useEffect(()=>{g()},[g]);const N=S.useCallback(v=>{if(!o.current||l.length===0)return;const m=o.current.getBoundingClientRect(),p=v.clientX-m.left,j=v.clientY-m.top;for(let f=0;f<l.length;f++){const b=u.current[f];if(!b)continue;const y=l[f].properties??{},w=20+Number(y.influenceScore??l[f].influence_score??l[f].size??50)/10,k=p-b.x,C=j-b.y;if(k*k+C*C<=w*w){i(l[f]);return}}i(null)},[l]);if(s)return e.jsx(O,{});if(l.length===0)return e.jsx(Z,{icon:Y,message:"No network data. Analyze profiles and sync graph to build the network."});const _=t?x[String(t.id)]:null;return e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-xs font-semibold text-gm-text-primary uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-gm-interactive-primary"})," Team Network",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-gm-surface-secondary text-gm-text-tertiary",children:[l.length," nodes, ",d.length," edges"]})]})}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-6 h-0.5 bg-[#3b82f6] rounded"}),e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:"Influences"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-6 h-0.5 bg-[#22c55e] rounded"}),e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:"Alliance"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-6 h-0.5 border-t-2 border-dashed border-[#ef4444]"}),e.jsx("span",{className:"text-[10px] text-gm-text-tertiary",children:"Tension"})]})]}),e.jsx("div",{className:"bg-[var(--gm-surface-hover)] rounded-lg overflow-hidden cursor-pointer",children:e.jsx("canvas",{ref:o,className:"w-full",style:{height:500},onClick:N})})]}),e.jsx("div",{className:"w-64 bg-gm-surface-primary border border-gm-border-primary rounded-xl p-4 flex-shrink-0",children:t?e.jsx(nt,{node:t,profile:_,resolveName:c}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gm-text-tertiary",children:[e.jsx(B,{className:"w-8 h-8 mb-2 text-gray-500"}),e.jsx("p",{className:"text-xs text-center",children:"Click on a person to see details"})]})})]})}function nt({node:n,profile:s,resolveName:a}){const c=n.properties??{},o=String(n.label||n.name||"Unknown"),t=s?s.contact??{}:{},i=String(t.role||t.organization||c.role||""),r=String(t.organization||c.organization||""),l=Number(s?.influence_score??c.influenceScore??n.influence_score??0),d=String(s?.communication_style||c.communicationStyle||""),x=String(s?.dominant_motivation||c.dominantMotivation||""),u=M(t.avatar_url)?String(t.avatar_url):M(t.photo_url)?String(t.photo_url):null;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{url:u,name:o,size:"lg"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gm-text-primary truncate",children:o}),i&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary",children:i}),r&&r!==i&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary",children:r})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gm-text-tertiary uppercase tracking-wider mb-1",children:"Influence"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gm-surface-secondary rounded-full",children:e.jsx("div",{className:"h-2 bg-gm-interactive-primary rounded-full",style:{width:`${Math.min(100,l)}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-gm-text-primary",children:[l,"%"]})]})]}),d&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gm-text-tertiary uppercase tracking-wider mb-0.5",children:"Communication"}),e.jsx("p",{className:"text-xs text-gm-text-primary",children:d.substring(0,100)})]}),x&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gm-text-tertiary uppercase tracking-wider mb-0.5",children:"Motivation"}),e.jsx("p",{className:"text-xs text-gm-text-primary",children:x})]})]})}function it({open:n,onClose:s,existingProfileIds:a}){const[c,o]=S.useState(""),[t,i]=S.useState(new Set),r=Me(),l=ee(),[d,x]=S.useState(!1),[u,h]=S.useState({done:0,total:0,current:""}),g=S.useMemo(()=>{const p=[...r.data?.contacts??[]].sort((j,f)=>{const b=a.has(String(j.id)),y=a.has(String(f.id));return b!==y?b?1:-1:String(j.name||"").localeCompare(String(f.name||""))});return c?p.filter(j=>JSON.stringify(j).toLowerCase().includes(c.toLowerCase())):p},[r.data,c,a]),N=m=>i(p=>{const j=new Set(p);return j.has(m)?j.delete(m):j.add(m),j}),_=()=>{const m=g.filter(p=>!a.has(String(p.id))).map(p=>String(p.id));i(new Set(m))},v=async()=>{if(t.size===0)return;x(!0);const m=Array.from(t);h({done:0,total:m.length,current:""});let p=0,j=0;for(const f of m){const b=g.find(w=>String(w.id)===f),y=String(b?.name||"Contact");h(w=>({...w,current:y}));try{await l.mutateAsync({personId:f,forceReanalysis:!0}),p++}catch{j++}h(w=>({...w,done:w.done+1}))}x(!1),p>0&&z.success(`Analyzed ${p} member${p>1?"s":""}`),j>0&&z.error(`Failed for ${j} member${j>1?"s":""}`),i(new Set),s()};return e.jsx(me,{open:n,onOpenChange:m=>!m&&!d&&s(),children:e.jsxs(de,{className:"max-w-lg p-0 overflow-hidden",children:[e.jsx(xe,{className:"sr-only",children:"Analyze Team Members"}),e.jsxs("div",{className:"px-5 pt-5 pb-3",children:[e.jsx("h2",{className:"text-base font-bold text-gm-text-primary",children:"Analyze Team Members"}),e.jsx("p",{className:"text-xs text-gm-text-tertiary mt-1",children:"Select members to analyze with AI behavioral profiling."}),e.jsxs("p",{className:"text-[10px] text-gm-text-tertiary mt-0.5",children:[g.length," contacts Â· ",a.size," analyzed"]})]}),e.jsxs("div",{className:"px-5 pb-3 flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gm-text-tertiary"}),e.jsx("input",{value:c,onChange:m=>o(m.target.value),placeholder:"Search contacts...",className:"w-full pl-9 pr-3 py-1.5 bg-gm-surface-secondary border border-gm-border-primary rounded-lg text-xs text-gm-text-primary focus:outline-none focus:ring-2 focus:ring-gm-border-focus"})]}),e.jsx("button",{onClick:_,className:"px-3 py-1.5 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs hover:bg-gm-surface-hover transition-colors border border-gm-border-primary whitespace-nowrap",children:"Select Unanalyzed"})]}),e.jsxs("div",{className:"max-h-64 overflow-y-auto px-5 space-y-1",children:[r.isLoading&&e.jsx(O,{}),g.map(m=>{const p=String(m.id),j=String(m.name||"Unknown"),f=String(m.role||m.organization||""),b=M(m.avatar_url)?String(m.avatar_url):M(m.photo_url)?String(m.photo_url):null,y=a.has(p),w=t.has(p);return e.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors ${w?"bg-blue-600/5 border border-blue-600/20":"hover:bg-gm-surface-hover border border-transparent"}`,children:[e.jsx("input",{type:"checkbox",checked:w,onChange:()=>N(p),className:"w-3.5 h-3.5 rounded accent-gm-interactive-primary"}),e.jsx(G,{url:b,name:j,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gm-text-primary truncate",children:j}),f&&e.jsx("p",{className:"text-[10px] text-gm-text-tertiary",children:f})]}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${y?"bg-gm-status-success-bg text-gm-status-success":"bg-gm-surface-secondary text-gm-text-tertiary"}`,children:y?"Analyzed":"Not analyzed"})]},p)}),!r.isLoading&&g.length===0&&e.jsx("p",{className:"text-xs text-gm-text-tertiary text-center py-4",children:"No contacts found."})]}),d&&e.jsxs("div",{className:"px-5 py-3 border-t border-gm-border-primary",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs text-gm-text-primary",children:[u.current,"..."]}),e.jsxs("span",{className:"text-[10px] text-gm-text-tertiary",children:[u.done,"/",u.total]})]}),e.jsx("div",{className:"w-full bg-gm-surface-secondary rounded-full h-1.5",children:e.jsx("div",{className:"bg-gm-interactive-primary h-1.5 rounded-full transition-all",style:{width:`${u.done/u.total*100}%`}})})]}),e.jsxs("div",{className:"px-5 py-3 border-t border-gm-border-primary flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gm-text-tertiary",children:[t.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:s,disabled:d,className:"px-3 py-1.5 rounded-lg bg-gm-surface-secondary text-gm-text-primary text-xs hover:bg-gm-surface-hover transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:v,disabled:t.size===0||d,className:"px-3 py-1.5 rounded-lg bg-gm-interactive-primary text-gm-text-on-brand text-xs font-medium hover:bg-gm-interactive-primary-hover disabled:opacity-50 flex items-center gap-1.5 transition-colors",children:[d?e.jsx(F,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(he,{className:"w-3.5 h-3.5"}),d?`Analyzing ${u.done}/${u.total}...`:`Analyze Selected (${t.size})`]})]})]})]})})}function O(){return e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(F,{className:"h-8 w-8 animate-spin text-gm-interactive-primary"})})}function Z({icon:n,message:s}){return e.jsxs("div",{className:"rounded-xl border border-gm-border-primary bg-gm-surface-primary p-8 text-center text-gm-text-tertiary",children:[e.jsx(n,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),s]})}export{jt as default};
//# sourceMappingURL=TeamAnalysisPage-A81txdSB.js.map
