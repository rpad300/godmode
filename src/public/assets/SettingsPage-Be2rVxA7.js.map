{"version":3,"file":"SettingsPage-Be2rVxA7.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/bot.js","../../../node_modules/lucide-react/dist/esm/icons/webhook.js","../../frontend/src/pages/SettingsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n];\nconst Bot = createLucideIcon(\"bot\", __iconNode);\n\nexport { __iconNode, Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2\",\n      key: \"q3hayz\"\n    }\n  ],\n  [\"path\", { d: \"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06\", key: \"1go1hn\" }],\n  [\"path\", { d: \"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8\", key: \"qlwsc0\" }]\n];\nconst Webhook = createLucideIcon(\"webhook\", __iconNode);\n\nexport { __iconNode, Webhook as default };\n//# sourceMappingURL=webhook.js.map\n","import { useState, useCallback, useEffect, useMemo } from 'react';\nimport {\n  Settings, Sun, Moon, Monitor, Database, Trash2, User, Cpu, Save,\n  Loader2, Key, Webhook, Plus, Copy, X, TestTube, Zap, Download, RefreshCw, CheckCircle,\n  Globe, Shield, Eye, BarChart3, Bot, ChevronRight, Check, Languages, AlertTriangle,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { cn } from '../lib/utils';\nimport {\n  useResetData, useProjectConfig, useUpdateProjectConfig,\n  useApiKeys, useCreateApiKey, useDeleteApiKey,\n  useWebhooks, useCreateWebhook, useDeleteWebhook, useTestWebhook,\n  useLLMCapabilities, useLLMRoutingStatus, useUpdateLLMRouting,\n  useTestLLMProvider, useOllamaModels, useOllamaTest,\n  useOllamaRecommended, useOllamaPull, useModelUnload,\n  useProjectProviders, useSaveProjectProviderKey, useDeleteProjectProviderKey,\n} from '../hooks/useGodMode';\nimport type { ProjectProviderStatus } from '../hooks/useGodMode';\nimport { useLLMModelsByProvider } from '../hooks/useAdmin';\nimport { useUser } from '../hooks/useUser';\nimport { useProject } from '../hooks/useProject';\n\ntype SettingsTab = 'profile' | 'project' | 'apikeys' | 'webhooks' | 'data';\n\n// ── Style tokens (aligned with ProfilePage) ─────────────────────────────────\n\nconst CARD = 'rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200';\nconst INPUT = 'w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)] transition-all duration-150';\nconst BTN_PRIMARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] hover:bg-[var(--gm-interactive-primary-hover)] shadow-sm transition-all duration-150 disabled:opacity-50';\nconst BTN_SECONDARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150';\nconst BTN_DANGER = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--color-danger-500)] text-white hover:bg-[var(--color-danger-600)] shadow-sm transition-all duration-150 disabled:opacity-50';\nconst SECTION_TITLE = 'text-[10px] font-bold text-[var(--gm-accent-primary)] uppercase tracking-[0.1em]';\nconst LABEL = 'text-[10px] font-bold text-[var(--gm-text-tertiary)] uppercase tracking-wider mb-1 flex items-center gap-1.5';\n\nfunction SectionHeader({ title, subtitle }: { title: string; subtitle?: string }) {\n  return (\n    <div className=\"mb-6\">\n      <h2 className=\"text-lg font-bold text-[var(--gm-text-primary)]\">{title}</h2>\n      {subtitle && <p className=\"text-xs text-[var(--gm-text-tertiary)] mt-0.5\">{subtitle}</p>}\n    </div>\n  );\n}\n\nconst NAV_ITEMS: { id: SettingsTab; label: string; icon: typeof Settings }[] = [\n  { id: 'profile', label: 'Profile', icon: User },\n  { id: 'project', label: 'Project', icon: Cpu },\n  { id: 'apikeys', label: 'API Keys', icon: Key },\n  { id: 'webhooks', label: 'Webhooks', icon: Webhook },\n  { id: 'data', label: 'Data', icon: Database },\n];\n\n// ── Helpers ──────────────────────────────────────────────────────────────────\n\nfunction getStoredTheme(): string {\n  try { return localStorage.getItem('godmode-theme') || 'system'; } catch { return 'system'; }\n}\n\nfunction getProjectId(): string {\n  try { return localStorage.getItem('godmode_current_project') || 'default'; } catch { return 'default'; }\n}\n\n// ── Page ─────────────────────────────────────────────────────────────────────\n\nexport default function SettingsPage() {\n  const [activeTab, setActiveTab] = useState<SettingsTab>('profile');\n\n  return (\n    <div className=\"flex h-full\">\n      {/* Side Nav */}\n      <div className=\"w-48 shrink-0 border-r border-[var(--gm-border-primary)] bg-[var(--gm-bg-primary)] overflow-y-auto\">\n        <div className=\"flex items-center gap-2.5 px-4 py-4 border-b border-[var(--gm-border-primary)]\">\n          <div className=\"w-7 h-7 rounded-full bg-[var(--gm-interactive-primary)]/10 flex items-center justify-center\">\n            <Settings className=\"w-3.5 h-3.5 text-[var(--gm-accent-primary)]\" />\n          </div>\n          <span className=\"text-sm font-bold text-[var(--gm-accent-primary)]\">Settings</span>\n        </div>\n        <nav className=\"py-2\">\n          {NAV_ITEMS.map(item => {\n            const Icon = item.icon;\n            const active = activeTab === item.id;\n            return (\n              <button key={item.id} onClick={() => setActiveTab(item.id)}\n                className={cn('w-full flex items-center gap-2.5 px-4 py-2 text-xs transition-colors',\n                  active ? 'text-[var(--gm-accent-primary)] bg-[var(--gm-surface-hover)] font-semibold' : 'text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-hover)]')}>\n                <Icon className=\"w-3.5 h-3.5 shrink-0\" />\n                <span className=\"flex-1 text-left\">{item.label}</span>\n                {active && <ChevronRight className=\"w-3 h-3 shrink-0\" />}\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {activeTab === 'profile' && <ProfileSection />}\n        {activeTab === 'project' && <ProjectSection />}\n        {activeTab === 'apikeys' && <ApiKeysSection projectId={getProjectId()} />}\n        {activeTab === 'webhooks' && <WebhooksSection projectId={getProjectId()} />}\n        {activeTab === 'data' && <DataSection />}\n      </div>\n    </div>\n  );\n}\n\n// ── Profile Section ──────────────────────────────────────────────────────────\n\nfunction ProfileSection() {\n  const { user, updateProfile } = useUser();\n  const [theme, setTheme] = useState(getStoredTheme);\n  const [displayName, setDisplayName] = useState('');\n  const [timezone, setTimezone] = useState('');\n  const [language, setLanguage] = useState('en');\n\n  const [analyticsEnabled, setAnalyticsEnabled] = useState(true);\n  const [errorReporting, setErrorReporting] = useState(true);\n  const [aiDataImprovement, setAiDataImprovement] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      setDisplayName(user.display_name || '');\n      setTimezone(user.timezone || '');\n      setLanguage((user as Record<string, unknown>).language as string || 'en');\n    }\n  }, [user]);\n\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem('godmode-privacy');\n      if (stored) {\n        const p = JSON.parse(stored);\n        setAnalyticsEnabled(p.analytics !== false);\n        setErrorReporting(p.errorReporting !== false);\n        setAiDataImprovement(p.aiDataImprovement === true);\n      }\n    } catch { /* ignore */ }\n  }, []);\n\n  useEffect(() => {\n    const isDark = theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);\n    document.documentElement.classList.toggle('dark', isDark);\n    localStorage.setItem('godmode-theme', theme);\n  }, [theme]);\n\n  const handleSaveProfile = () => {\n    updateProfile.mutate(\n      { display_name: displayName, timezone, theme, language } as Record<string, unknown>,\n      { onSuccess: () => toast.success('Profile updated') },\n    );\n  };\n\n  const handleSavePrivacy = () => {\n    localStorage.setItem('godmode-privacy', JSON.stringify({ analytics: analyticsEnabled, errorReporting, aiDataImprovement }));\n    toast.success('Privacy preferences saved');\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Profile\" subtitle=\"Manage your account info, appearance, and privacy\" />\n\n      <div className={cn(CARD, 'p-5 space-y-5')}>\n        <h3 className={SECTION_TITLE}>User Profile</h3>\n        <div>\n          <label className={LABEL}><User className=\"w-3 h-3\" /> Email</label>\n          <input value={user?.email || ''} readOnly className={cn(INPUT, 'opacity-60 cursor-not-allowed')} />\n        </div>\n        <div>\n          <label className={LABEL}>Display Name</label>\n          <input value={displayName} onChange={e => setDisplayName(e.target.value)} placeholder=\"Your name...\" className={INPUT} />\n        </div>\n        <div>\n          <label className={LABEL}><Globe className=\"w-3 h-3\" /> Timezone</label>\n          <input value={timezone} onChange={e => setTimezone(e.target.value)} placeholder=\"e.g. Europe/Lisbon\" className={INPUT} />\n        </div>\n        <div className=\"flex justify-end pt-2\">\n          <button onClick={handleSaveProfile} disabled={updateProfile.isPending} className={BTN_PRIMARY}>\n            {updateProfile.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Save className=\"w-3.5 h-3.5\" />}\n            Save Profile\n          </button>\n        </div>\n      </div>\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}>Appearance</h3>\n        <div className=\"flex gap-2\">\n          {([\n            { value: 'light', label: 'Light', icon: Sun },\n            { value: 'dark', label: 'Dark', icon: Moon },\n            { value: 'system', label: 'System', icon: Monitor },\n          ] as const).map(option => {\n            const Icon = option.icon;\n            return (\n              <button key={option.value} onClick={() => setTheme(option.value)}\n                className={cn('flex items-center gap-2 px-4 py-2 rounded-lg border text-xs transition-all duration-150',\n                  theme === option.value\n                    ? 'bg-[var(--gm-interactive-primary)]/10 border-[var(--gm-accent-primary)]/30 text-[var(--gm-text-primary)] font-medium'\n                    : 'border-[var(--gm-border-primary)] hover:bg-[var(--gm-surface-hover)] text-[var(--gm-text-tertiary)]')}>\n                <Icon className=\"h-3.5 w-3.5\" /> {option.label}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}><Languages className=\"w-3 h-3 inline mr-1\" /> Language</h3>\n        <div className=\"flex gap-2\">\n          {([\n            { value: 'en', label: 'English' },\n            { value: 'pt', label: 'Português' },\n            { value: 'es', label: 'Español' },\n          ] as const).map(option => (\n            <button key={option.value} onClick={() => setLanguage(option.value)}\n              className={cn('px-4 py-2 rounded-lg border text-xs transition-all duration-150',\n                language === option.value\n                  ? 'bg-[var(--gm-interactive-primary)]/10 border-[var(--gm-accent-primary)]/30 text-[var(--gm-text-primary)] font-medium'\n                  : 'border-[var(--gm-border-primary)] hover:bg-[var(--gm-surface-hover)] text-[var(--gm-text-tertiary)]')}>\n              {option.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <h3 className={SECTION_TITLE}><Shield className=\"w-3 h-3 inline mr-1\" /> Data & Privacy</h3>\n        {([\n          { key: 'analytics', label: 'Analytics', desc: 'Help us improve by sharing anonymized usage data', icon: BarChart3, state: analyticsEnabled, setter: setAnalyticsEnabled },\n          { key: 'errorReporting', label: 'Error Reporting', desc: 'Automatically report crashes and errors', icon: Eye, state: errorReporting, setter: setErrorReporting },\n          { key: 'aiData', label: 'AI Data Improvement', desc: 'Allow anonymized data to improve AI model quality', icon: Bot, state: aiDataImprovement, setter: setAiDataImprovement },\n        ] as const).map(opt => (\n          <div key={opt.key} className=\"flex items-center justify-between py-1\">\n            <div className=\"flex items-center gap-3\">\n              <opt.icon className=\"w-3.5 h-3.5 text-[var(--gm-text-tertiary)]\" />\n              <div>\n                <p className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{opt.label}</p>\n                <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{opt.desc}</p>\n              </div>\n            </div>\n            <button onClick={() => opt.setter(!opt.state)}\n              className={cn('relative w-9 h-5 rounded-full transition-colors', opt.state ? 'bg-[var(--gm-interactive-primary)]' : 'bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)]')}\n              role=\"switch\" aria-checked={opt.state}>\n              <span className={cn('absolute top-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform', opt.state ? 'translate-x-[18px]' : 'translate-x-0.5')} />\n            </button>\n          </div>\n        ))}\n        <div className=\"flex justify-end pt-2\">\n          <button onClick={handleSavePrivacy} className={BTN_SECONDARY}>\n            <Save className=\"w-3.5 h-3.5\" /> Save Privacy\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ── Project Section ──────────────────────────────────────────────────────────\n\nfunction ProjectSection() {\n  const { currentProject } = useProject();\n  const config = useProjectConfig();\n  const updateConfig = useUpdateProjectConfig();\n  const [projectName, setProjectName] = useState('');\n\n  useEffect(() => {\n    if (currentProject?.name) {\n      setProjectName(currentProject.name);\n    } else if (config.data?.projectName) {\n      setProjectName(config.data.projectName);\n    }\n  }, [currentProject, config.data]);\n\n  const handleSaveProject = () => {\n    updateConfig.mutate(\n      { projectName },\n      { onSuccess: () => toast.success('Project settings saved') },\n    );\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Project\" subtitle=\"Project name, API keys, AI configuration, and diagnostics\" />\n\n      <div className={cn(CARD, 'p-5 space-y-5')}>\n        <h3 className={SECTION_TITLE}>Project Configuration</h3>\n        {config.isLoading ? (\n          <div className=\"flex items-center gap-2 py-4 text-[var(--gm-text-tertiary)] text-sm\">\n            <Loader2 className=\"w-4 h-4 animate-spin\" /> Loading config...\n          </div>\n        ) : (\n          <>\n            <div>\n              <label className={LABEL}>Project Name</label>\n              <input value={projectName} onChange={e => setProjectName(e.target.value)} className={INPUT} placeholder=\"My Project\" />\n            </div>\n            <div className=\"flex justify-end pt-2\">\n              <button onClick={handleSaveProject} disabled={updateConfig.isPending} className={BTN_PRIMARY}>\n                {updateConfig.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Save className=\"w-3.5 h-3.5\" />}\n                Save Project\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n\n      <LLMDiagnosticsSection />\n      <OllamaSection />\n    </div>\n  );\n}\n\n// ── Project LLM Provider Keys + Task Config ──────────────────────────────────\n\nfunction ProjectTaskModelSelector({ task, taskLabel, currentProvider, currentModel, providerList, onProviderChange, onModelChange }: {\n  task: string;\n  taskLabel: string;\n  currentProvider: string;\n  currentModel: string;\n  providerList: Array<{ id: string; name: string }>;\n  onProviderChange: (provider: string) => void;\n  onModelChange: (model: string) => void;\n}) {\n  const { data: modelsData, isLoading: modelsLoading, isError: modelsError } = useLLMModelsByProvider(currentProvider || null);\n  const [manualMode, setManualMode] = useState(false);\n\n  const modelOptions = useMemo(() => {\n    if (!modelsData) return [];\n    const resp = modelsData as Record<string, unknown>;\n    const text = (resp.textModels ?? []) as Array<{ id: string; name?: string; contextTokens?: number }>;\n    const vision = (resp.visionModels ?? []) as Array<{ id: string; name?: string }>;\n    const embedding = (resp.embeddingModels ?? []) as Array<{ id: string; name?: string }>;\n    if (task === 'vision') return vision;\n    if (task === 'embeddings') return embedding;\n    return text;\n  }, [modelsData, task]);\n\n  const hasModels = modelOptions.length > 0;\n\n  return (\n    <div className=\"space-y-2\">\n      <span className=\"text-sm font-medium text-[var(--gm-text-primary)] capitalize\">{taskLabel}</span>\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div>\n          <label className={LABEL}>PROVIDER</label>\n          <select\n            value={currentProvider}\n            onChange={e => { onProviderChange(e.target.value); setManualMode(false); }}\n            className={cn(INPUT, 'w-full text-xs')}\n          >\n            <option value=\"\">Select...</option>\n            {providerList.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}\n          </select>\n          <span className=\"text-[10px] text-[var(--gm-accent-primary)] mt-0.5 block\">{providerList.length} provider(s) with project keys</span>\n        </div>\n        <div>\n          <label className={LABEL}>MODEL</label>\n          {modelsLoading && currentProvider ? (\n            <div className={cn(INPUT, 'w-full text-xs flex items-center gap-2')}>\n              <Loader2 className=\"w-3 h-3 animate-spin text-blue-400\" />\n              <span className=\"text-[var(--gm-text-tertiary)]\">Loading models...</span>\n            </div>\n          ) : hasModels && !manualMode ? (\n            <>\n              <select\n                value={currentModel}\n                onChange={e => onModelChange(e.target.value)}\n                className={cn(INPUT, 'w-full text-xs')}\n              >\n                <option value=\"\">Select model...</option>\n                {modelOptions.map(m => (\n                  <option key={m.id} value={m.id}>\n                    {m.name || m.id}\n                    {(m as Record<string, unknown>).contextTokens ? ` (${Math.round(Number((m as Record<string, unknown>).contextTokens) / 1000)}K ctx)` : ''}\n                  </option>\n                ))}\n              </select>\n              <button onClick={() => setManualMode(true)} className=\"text-[10px] text-blue-400 hover:text-blue-300 mt-0.5 block\">\n                or type manually\n              </button>\n            </>\n          ) : (\n            <>\n              <input\n                value={currentModel}\n                onChange={e => onModelChange(e.target.value)}\n                className={cn(INPUT, 'w-full text-xs')}\n                placeholder={currentProvider ? 'e.g. gpt-4o' : 'Select a provider first'}\n              />\n              {hasModels && manualMode && (\n                <button onClick={() => setManualMode(false)} className=\"text-[10px] text-blue-400 hover:text-blue-300 mt-0.5 block\">\n                  back to dropdown\n                </button>\n              )}\n              {modelsError && currentProvider && (\n                <span className=\"text-[10px] text-amber-400 mt-0.5 block\">Could not load models — type manually</span>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProjectProvidersSection({ projectId }: { projectId: string }) {\n  const { data, isLoading, isError } = useProjectProviders(projectId);\n  const saveKey = useSaveProjectProviderKey();\n  const deleteKey = useDeleteProjectProviderKey();\n  const updateConfig = useUpdateProjectConfig();\n  const config = useProjectConfig();\n  const [showKeys, setShowKeys] = useState<Record<string, boolean>>({});\n  const [keyEdits, setKeyEdits] = useState<Record<string, string>>({});\n  const [taskEdits, setTaskEdits] = useState<Record<string, { provider: string; model: string }>>({});\n\n  const providers: ProjectProviderStatus[] = Array.isArray(data?.providers) ? data.providers : [];\n\n  const llmConfig = config.data?.llm;\n  const perTask = ((llmConfig as Record<string, unknown>)?.perTask ?? { text: {}, vision: {}, embeddings: {} }) as Record<string, Record<string, string>>;\n\n  const configuredProviders = useMemo(() =>\n    providers.filter(p => p.hasProjectKey).map(p => ({ id: p.id, name: p.name })),\n  [providers]);\n\n  const handleSaveKeys = useCallback(() => {\n    const edits = Object.entries(keyEdits).filter(([, v]) => v.trim().length > 0);\n    if (edits.length === 0) { toast.info('No changes to save'); return; }\n    let savedCount = 0;\n    const total = edits.length;\n    for (const [id, key] of edits) {\n      saveKey.mutate({ projectId, provider: id, apiKey: key }, {\n        onSuccess: () => {\n          savedCount++;\n          if (savedCount === total) {\n            toast.success(`${total} API key${total > 1 ? 's' : ''} saved to encrypted vault`);\n            setKeyEdits({});\n          }\n        },\n        onError: (e: Error) => toast.error(`Failed to save ${id}: ${e.message}`),\n      });\n    }\n  }, [keyEdits, saveKey, projectId]);\n\n  const handleDeleteKey = useCallback((providerId: string) => {\n    deleteKey.mutate({ projectId, provider: providerId }, {\n      onSuccess: () => toast.success(`${providerId} project key removed — will use system key`),\n      onError: () => toast.error('Failed to remove key'),\n    });\n  }, [deleteKey, projectId]);\n\n  const handleSaveTaskConfig = useCallback(() => {\n    if (Object.keys(taskEdits).length === 0) { toast.info('No changes to save'); return; }\n    updateConfig.mutate({ llm: { perTask: taskEdits } }, {\n      onSuccess: () => { toast.success('Project AI configuration saved'); setTaskEdits({}); },\n      onError: (e: Error) => toast.error(e.message),\n    });\n  }, [taskEdits, updateConfig]);\n\n  const hasKeyEdits = Object.values(keyEdits).some(v => v.trim().length > 0);\n\n  return (\n    <div className=\"space-y-5\">\n      {/* Info box */}\n      <div className={cn(CARD, 'p-4 border-l-2 border-[var(--gm-accent-primary)]')}>\n        <h4 className=\"text-xs font-semibold text-[var(--gm-accent-primary)] mb-2\">Project BYOK (Bring Your Own Key)</h4>\n        <div className=\"text-[11px] text-[var(--gm-text-secondary)] space-y-1\">\n          <p>Set your own API keys per provider for this project. <strong>Project keys</strong> take priority over system keys — billing goes directly to your provider account.</p>\n          <p>When no project key is set, the <span className=\"text-blue-400 font-medium\">system key</span> is used and your project balance is debited.</p>\n        </div>\n      </div>\n\n      {/* Provider API Keys */}\n      <div className={cn(CARD, 'p-5 space-y-4')}>\n        <div className=\"flex items-center justify-between\">\n          <h3 className={SECTION_TITLE}><Key className=\"w-3 h-3 inline mr-1\" /> Project LLM API Keys</h3>\n          {!isLoading && (\n            <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">\n              {providers.filter(p => p.hasProjectKey).length}/{providers.length} with project keys\n            </span>\n          )}\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex items-center gap-2 py-4 text-[var(--gm-text-tertiary)] text-sm\">\n            <Loader2 className=\"w-4 h-4 animate-spin\" /> Loading providers...\n          </div>\n        ) : isError ? (\n          <p className=\"text-xs text-red-400\">Failed to load provider status.</p>\n        ) : (\n          <>\n            {providers.map(p => (\n              <div key={p.id} className=\"space-y-1.5\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-[var(--gm-accent-primary)]\">{p.name}</span>\n                  {p.hasProjectKey ? (\n                    <span className=\"text-[10px] text-green-400 flex items-center gap-1\"><CheckCircle className=\"w-3 h-3\" /> Project Key</span>\n                  ) : p.hasSystemKey ? (\n                    <span className=\"text-[10px] text-blue-400 flex items-center gap-1\"><CheckCircle className=\"w-3 h-3\" /> System Key</span>\n                  ) : (\n                    <span className=\"text-[10px] text-amber-400\">Not configured</span>\n                  )}\n                  {p.hasProjectKey && (\n                    <button\n                      onClick={() => handleDeleteKey(p.id)}\n                      disabled={deleteKey.isPending}\n                      className=\"text-[10px] text-red-400 hover:text-red-300 ml-1\"\n                      title=\"Remove project key\"\n                    >\n                      <Trash2 className=\"w-3 h-3 inline\" /> Remove\n                    </button>\n                  )}\n                </div>\n                <div className=\"flex gap-2\">\n                  <input\n                    type={showKeys[p.id] ? 'text' : 'password'}\n                    value={keyEdits[p.id] ?? ''}\n                    onChange={e => setKeyEdits(prev => ({ ...prev, [p.id]: e.target.value }))}\n                    placeholder={p.masked || `Enter ${p.name} API key...`}\n                    className={cn(INPUT, 'flex-1 font-mono text-xs')}\n                  />\n                  <button onClick={() => setShowKeys(prev => ({ ...prev, [p.id]: !prev[p.id] }))} className={BTN_SECONDARY}>\n                    {showKeys[p.id] ? 'Hide' : 'Show'}\n                  </button>\n                </div>\n                {p.masked && p.hasProjectKey && !keyEdits[p.id] && (\n                  <p className=\"text-[10px] text-[var(--gm-text-tertiary)] font-mono pl-1\">Current: {p.masked}</p>\n                )}\n              </div>\n            ))}\n            <button onClick={handleSaveKeys} disabled={saveKey.isPending || !hasKeyEdits} className={BTN_PRIMARY}>\n              {saveKey.isPending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <Save className=\"w-3 h-3\" />} Save to Encrypted Vault\n            </button>\n          </>\n        )}\n      </div>\n\n      {/* Task-Specific AI Config (only providers with project keys) */}\n      {configuredProviders.length > 0 && (\n        <div className={cn(CARD, 'p-5 space-y-5')}>\n          <div>\n            <h3 className={SECTION_TITLE}>Task-Specific AI Configuration</h3>\n            <p className=\"text-xs text-[var(--gm-text-tertiary)] mt-1\">\n              Override which provider and model to use for each AI task in this project. Only providers with project keys are available.\n            </p>\n          </div>\n          {Object.entries(perTask).map(([task, cfg]) => {\n            const taskLabel = task.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1');\n            const currentProvider = taskEdits[task]?.provider ?? cfg?.provider ?? '';\n            const currentModel = taskEdits[task]?.model ?? cfg?.model ?? '';\n            return (\n              <ProjectTaskModelSelector\n                key={task}\n                task={task}\n                taskLabel={taskLabel}\n                currentProvider={currentProvider}\n                currentModel={currentModel}\n                providerList={configuredProviders}\n                onProviderChange={(provider) => setTaskEdits(prev => ({ ...prev, [task]: { provider, model: '' } }))}\n                onModelChange={(model) => setTaskEdits(prev => ({ ...prev, [task]: { provider: prev[task]?.provider ?? cfg?.provider ?? '', model } }))}\n              />\n            );\n          })}\n          <div className=\"flex items-center gap-3\">\n            <button onClick={handleSaveTaskConfig} disabled={updateConfig.isPending || Object.keys(taskEdits).length === 0} className={BTN_PRIMARY}>\n              {updateConfig.isPending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <Save className=\"w-3 h-3\" />} Save AI Configuration\n            </button>\n            <span className=\"text-[10px] text-amber-400 flex items-center gap-1\"><AlertTriangle className=\"w-3 h-3\" /> Overrides system config for this project</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ── LLM Diagnostics ──────────────────────────────────────────────────────────\n\nfunction formatValue(v: unknown): string {\n  if (v == null) return '—';\n  if (typeof v === 'boolean') return v ? 'Yes' : 'No';\n  if (typeof v === 'string') return v || '—';\n  if (typeof v === 'number') return String(v);\n  if (Array.isArray(v)) return v.length > 0 ? v.join(', ') : '—';\n  if (typeof v === 'object') {\n    const entries = Object.entries(v as Record<string, unknown>);\n    if (entries.length === 0) return '—';\n    return entries.map(([k, val]) => `${k}: ${typeof val === 'object' ? JSON.stringify(val) : String(val ?? '—')}`).join(' · ');\n  }\n  return String(v);\n}\n\nfunction LLMDiagnosticsSection() {\n  const capabilities = useLLMCapabilities();\n  const routing = useLLMRoutingStatus();\n  const testProvider = useTestLLMProvider();\n  const [testTarget, setTestTarget] = useState('');\n\n  const caps = (capabilities.data || {}) as Record<string, unknown>;\n  const routingData = (routing.data || {}) as Record<string, unknown>;\n\n  const providerNames: Record<string, string> = {\n    ollama: 'Ollama', openai: 'OpenAI', google: 'Google Gemini', gemini: 'Google Gemini',\n    grok: 'Grok / xAI', xai: 'Grok / xAI', deepseek: 'DeepSeek',\n    anthropic: 'Claude / Anthropic', claude: 'Claude', kimi: 'Kimi', minimax: 'MiniMax',\n  };\n\n  return (\n    <div className={cn(CARD, 'p-5 space-y-4')}>\n      <h3 className={SECTION_TITLE}><Zap className=\"w-3 h-3 inline mr-1\" /> LLM Diagnostics</h3>\n\n      <div>\n        <label className={LABEL}>Provider Capabilities</label>\n        {capabilities.isLoading ? <Loader2 className=\"w-4 h-4 animate-spin text-[var(--gm-accent-primary)]\" /> : Object.keys(caps).length > 0 ? (\n          <div className=\"space-y-2\">\n            {Object.entries(caps).filter(([, v]) => v != null && typeof v === 'object' && !Array.isArray(v)).map(([providerId, capObj]) => {\n              const capMap = capObj as Record<string, boolean>;\n              return (\n                <div key={providerId} className=\"bg-[var(--gm-bg-tertiary)] rounded-lg px-3 py-2\">\n                  <div className=\"text-xs font-medium text-[var(--gm-text-primary)] mb-1\">{providerNames[providerId] || providerId}</div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {Object.entries(capMap).map(([cap, supported]) => (\n                      <span key={cap} className={cn('text-[10px] px-2 py-0.5 rounded-full', supported ? 'bg-green-500/10 text-green-400' : 'bg-white/5 text-[var(--gm-text-tertiary)]')}>\n                        {supported ? <CheckCircle className=\"w-2.5 h-2.5 inline mr-0.5\" /> : null}\n                        {cap.replace(/_/g, ' ')}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">No capabilities data</p>}\n      </div>\n\n      <div>\n        <label className={LABEL}>Routing Status</label>\n        {routing.isLoading ? <Loader2 className=\"w-4 h-4 animate-spin text-[var(--gm-accent-primary)]\" /> : Object.keys(routingData).length > 0 ? (\n          <div className=\"space-y-1\">\n            {Object.entries(routingData).filter(([, v]) => v != null).slice(0, 10).map(([k, v]) => (\n              <div key={k} className=\"flex items-center justify-between text-xs bg-[var(--gm-bg-tertiary)] rounded-lg px-3 py-1.5\">\n                <span className=\"text-[var(--gm-text-tertiary)] capitalize\">{k.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ')}</span>\n                <span className=\"text-[var(--gm-text-primary)] font-medium text-right max-w-[60%] truncate\">{formatValue(v)}</span>\n              </div>\n            ))}\n          </div>\n        ) : <p className=\"text-[10px] text-[var(--gm-text-tertiary)]\">No routing data</p>}\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <select value={testTarget} onChange={e => setTestTarget(e.target.value)} className={cn(INPUT, 'w-auto')}>\n          <option value=\"\">Select provider to test</option>\n          {Object.entries(providerNames).filter(([k]) => !['gemini', 'xai', 'claude'].includes(k)).map(([id, name]) => (\n            <option key={id} value={id}>{name}</option>\n          ))}\n        </select>\n        <button onClick={() => testProvider.mutate(testTarget, { onSuccess: () => toast.success(`${testTarget} connection OK`), onError: () => toast.error(`${testTarget} test failed`) })}\n          disabled={testProvider.isPending || !testTarget} className={BTN_SECONDARY}>\n          {testProvider.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <TestTube className=\"w-3.5 h-3.5\" />} Test Provider\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// ── Ollama ────────────────────────────────────────────────────────────────────\n\nfunction OllamaSection() {\n  const ollamaTest = useOllamaTest();\n  const ollamaModels = useOllamaModels();\n  const recommended = useOllamaRecommended();\n  const pull = useOllamaPull();\n  const unload = useModelUnload();\n  const [pullModel, setPullModel] = useState('');\n\n  const models = ((ollamaModels.data as Record<string, unknown>)?.models || []) as Array<Record<string, unknown>>;\n  const recs = ((recommended.data as Record<string, unknown>)?.models || []) as Array<Record<string, unknown>>;\n\n  return (\n    <div className={cn(CARD, 'p-5 space-y-4')}>\n      <div className=\"flex items-center justify-between\">\n        <h3 className={SECTION_TITLE}><Cpu className=\"w-3 h-3 inline mr-1\" /> Ollama Local Models</h3>\n        <div className=\"flex gap-2\">\n          <button onClick={() => ollamaTest.refetch()} disabled={ollamaTest.isFetching} className={BTN_SECONDARY}>\n            {ollamaTest.isFetching ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <TestTube className=\"w-3 h-3\" />} Test\n          </button>\n          <button onClick={() => ollamaModels.refetch()} disabled={ollamaModels.isFetching} className={BTN_SECONDARY}>\n            {ollamaModels.isFetching ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <RefreshCw className=\"w-3 h-3\" />} Refresh\n          </button>\n        </div>\n      </div>\n\n      {models.length > 0 ? (\n        <div className=\"space-y-1.5\">\n          <label className={LABEL}>Installed ({models.length})</label>\n          {models.map((m, i) => (\n            <div key={i} className=\"flex items-center justify-between bg-[var(--gm-bg-tertiary)] rounded-lg px-3 py-2\">\n              <div>\n                <span className=\"text-xs font-medium text-[var(--gm-text-primary)]\">{String(m.name || m.model || '')}</span>\n                {m.size && <span className=\"text-[10px] text-[var(--gm-text-tertiary)] ml-2\">{String(m.size)}</span>}\n              </div>\n              <button onClick={() => unload.mutate({ model: String(m.name || m.model) }, { onSuccess: () => toast.success('Model unloaded') })}\n                disabled={unload.isPending}\n                className=\"px-2 py-1 rounded text-[10px] text-[var(--gm-text-tertiary)] hover:bg-[var(--color-danger-500)]/10 hover:text-[var(--color-danger-500)] transition-colors\">\n                Unload\n              </button>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p className=\"text-xs text-[var(--gm-text-tertiary)]\">No models loaded. Click Refresh to check or pull a model below.</p>\n      )}\n\n      <div className=\"flex items-center gap-2\">\n        <input value={pullModel} onChange={e => setPullModel(e.target.value)} placeholder=\"Model name (e.g. llama3.2)\" className={INPUT} />\n        <button onClick={() => pull.mutate({ model: pullModel }, { onSuccess: () => { toast.success(`Pulling ${pullModel}...`); setPullModel(''); } })}\n          disabled={pull.isPending || !pullModel.trim()} className={BTN_PRIMARY}>\n          {pull.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Download className=\"w-3.5 h-3.5\" />} Pull\n        </button>\n      </div>\n\n      <button onClick={() => recommended.refetch()} className=\"text-xs text-[var(--gm-accent-primary)] underline\">Load recommended models</button>\n      {recs.length > 0 && (\n        <div className=\"flex flex-wrap gap-1.5\">\n          {recs.map((r, i) => (\n            <button key={i} onClick={() => setPullModel(String(r.name || r.model || ''))}\n              className=\"text-[10px] px-2 py-0.5 rounded-full bg-[var(--gm-interactive-primary)]/10 text-[var(--gm-accent-primary)] font-medium hover:bg-[var(--gm-interactive-primary)]/20 transition-colors\">\n              {String(r.name || r.model || '')}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ── API Keys Section ─────────────────────────────────────────────────────────\n\nfunction ApiKeysSection({ projectId }: { projectId: string }) {\n  const { currentProject } = useProject();\n  const resolvedProjectId = currentProject?.id || projectId;\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"API Keys\" subtitle=\"Manage LLM provider API keys and AI configuration for this project\" />\n      <ProjectProvidersSection projectId={resolvedProjectId} />\n    </div>\n  );\n}\n\n// ── Webhooks Section ─────────────────────────────────────────────────────────\n\nfunction WebhooksSection({ projectId }: { projectId: string }) {\n  const webhooks = useWebhooks(projectId);\n  const createWebhook = useCreateWebhook();\n  const deleteWebhook = useDeleteWebhook();\n  const testWebhook = useTestWebhook();\n  const [showCreate, setShowCreate] = useState(false);\n  const [url, setUrl] = useState('');\n  const [events, setEvents] = useState<string[]>([]);\n\n  const webhookList = webhooks.data?.webhooks ?? [];\n\n  const availableEvents = [\n    'document.processed', 'document.created', 'document.deleted',\n    'entity.created', 'entity.updated', 'entity.deleted',\n    'contact.created', 'contact.updated',\n    'email.received', 'email.processed',\n  ];\n\n  const toggleEvent = (event: string) => {\n    setEvents(prev => prev.includes(event) ? prev.filter(e => e !== event) : [...prev, event]);\n  };\n\n  const handleCreate = () => {\n    if (!url.trim() || events.length === 0) return;\n    createWebhook.mutate(\n      { projectId, url: url.trim(), events },\n      {\n        onSuccess: () => { toast.success('Webhook created'); setUrl(''); setEvents([]); setShowCreate(false); },\n        onError: () => toast.error('Failed to create webhook'),\n      },\n    );\n  };\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Webhooks\" subtitle=\"Configure endpoints to receive real-time event notifications\" />\n\n      <div className=\"flex items-center justify-between\">\n        <h3 className={SECTION_TITLE}>Endpoints</h3>\n        <button onClick={() => setShowCreate(!showCreate)} className={BTN_PRIMARY}>\n          <Plus className=\"w-3.5 h-3.5\" /> Add Webhook\n        </button>\n      </div>\n\n      {showCreate && (\n        <div className={cn(CARD, 'p-4 space-y-3')}>\n          <div>\n            <label className={LABEL}>Endpoint URL</label>\n            <input value={url} onChange={e => setUrl(e.target.value)} className={INPUT} placeholder=\"https://your-server.com/webhook\" />\n          </div>\n          <div>\n            <label className={LABEL}>Events</label>\n            <div className=\"flex flex-wrap gap-1.5\">\n              {availableEvents.map(event => (\n                <button key={event} onClick={() => toggleEvent(event)}\n                  className={cn('px-2 py-1 rounded-md text-[10px] font-medium transition-colors border',\n                    events.includes(event)\n                      ? 'bg-[var(--gm-interactive-primary)]/10 border-[var(--gm-accent-primary)]/30 text-[var(--gm-accent-primary)]'\n                      : 'bg-[var(--gm-bg-tertiary)] border-[var(--gm-border-primary)] text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]')}>\n                  {event}\n                </button>\n              ))}\n            </div>\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <button onClick={() => setShowCreate(false)} className={BTN_SECONDARY}>Cancel</button>\n            <button onClick={handleCreate} disabled={createWebhook.isPending || !url.trim() || events.length === 0} className={BTN_PRIMARY}>\n              {createWebhook.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Check className=\"w-3.5 h-3.5\" />} Create\n            </button>\n          </div>\n        </div>\n      )}\n\n      {webhooks.isLoading ? (\n        <div className=\"flex items-center justify-center py-8\"><Loader2 className=\"w-5 h-5 animate-spin text-[var(--gm-accent-primary)]\" /></div>\n      ) : webhookList.length === 0 ? (\n        <div className={cn(CARD, 'p-6 text-center')}>\n          <Webhook className=\"w-8 h-8 mx-auto mb-2 opacity-40 text-[var(--gm-text-tertiary)]\" />\n          <p className=\"text-xs text-[var(--gm-text-tertiary)]\">No webhooks configured. Add one to receive real-time event notifications.</p>\n        </div>\n      ) : (\n        <div className=\"space-y-2\">\n          {webhookList.map(wh => (\n            <div key={wh.id} className={cn(CARD, 'p-4')}>\n              <div className=\"flex items-center justify-between mb-2\">\n                <p className=\"text-sm font-mono text-[var(--gm-text-primary)] truncate flex-1 mr-2\">{wh.url}</p>\n                <div className=\"flex items-center gap-1\">\n                  <button onClick={() => testWebhook.mutate(wh.id, { onSuccess: () => toast.success('Test sent'), onError: () => toast.error('Test failed') })}\n                    disabled={testWebhook.isPending} className={BTN_SECONDARY}>Test</button>\n                  <button onClick={() => deleteWebhook.mutate(wh.id, { onSuccess: () => toast.success('Webhook deleted') })}\n                    className=\"p-1.5 text-[var(--gm-text-tertiary)] hover:text-[var(--color-danger-500)] transition-colors\">\n                    <Trash2 className=\"w-3.5 h-3.5\" />\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex flex-wrap gap-1\">\n                {wh.events.map(evt => (\n                  <span key={evt} className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-bg-tertiary)] text-[var(--gm-text-tertiary)]\">{evt}</span>\n                ))}\n              </div>\n              <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-1.5\">Created {new Date(wh.created_at).toLocaleDateString()}</p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ── Data Section ─────────────────────────────────────────────────────────────\n\nfunction DataSection() {\n  const resetData = useResetData();\n  const [clearDialogOpen, setClearDialogOpen] = useState(false);\n\n  const handleClearCache = useCallback(() => {\n    const keys = Object.keys(localStorage).filter(\n      k => k.startsWith('godmode-') && k !== 'godmode-theme' && k !== 'godmode-project-id'\n    );\n    keys.forEach(k => localStorage.removeItem(k));\n    toast.success(`Cleared ${keys.length} cached items`);\n  }, []);\n\n  const handleResetConfirm = useCallback(() => {\n    resetData.mutate({ clearArchived: true }, {\n      onSuccess: () => { toast.success('Project data reset'); setClearDialogOpen(false); },\n      onSettled: () => setClearDialogOpen(false),\n    });\n  }, [resetData]);\n\n  return (\n    <div className=\"space-y-5\">\n      <SectionHeader title=\"Data\" subtitle=\"Manage local cache and project data\" />\n\n      <div className={cn(CARD, 'p-5 space-y-3')}>\n        <h3 className={SECTION_TITLE}>Local Data</h3>\n        <p className=\"text-xs text-[var(--gm-text-tertiary)]\">Clear cached data stored in your browser. This does not affect server data.</p>\n        <button onClick={handleClearCache} className={BTN_SECONDARY}>\n          <Database className=\"w-3.5 h-3.5\" /> Clear Local Cache\n        </button>\n      </div>\n\n      <div className={cn(CARD, 'p-5 space-y-3 border-[var(--color-danger-500)]/30')}>\n        <h3 className=\"text-[10px] font-bold text-[var(--color-danger-500)] uppercase tracking-[0.1em]\">Danger Zone</h3>\n        <p className=\"text-xs text-[var(--gm-text-tertiary)]\">\n          Reset all project knowledge data. This permanently deletes facts, decisions, questions, risks, and actions.\n        </p>\n        {!clearDialogOpen ? (\n          <button onClick={() => setClearDialogOpen(true)} className={BTN_DANGER}>\n            <Trash2 className=\"w-3.5 h-3.5\" /> Reset Project Data\n          </button>\n        ) : (\n          <div className=\"bg-[var(--color-danger-500)]/5 border border-[var(--color-danger-500)]/20 rounded-lg p-4 space-y-3\">\n            <p className=\"text-sm font-medium text-[var(--color-danger-500)]\">Are you sure? This action cannot be undone.</p>\n            <div className=\"flex gap-2\">\n              <button onClick={() => setClearDialogOpen(false)} className={BTN_SECONDARY}>Cancel</button>\n              <button onClick={handleResetConfirm} disabled={resetData.isPending} className={BTN_DANGER}>\n                {resetData.isPending ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Trash2 className=\"w-3.5 h-3.5\" />}\n                Confirm Reset\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","Bot","createLucideIcon","Webhook","CARD","INPUT","BTN_PRIMARY","BTN_SECONDARY","BTN_DANGER","SECTION_TITLE","LABEL","SectionHeader","title","subtitle","jsxs","jsx","NAV_ITEMS","User","Cpu","Key","Database","getStoredTheme","getProjectId","SettingsPage","activeTab","setActiveTab","useState","Settings","item","Icon","active","cn","ChevronRight","ProfileSection","ProjectSection","ApiKeysSection","WebhooksSection","DataSection","user","updateProfile","useUser","theme","setTheme","displayName","setDisplayName","timezone","setTimezone","language","setLanguage","analyticsEnabled","setAnalyticsEnabled","errorReporting","setErrorReporting","aiDataImprovement","setAiDataImprovement","useEffect","stored","p","isDark","handleSaveProfile","toast","handleSavePrivacy","e","Globe","Loader2","Save","Sun","Moon","Monitor","option","Languages","Shield","BarChart3","Eye","opt","currentProject","useProject","config","useProjectConfig","updateConfig","useUpdateProjectConfig","projectName","setProjectName","handleSaveProject","Fragment","LLMDiagnosticsSection","OllamaSection","ProjectTaskModelSelector","task","taskLabel","currentProvider","currentModel","providerList","onProviderChange","onModelChange","modelsData","modelsLoading","modelsError","useLLMModelsByProvider","manualMode","setManualMode","modelOptions","useMemo","resp","text","vision","embedding","hasModels","m","ProjectProvidersSection","projectId","data","isLoading","isError","useProjectProviders","saveKey","useSaveProjectProviderKey","deleteKey","useDeleteProjectProviderKey","showKeys","setShowKeys","keyEdits","setKeyEdits","taskEdits","setTaskEdits","providers","perTask","configuredProviders","handleSaveKeys","useCallback","edits","v","savedCount","total","id","key","handleDeleteKey","providerId","handleSaveTaskConfig","hasKeyEdits","CheckCircle","Trash2","prev","cfg","provider","model","AlertTriangle","formatValue","entries","k","val","capabilities","useLLMCapabilities","routing","useLLMRoutingStatus","testProvider","useTestLLMProvider","testTarget","setTestTarget","caps","routingData","providerNames","Zap","capObj","capMap","cap","supported","name","TestTube","ollamaTest","useOllamaTest","ollamaModels","useOllamaModels","recommended","useOllamaRecommended","pull","useOllamaPull","unload","useModelUnload","pullModel","setPullModel","models","recs","RefreshCw","i","Download","r","resolvedProjectId","webhooks","useWebhooks","createWebhook","useCreateWebhook","deleteWebhook","useDeleteWebhook","testWebhook","useTestWebhook","showCreate","setShowCreate","url","setUrl","events","setEvents","webhookList","availableEvents","toggleEvent","event","handleCreate","Plus","Check","wh","evt","resetData","useResetData","clearDialogOpen","setClearDialogOpen","handleClearCache","keys","handleResetConfirm"],"mappings":"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","x_google_ignoreList":[0,1]}