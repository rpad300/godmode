import{r as u,j as e}from"./vendor-react-CZ-WyKWZ.js";import{b as Rs}from"./vendor-query-DSf7I7Ei.js";import{t as y,A as Le,m as ge}from"./vendor-ui-BS9QKitv.js";import{A as be,y as Ms,T as J,c as r,eD as Ls,L as C,X as Y,a9 as ee,eE as $s,ac as Bs,eF as Os,U as ds,eG as Fs,l as Is,ai as zs,C as xs,ab as Gs,eH as qs,eI as Hs,eJ as Us,eK as Ks,eL as Ws,eM as Qs,eN as Vs,eO as Ys,eP as Xs,eQ as Zs,eR as Js,eS as et,aE as st,aD as tt,eT as at,eU as rt,J as $e,Z as Je,a8 as es,O as ms,w as ve,a7 as nt,N as it,aj as lt,bD as ct,bA as ot}from"./main-B3DZn5B_.js";import{E as dt}from"./ErrorState-to3SSPKs.js";import{O as ps}from"./OwnerBadge-De84pRkr.js";import{C as Be}from"./chart-column-BRODuIXF.js";import{C as xt}from"./circle-x-qKfRTqT4.js";import{C as q}from"./circle-check-big-Do7NRW-9.js";import{G as mt}from"./grip-vertical-S1vCb_T3.js";import{c as Oe}from"./vendor-markdown-Cu8AM8lU.js";import{S as W}from"./sparkles-D3iJUPqd.js";import{T as pt,a as ut}from"./thumbs-up-CvVh3ELI.js";import{L as ht}from"./list-checks-Bm0gBGfe.js";import{A as gt}from"./arrow-right-BfPHyTFx.js";import{C as je}from"./circle-6fOsuLxM.js";import{A as vt}from"./arrow-left-BUrpeDp8.js";import{P as jt}from"./pen-line-VNeSLMlJ.js";import{P as yt}from"./play-BMZi0w5i.js";import{S as Nt}from"./square-CYG0GOOg.js";import{C as bt}from"./copy-DJTzHNZE.js";import{L as ft}from"./layout-grid-B7IR3E3c.js";import{P as ss}from"./printer-B8caXq_N.js";import"./vendor-supabase-Bpw_79gH.js";import"./vendor-router-D_XeKoA_.js";const wt=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],_t=Oe("presentation",wt);const kt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]],us=Oe("square-chart-gantt",kt);const St=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],Ct=Oe("unlink",St),w="rounded-xl border border-[var(--border-primary)] bg-[var(--surface-primary)] shadow-[var(--shadow-sm)]",F="rounded-xl border border-[var(--border-primary)] bg-[var(--surface-primary)]",K="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--interactive-primary)] text-[var(--text-on-brand)] hover:bg-[var(--interactive-primary-hover)] transition-colors disabled:opacity-50",T="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--interactive-secondary)] text-[var(--text-primary)] hover:bg-[var(--interactive-secondary-hover)] border border-[var(--border-primary)] transition-colors disabled:opacity-50",ts="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--status-danger-bg)] text-[var(--status-danger)] hover:opacity-80 transition-colors disabled:opacity-50",D="bg-[var(--bg-tertiary)] border border-[var(--border-primary)] rounded-lg px-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-placeholder)] focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]/40",M="text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]",ye={pending:"var(--color-neutral-500, #64748b)",in_progress:"var(--color-brand-500, #3b82f6)",completed:"var(--color-success-500, #22c55e)",overdue:"var(--color-danger-500, #ef4444)",cancelled:"var(--color-neutral-500, #6b7280)",planning:"var(--color-brand-500, #3b82f6)",active:"var(--color-success-500, #22c55e)",done:"var(--color-success-500, #22c55e)"},as=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#06b6d4","#f43f5e","#84cc16","#6366f1","#14b8a6"];function ue({title:a,data:d,colorMap:i}){const l=u.useMemo(()=>{const t=Object.entries(d).filter(([,x])=>x>0);return t.length===0?[]:t.map(([x,h],g)=>({label:x,value:h,color:i?.[x]||ye[x]||as[g%as.length]}))},[d,i]),o=u.useMemo(()=>Math.max(...l.map(t=>t.value),1),[l]),n=u.useMemo(()=>l.reduce((t,x)=>t+x.value,0),[l]);return l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-[var(--text-tertiary)]",children:[e.jsx(Be,{className:"w-6 h-6 mb-1.5 opacity-40"}),e.jsx("p",{className:"text-[10px]",children:"No data available"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:M,children:a}),e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:[n," total"]})]}),e.jsx("div",{className:"space-y-2",children:l.map(t=>{const x=Math.round(t.value/o*100),h=Math.round(t.value/n*100);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:"text-xs text-[var(--text-secondary)] capitalize truncate max-w-[60%]",children:t.label.replace(/_/g," ")}),e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] tabular-nums",children:[t.value," (",h,"%)"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-[var(--surface-hover)] overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${x}%`,backgroundColor:t.color}})})]},t.label)})})]})}function rs({dailyProgress:a,totalTasks:d,totalPoints:i,usePoints:l=!1}){const o=l?i:d,n=u.useMemo(()=>a?.length?a.map((j,P)=>({...j,remaining:l?j.remaining_points:j.remaining_tasks,idealRemaining:o-o/(a.length-1)*P})):[],[a,o,l]);if(n.length<2)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]",children:[e.jsx(be,{className:"w-8 h-8 mb-2 opacity-40"}),e.jsx("p",{className:"text-xs",children:"Burndown data will appear as tasks are completed"})]});const t=Math.max(o,...n.map(j=>j.remaining)),x=160,h=100,g=j=>j/(n.length-1)*h,S=j=>x-j/(t||1)*x,f=n.map((j,P)=>`${P===0?"M":"L"}${g(P).toFixed(1)},${S(j.remaining).toFixed(1)}`).join(" "),c=n.map((j,P)=>`${P===0?"M":"L"}${g(P).toFixed(1)},${S(j.idealRemaining).toFixed(1)}`).join(" "),_=f+` L${h},${x} L0,${x} Z`,p=(()=>{const j=new Date().toISOString().slice(0,10),P=n.findIndex(I=>I.date>=j);return P>=0?P:n.length-1})(),v=u.useMemo(()=>{if(n.length<=7)return n.map(P=>P.date.slice(5));const j=Math.ceil(n.length/6);return n.map((P,I)=>I%j===0||I===n.length-1?P.date.slice(5):"")},[n]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:M,children:["Burndown (",l?"Points":"Tasks",")"]}),e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:[n[p]?.remaining??0," remaining of ",o]})]}),e.jsx("div",{className:"relative",style:{paddingBottom:"45%"},children:e.jsxs("svg",{viewBox:`-4 -4 ${h+8} ${x+24}`,className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:[[0,.25,.5,.75,1].map(j=>e.jsx("line",{x1:"0",y1:S(t*j),x2:h,y2:S(t*j),stroke:"var(--surface-hover)",strokeWidth:"0.3"},j)),e.jsx("path",{d:_,fill:"rgba(59,130,246,0.08)"}),e.jsx("path",{d:c,fill:"none",stroke:"var(--border-secondary)",strokeWidth:"0.5",strokeDasharray:"2,2"}),e.jsx("path",{d:f,fill:"none",stroke:"var(--color-brand-500, #3b82f6)",strokeWidth:"1",strokeLinejoin:"round"}),p<n.length&&e.jsx("line",{x1:g(p),y1:"0",x2:g(p),y2:x,stroke:"rgba(250,204,21,0.3)",strokeWidth:"0.5",strokeDasharray:"1.5,1.5"}),e.jsx("circle",{cx:g(p),cy:S(n[p]?.remaining??0),r:"2",fill:"var(--color-brand-500, #3b82f6)"}),v.map((j,P)=>j?e.jsx("text",{x:g(P),y:x+10,textAnchor:"middle",className:"fill-[var(--text-tertiary)]",fontSize:"3.5",children:j},P):null)]})}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 justify-center",children:[e.jsxs("span",{className:"flex items-center gap-1 text-[9px] text-[var(--text-tertiary)]",children:[e.jsx("span",{className:"w-3 h-0.5 bg-[var(--color-brand-500)] rounded"})," Actual"]}),e.jsxs("span",{className:"flex items-center gap-1 text-[9px] text-[var(--text-tertiary)]",children:[e.jsx("span",{className:"w-3 h-0.5 bg-[var(--border-secondary)] rounded border-dashed"})," Ideal"]})]})]})}function Pt({history:a}){const d=u.useMemo(()=>a?.length?a.slice(-8):[],[a]),i=u.useMemo(()=>d.length?Math.round(d.reduce((o,n)=>o+n.completed_points,0)/d.length):0,[d]),l=u.useMemo(()=>Math.max(...d.map(o=>Math.max(o.total_points,o.completed_points)),1),[d]);return d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]",children:[e.jsx(Be,{className:"w-8 h-8 mb-2 opacity-40"}),e.jsx("p",{className:"text-xs",children:"Velocity data builds as you complete sprints"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:M,children:"Velocity"}),e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:["Avg: ",i," pts/sprint"]})]}),e.jsx("div",{className:"flex items-end gap-1.5",style:{height:100},children:d.map((o,n)=>{const t=o.total_points/l*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-0.5 group relative",children:[e.jsx("div",{className:"w-full flex flex-col items-center justify-end",style:{height:80},children:e.jsxs("div",{className:"w-full rounded-t relative overflow-hidden",style:{height:`${t}%`,minHeight:2},children:[e.jsx("div",{className:"absolute inset-0 bg-[var(--surface-hover)] rounded-t"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[var(--color-brand-500)]/80 rounded-t transition-all",style:{height:`${o.total_points>0?o.completed_points/o.total_points*100:0}%`}})]})}),e.jsx("span",{className:"text-[8px] text-[var(--text-tertiary)] truncate max-w-full text-center leading-tight",title:o.sprint_name,children:o.sprint_name.length>8?o.sprint_name.slice(0,7)+"…":o.sprint_name}),e.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-[var(--bg-elevated)] border border-[var(--border-primary)] rounded px-1.5 py-0.5 text-[8px] text-[var(--text-primary)] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[o.completed_points,"/",o.total_points," pts"]})]},n)})}),i>0&&e.jsxs("div",{className:"mt-2 h-px w-full relative",children:[e.jsx("div",{className:"absolute inset-x-0 border-t border-dashed border-[var(--status-warning)]/30"}),e.jsx("span",{className:"absolute right-0 -top-2 text-[8px] text-[var(--status-warning)]/60",children:"avg"})]})]})}const ns={low:{color:"text-[var(--status-success)]",bg:"bg-[var(--status-success-bg)]",border:"border-[var(--status-success)]/30",icon:q,label:"Healthy"},medium:{color:"text-[var(--status-warning)]",bg:"bg-[var(--status-warning-bg)]",border:"border-[var(--status-warning)]/30",icon:J,label:"At Risk"},high:{color:"text-orange-400",bg:"bg-orange-500/10",border:"border-orange-500/30",icon:Ms,label:"High Risk"},critical:{color:"text-[var(--status-danger)]",bg:"bg-[var(--status-danger-bg)]",border:"border-[var(--status-danger)]/30",icon:xt,label:"Critical"}},Dt={completion_rate:"Completion",time_progress:"Time Elapsed",velocity_trend:"Velocity",overdue_ratio:"On-time",distribution_balance:"Balance",knowledge_health:"Knowledge"},Re=new Set(["open_risks","high_impact_risks","unresolved_questions"]),At={open_risks:"Open Risks",high_impact_risks:"High-Impact Risks",unresolved_questions:"Unresolved Questions"};function is({score:a,size:d=64,strokeWidth:i=5,color:l}){const o=(d-i)/2,n=2*Math.PI*o,t=n-a/100*n;return e.jsxs("svg",{width:d,height:d,className:"transform -rotate-90",children:[e.jsx("circle",{cx:d/2,cy:d/2,r:o,fill:"none",stroke:"var(--surface-hover)",strokeWidth:i}),e.jsx("circle",{cx:d/2,cy:d/2,r:o,fill:"none",stroke:l,strokeWidth:i,strokeDasharray:n,strokeDashoffset:t,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]})}function ls({health:a,isLoading:d,compact:i}){if(d)return e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(be,{className:"w-5 h-5 text-[var(--text-tertiary)] animate-pulse"})});if(!a)return null;const l=ns[a.risk_level]||ns.medium,o=l.icon,n=a.score>=75?"#22c55e":a.score>=50?"#eab308":a.score>=25?"#f97316":"#ef4444";return i?e.jsxs("div",{className:r("flex items-center gap-2 px-2.5 py-1.5 rounded-lg border",l.bg,l.border),children:[e.jsxs("div",{className:"relative w-8 h-8",children:[e.jsx(is,{score:a.score,size:32,strokeWidth:3,color:n}),e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold",style:{color:n},children:a.score})]}),e.jsxs("div",{children:[e.jsx("span",{className:r("text-[10px] font-medium",l.color),children:l.label}),a.alerts.length>0&&e.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] truncate max-w-[140px]",children:a.alerts[0]})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:M,children:"Sprint Health"}),e.jsxs("div",{className:r("flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded-full border",l.bg,l.color,l.border),children:[e.jsx(o,{className:"w-3 h-3"})," ",l.label]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-16 h-16 shrink-0",children:[e.jsx(is,{score:a.score,size:64,strokeWidth:5,color:n}),e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-lg font-bold",style:{color:n},children:a.score})]}),e.jsx("div",{className:"flex-1 space-y-1.5",children:Object.entries(a.factors).filter(([t])=>!Re.has(t)).map(([t,x])=>{const g=t==="overdue_ratio"?100-x:x,S=g>=70?"#22c55e":g>=40?"#eab308":"#ef4444";return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[9px] mb-0.5",children:[e.jsx("span",{className:"text-[var(--text-tertiary)]",children:Dt[t]||t}),e.jsxs("span",{className:"text-[var(--text-secondary)] tabular-nums",children:[g,"%"]})]}),e.jsx("div",{className:"h-1 rounded-full bg-[var(--surface-hover)] overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${g}%`,backgroundColor:S}})})]},t)})})]}),Object.entries(a.factors).some(([t])=>Re.has(t)&&a.factors[t]>0)&&e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(a.factors).filter(([t,x])=>Re.has(t)&&x>0).map(([t,x])=>{const g=t==="high_impact_risks"?"text-orange-400 bg-orange-500/10 border-orange-500/20":"text-[var(--status-warning)] bg-[var(--status-warning-bg)] border-[var(--status-warning)]/20";return e.jsxs("span",{className:r("text-[9px] px-2 py-0.5 rounded-full border font-medium tabular-nums",g),children:[x," ",At[t]||t]},t)})}),a.alerts.length>0&&e.jsx("div",{className:"space-y-1",children:a.alerts.map((t,x)=>e.jsxs("div",{className:"flex items-start gap-1.5 text-[10px] text-[var(--status-warning)]",children:[e.jsx(J,{className:"w-3 h-3 shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},x))})]})}const Tt=[{id:"pending",label:"To Do",color:"border-[var(--text-tertiary)]/30",dotColor:"bg-[var(--text-tertiary)]"},{id:"in_progress",label:"In Progress",color:"border-[var(--status-info)]/30",dotColor:"bg-[var(--status-info)]"},{id:"overdue",label:"Overdue",color:"border-[var(--status-danger)]/30",dotColor:"bg-[var(--status-danger)]"},{id:"completed",label:"Done",color:"border-[var(--status-success)]/30",dotColor:"bg-[var(--status-success)]"}];function Et({actions:a,onStatusChange:d}){const[i,l]=u.useState(null),[o,n]=u.useState(null),t=u.useCallback((c,_)=>{l(_),c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("text/plain",_),c.currentTarget.style.opacity="0.4"},[]),x=u.useCallback(c=>{c.currentTarget.style.opacity="1",l(null),n(null)},[]),h=u.useCallback((c,_)=>{c.preventDefault(),c.dataTransfer.dropEffect="move",n(_)},[]),g=u.useCallback(()=>{n(null)},[]),S=u.useCallback((c,_)=>{c.preventDefault();const p=c.dataTransfer.getData("text/plain");if(p){const v=a.find(j=>j.id===p);v&&v.status!==_&&d(p,_)}l(null),n(null)},[a,d]),f=c=>c==="high"?"bg-[var(--status-danger)]":c==="medium"?"bg-[var(--status-warning)]":"bg-[var(--text-tertiary)]";return e.jsxs("div",{children:[e.jsx("span",{className:r(M,"block mb-3"),children:"Kanban Board"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:Tt.map(c=>{const _=a.filter(v=>v.status===c.id),p=o===c.id;return e.jsxs("div",{onDragOver:v=>h(v,c.id),onDragLeave:g,onDrop:v=>S(v,c.id),className:r("rounded-xl border bg-[var(--surface-secondary)] min-h-[200px] transition-colors",c.color,p&&"border-[var(--accent-primary)]/50 bg-[var(--status-info-bg)]"),children:[e.jsxs("div",{className:"px-3 py-2 border-b border-[var(--border-primary)] flex items-center gap-2",children:[e.jsx("span",{className:r("w-2 h-2 rounded-full",c.dotColor)}),e.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:c.label}),e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] ml-auto",children:_.length})]}),e.jsxs("div",{className:"p-2 space-y-1.5",children:[_.map(v=>e.jsx("div",{draggable:!0,onDragStart:j=>t(j,v.id),onDragEnd:x,className:r("bg-[var(--surface-primary)] border border-[var(--border-primary)] rounded-lg p-2.5 cursor-grab active:cursor-grabbing hover:border-[var(--accent-primary)]/30 transition-colors group",i===v.id&&"opacity-40"),children:e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx(mt,{className:"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity shrink-0 mt-0.5"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] line-clamp-2 leading-tight",children:v.task||v.title||"(untitled)"}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5",children:[v.priority&&e.jsx("span",{className:r("w-1.5 h-1.5 rounded-full shrink-0",f(v.priority)),title:v.priority}),v.task_points!=null&&e.jsx("span",{className:"text-[8px] px-1 py-0.5 rounded bg-[var(--status-info-bg)] text-[var(--accent-primary)] tabular-nums",children:v.task_points}),v.owner&&e.jsx(ps,{name:v.owner,size:"sm"})]})]})]})},v.id)),_.length===0&&e.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] text-center py-6",children:p?"Drop here":"No tasks"})]})]},c.id)})})]})}const Rt=a=>ye[a]||ye.pending;function Mt({actions:a,sprintStart:d,sprintEnd:i}){const l=u.useMemo(()=>{const t=new Date(d).getTime(),x=new Date(i).getTime(),h=Math.max(1,x-t);return a.slice(0,20).map(g=>{const S=g.created_at?new Date(g.created_at).getTime():t,f=g.deadline?new Date(g.deadline).getTime():x,c=Math.max(0,Math.min(100,(S-t)/h*100)),_=Math.max(2,Math.min(100-c,(f-S)/h*100)),p=(g.depends_on?.length??0)>0;return{action:g,left:c,width:_,hasDeps:p}})},[a,d,i]),o=u.useMemo(()=>{const t=new Date(d).getTime(),x=new Date(i).getTime(),h=Date.now();return Math.max(0,Math.min(100,(h-t)/(x-t)*100))},[d,i]),n=u.useMemo(()=>{const t=new Date(d),h=(new Date(i).getTime()-t.getTime())/864e5,g=Math.max(1,Math.ceil(h/6)),S=[];for(let f=0;f<=h;f+=g){const c=new Date(t.getTime()+f*864e5);S.push({label:`${c.getMonth()+1}/${c.getDate()}`,pct:f/h*100})}return S},[d,i]);return l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-[var(--text-tertiary)]",children:[e.jsx(us,{className:"w-8 h-8 mb-2 opacity-40"}),e.jsx("p",{className:"text-xs",children:"No tasks to display on the timeline"})]}):e.jsxs("div",{children:[e.jsx("span",{className:r(M,"block mb-3"),children:"Timeline"}),e.jsx("div",{className:"relative h-5 mb-1",children:n.map((t,x)=>e.jsx("span",{className:"absolute text-[8px] text-[var(--text-tertiary)] -translate-x-1/2",style:{left:`${t.pct}%`},children:t.label},x))}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-[var(--status-warning)]/30 z-10",style:{left:`${o}%`}}),e.jsx("div",{className:"space-y-1",children:l.map(({action:t,left:x,width:h,hasDeps:g})=>e.jsxs("div",{className:"flex items-center gap-2 group h-7",children:[e.jsxs("div",{className:"w-24 shrink-0 truncate text-[10px] text-[var(--text-secondary)] pr-1",title:t.task||t.title,children:[(t.task||t.title||"").slice(0,18),(t.task||"").length>18?"…":""]}),e.jsxs("div",{className:"flex-1 relative h-full",children:[e.jsx("div",{className:"absolute inset-0 bg-[var(--surface-secondary)] rounded"}),e.jsx("div",{className:r("absolute h-4 top-1.5 rounded-sm transition-all cursor-default",g&&"ring-1 ring-purple-500/40"),style:{left:`${x}%`,width:`${h}%`,backgroundColor:Rt(t.status),opacity:t.status==="completed"?.6:.8},title:`${t.task||t.title} (${t.status})${t.owner?` — ${t.owner}`:""}`})]})]},t.id))})]}),e.jsx("div",{className:"flex items-center gap-3 mt-2 justify-center",children:[{label:"Pending",key:"pending"},{label:"In Progress",key:"in_progress"},{label:"Completed",key:"completed"},{label:"Overdue",key:"overdue"}].map(t=>e.jsxs("span",{className:"flex items-center gap-1 text-[8px] text-[var(--text-tertiary)]",children:[e.jsx("span",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:ye[t.key]}})," ",t.label]},t.label))})]})}function Me({items:a,onAdd:d,onRemove:i,placeholder:l,color:o}){const[n,t]=u.useState(""),x=()=>{n.trim()&&(d(n.trim()),t(""))};return e.jsxs("div",{className:"space-y-1.5",children:[a.map((h,g)=>e.jsxs("div",{className:"flex items-start gap-2 group",children:[e.jsx("span",{className:r("w-1.5 h-1.5 rounded-full mt-1.5 shrink-0",o)}),e.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1",children:h}),e.jsx("button",{onClick:()=>i(g),className:"text-[var(--text-tertiary)] hover:text-[var(--status-danger)] opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Y,{className:"w-3 h-3"})})]},g)),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("input",{value:n,onChange:h=>t(h.target.value),onKeyDown:h=>h.key==="Enter"&&x(),className:r(D,"w-full"),placeholder:l}),e.jsx("button",{onClick:x,className:"shrink-0 w-7 h-7 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] flex items-center justify-center",children:e.jsx(ee,{className:"w-3.5 h-3.5 text-[var(--text-tertiary)]"})})]})]})}function Lt({sprintId:a}){const d=Ls(),[i,l]=u.useState([]),[o,n]=u.useState([]),[t,x]=u.useState([]),[h,g]=u.useState(""),S=()=>{d.mutate({sprintId:a,went_well:i,went_wrong:o,action_items:t},{onSuccess:f=>{g(f?.ai_suggestions||""),y.success("Retrospective generated")},onError:f=>y.error(f.message)})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:M,children:"Sprint Retrospective"}),e.jsxs("button",{onClick:S,disabled:d.isPending,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50",children:[d.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"}),"AI Insights"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:r(F,"p-3"),children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(pt,{className:"w-3.5 h-3.5 text-[var(--status-success)]"}),e.jsx("span",{className:"text-xs font-medium text-[var(--status-success)]",children:"What Went Well"})]}),e.jsx(Me,{items:i,onAdd:f=>l(c=>[...c,f]),onRemove:f=>l(c=>c.filter((_,p)=>p!==f)),placeholder:"Add positive...",color:"bg-[var(--status-success)]"})]}),e.jsxs("div",{className:r(F,"p-3"),children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(ut,{className:"w-3.5 h-3.5 text-[var(--status-danger)]"}),e.jsx("span",{className:"text-xs font-medium text-[var(--status-danger)]",children:"What Needs Improvement"})]}),e.jsx(Me,{items:o,onAdd:f=>n(c=>[...c,f]),onRemove:f=>n(c=>c.filter((_,p)=>p!==f)),placeholder:"Add improvement...",color:"bg-[var(--status-danger)]"})]}),e.jsxs("div",{className:r(F,"p-3"),children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(ht,{className:"w-3.5 h-3.5 text-[var(--accent-primary)]"}),e.jsx("span",{className:"text-xs font-medium text-[var(--accent-primary)]",children:"Action Items"})]}),e.jsx(Me,{items:t,onAdd:f=>x(c=>[...c,f]),onRemove:f=>x(c=>c.filter((_,p)=>p!==f)),placeholder:"Add action item...",color:"bg-[var(--accent-primary)]"})]})]}),h&&e.jsxs("div",{className:r(F,"p-4"),children:[e.jsx("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"AI Insights"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:h})]})]})}function $t({sprintId:a}){const d=$s(),[i,l]=u.useState(null),o=()=>{d.mutate(a,{onSuccess:n=>{l(n),y.success("Standup generated")},onError:n=>y.error(n.message)})};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:M,children:"Daily Standup"}),e.jsxs("button",{onClick:o,disabled:d.isPending,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50",children:[d.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"}),"Generate Standup"]})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)]",children:i.date}),i.ai_summary&&e.jsxs("div",{className:r(F,"p-3"),children:[e.jsx("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"AI Summary"}),e.jsx("p",{className:"mt-1 text-xs text-[var(--text-secondary)] whitespace-pre-wrap",children:i.ai_summary})]}),e.jsx("div",{className:"space-y-2",children:(i.entries||[]).map((n,t)=>e.jsxs("div",{className:r(F,"p-3"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Bs,{className:"w-3.5 h-3.5 text-[var(--accent-primary)]"}),e.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:n.person})]}),e.jsxs("div",{className:"space-y-1.5 pl-5",children:[n.done.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] text-[var(--status-success)] uppercase tracking-wider font-medium",children:"Done"}),n.done.map((x,h)=>e.jsxs("div",{className:"flex items-start gap-1.5 mt-0.5",children:[e.jsx(q,{className:"w-3 h-3 text-[var(--status-success)] shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[11px] text-[var(--text-secondary)]",children:x})]},h))]}),n.doing.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] text-[var(--accent-primary)] uppercase tracking-wider font-medium",children:"Doing"}),n.doing.map((x,h)=>e.jsxs("div",{className:"flex items-start gap-1.5 mt-0.5",children:[e.jsx(gt,{className:"w-3 h-3 text-[var(--accent-primary)] shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[11px] text-[var(--text-secondary)]",children:x})]},h))]}),n.blockers.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] text-[var(--status-danger)] uppercase tracking-wider font-medium",children:"Blockers"}),n.blockers.map((x,h)=>e.jsxs("div",{className:"flex items-start gap-1.5 mt-0.5",children:[e.jsx(J,{className:"w-3 h-3 text-[var(--status-danger)] shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[11px] text-[var(--text-secondary)]",children:x})]},h))]}),n.done.length===0&&n.doing.length===0&&n.blockers.length===0&&e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:"No updates"})]})]},t))})]}),!i&&!d.isPending&&e.jsx("p",{className:"text-xs text-[var(--text-tertiary)] text-center py-4",children:`Click "Generate Standup" to get today's team summary`})]})}function Bt({sprintId:a,actions:d}){const i=Os(),[l,o]=u.useState({}),[n,t]=u.useState(null),[x,h]=u.useState(""),[g,S]=u.useState(""),f=u.useMemo(()=>{const p=new Set;return d.forEach(v=>{v.owner?.trim()&&p.add(v.owner.trim())}),Object.keys(l).forEach(v=>p.add(v)),Array.from(p).sort()},[d,l]),c=()=>{!x.trim()||!g||(o(p=>({...p,[x.trim()]:Number(g)||0})),h(""),S(""))},_=()=>{if(Object.keys(l).length===0){y.error("Set capacity for at least one person");return}i.mutate({sprintId:a,capacities:l},{onSuccess:p=>{t(p),y.success("Capacity analysis complete")},onError:p=>y.error(p.message)})};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:M,children:"Capacity Planning"}),e.jsxs("button",{onClick:_,disabled:i.isPending,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50",children:[i.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"}),"Analyze Capacity"]})]}),e.jsxs("div",{className:r(F,"p-3 space-y-2"),children:[e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider",children:"Team Capacity (points per sprint)"}),f.map(p=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"w-3 h-3 text-[var(--text-tertiary)]"}),e.jsx("span",{className:"text-xs text-[var(--text-primary)] flex-1 truncate",children:p}),e.jsx("input",{type:"number",min:"0",value:l[p]??"",onChange:v=>o(j=>({...j,[p]:Number(v.target.value)||0})),placeholder:"pts",className:r(D,"w-16 text-center")}),l[p]!==void 0&&e.jsx("button",{onClick:()=>o(v=>{const j={...v};return delete j[p],j}),className:"text-[var(--text-tertiary)] hover:text-[var(--status-danger)]",children:e.jsx(Y,{className:"w-3 h-3"})})]},p)),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsx("input",{value:x,onChange:p=>h(p.target.value),placeholder:"Name",className:r(D,"flex-1")}),e.jsx("input",{type:"number",min:"0",value:g,onChange:p=>S(p.target.value),placeholder:"pts",className:r(D,"w-16 text-center"),onKeyDown:p=>p.key==="Enter"&&c()}),e.jsx("button",{onClick:c,className:"w-7 h-7 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] flex items-center justify-center",children:e.jsx(ee,{className:"w-3.5 h-3.5 text-[var(--text-tertiary)]"})})]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:n.capacity.map(p=>{const v=p.utilization,j=p.over_allocated?"#ef4444":v>80?"#f59e0b":"#22c55e",P=Math.min(100,v);return e.jsxs("div",{className:r(F,"p-3"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:p.person}),e.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:j},children:[p.assigned_points,"/",p.available_points," pts (",v,"%)"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-[var(--surface-hover)] overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${P}%`,backgroundColor:j}})}),p.over_allocated&&e.jsxs("p",{className:"text-[9px] text-[var(--status-danger)] mt-1",children:["Over-allocated by ",p.assigned_points-p.available_points," points"]})]},p.person)})}),n.ai_recommendation&&e.jsxs("div",{className:r(F,"p-4"),children:[e.jsx("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"AI Recommendation"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:n.ai_recommendation})]})]})]})}function Ot({sprintId:a,taskDescription:d,onEstimate:i,className:l}){const o=Fs(),[n,t]=u.useState(null),x=()=>{if(!d.trim()){y.error("Task description needed");return}o.mutate({sprintId:a,task:d},{onSuccess:g=>{t(g),i?.(g.points),y.success(`Estimated: ${g.points} points (${g.confidence} confidence)`)},onError:g=>y.error(g.message)})},h=n?.confidence==="high"?"text-[var(--status-success)]":n?.confidence==="medium"?"text-[var(--status-warning)]":"text-orange-400";return e.jsxs("div",{className:r("inline-flex items-center gap-2",l),children:[e.jsxs("button",{onClick:x,disabled:o.isPending,className:"inline-flex items-center gap-1 px-2 py-1 text-[10px] font-medium rounded-md bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50 transition-colors",title:"AI estimate story points",children:[o.isPending?e.jsx(C,{className:"w-3 h-3 animate-spin"}):e.jsx(W,{className:"w-3 h-3"}),"Estimate"]}),n&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-xs font-bold text-[var(--accent-primary)] tabular-nums",children:[n.points," pts"]}),e.jsxs("span",{className:r("text-[9px]",h),children:["(",n.confidence,")"]}),n.reasoning&&e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] max-w-[200px] truncate",title:n.reasoning,children:n.reasoning})]})]})}const Ft=[{key:"sprint_report_style_corporate_classic",label:"Corporate Classic"},{key:"sprint_report_style_modern_minimal",label:"Modern Minimal"},{key:"sprint_report_style_startup_tech",label:"Startup Tech"},{key:"sprint_report_style_consultancy",label:"Consultancy"}];function cs(a,d){const i=new Blob([a],{type:"text/html"}),l=URL.createObjectURL(i),o=document.createElement("a");o.href=l,o.download=d,o.click(),URL.revokeObjectURL(l)}function he(a){const d=new Blob([a],{type:"text/html"}),i=URL.createObjectURL(d),l=window.open(i,"_blank");l&&l.addEventListener("load",()=>{setTimeout(()=>l.print(),600)})}const Ne={planning:{color:"text-[var(--text-tertiary)]",bg:"bg-[var(--surface-secondary)]",border:"border-[var(--border-secondary)]",icon:je},active:{color:"text-[var(--status-success)]",bg:"bg-[var(--status-success-bg)]",border:"border-[var(--status-success)]/30",icon:xs},completed:{color:"text-[var(--status-info)]",bg:"bg-[var(--status-info-bg)]",border:"border-[var(--status-info)]/30",icon:q}},os=a=>a==="completed"?"bg-[var(--status-success)]":a==="in_progress"?"bg-[var(--status-info)]":a==="overdue"?"bg-[var(--status-danger)]":"bg-[var(--text-tertiary)]";function hs(a){return{id:a.id,name:a.name||"",start_date:a.start_date||a.startDate||"",end_date:a.end_date||a.endDate||"",context:a.context||"",goals:a.goals||[],status:a.status||"planning",analysis_start_date:a.analysis_start_date||"",analysis_end_date:a.analysis_end_date||"",project_id:a.project_id||"",created_at:a.created_at||"",updated_at:a.updated_at||""}}function It({onCreated:a}){const d=lt(),[i,l]=u.useState({name:"",start_date:"",end_date:"",context:"",goals:"",analysis_start_date:"",analysis_end_date:""}),o=n=>{if(n.preventDefault(),!i.name||!i.start_date||!i.end_date){y.error("Name, start date and end date are required");return}d.mutate({name:i.name,start_date:i.start_date,end_date:i.end_date,context:i.context||void 0,goals:i.goals?i.goals.split(`
`).filter(t=>t.trim()):void 0,analysis_start_date:i.analysis_start_date||void 0,analysis_end_date:i.analysis_end_date||void 0},{onSuccess:()=>{y.success("Sprint created"),l({name:"",start_date:"",end_date:"",context:"",goals:"",analysis_start_date:"",analysis_end_date:""}),a()},onError:t=>y.error(t.message)})};return e.jsxs("form",{onSubmit:o,className:r(w,"p-5 space-y-4"),children:[e.jsx("h3",{className:M,children:"New Sprint"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Name *"}),e.jsx("input",{value:i.name,onChange:n=>l(t=>({...t,name:n.target.value})),className:r(D,"w-full"),placeholder:"Sprint 1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Start Date *"}),e.jsx("input",{type:"date",value:i.start_date,onChange:n=>l(t=>({...t,start_date:n.target.value})),className:r(D,"w-full"),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"End Date *"}),e.jsx("input",{type:"date",value:i.end_date,onChange:n=>l(t=>({...t,end_date:n.target.value})),className:r(D,"w-full"),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Context"}),e.jsx("input",{value:i.context,onChange:n=>l(t=>({...t,context:n.target.value})),className:r(D,"w-full"),placeholder:"Focus areas, constraints..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Goals (one per line)"}),e.jsx("textarea",{value:i.goals,onChange:n=>l(t=>({...t,goals:n.target.value})),rows:3,className:r(D,"w-full resize-none"),placeholder:`Complete feature X
Fix bug Y`})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Analysis Start Date"}),e.jsx("input",{type:"date",value:i.analysis_start_date,onChange:n=>l(t=>({...t,analysis_start_date:n.target.value})),className:r(D,"w-full")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-[var(--text-tertiary)] mb-1 uppercase tracking-wider",children:"Analysis End Date"}),e.jsx("input",{type:"date",value:i.analysis_end_date,onChange:n=>l(t=>({...t,analysis_end_date:n.target.value})),className:r(D,"w-full")})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:d.isPending,className:K,children:[d.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ee,{className:"w-3.5 h-3.5"}),"Create Sprint"]})})]})}const zt=[{id:"overview",label:"Overview",icon:Be},{id:"kanban",label:"Kanban",icon:ft},{id:"timeline",label:"Timeline",icon:us},{id:"burndown",label:"Burndown",icon:be},{id:"standup",label:"Standup",icon:ms},{id:"capacity",label:"Capacity",icon:ds},{id:"documents",label:"Documents",icon:ve},{id:"retro",label:"Retro",icon:$e},{id:"report",label:"Report & Export",icon:nt}];function Gt({sprintId:a}){const d=ct({sprint_id:a,limit:100}),i=ot(),l=d.data?.documents??[];return d.isLoading?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(C,{className:"w-6 h-6 animate-spin text-[var(--accent-primary)]"})}):l.length===0?e.jsxs("div",{className:w+" p-8 text-center",children:[e.jsx(ve,{className:"w-10 h-10 mx-auto mb-3 text-[var(--text-tertiary)]"}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:"No documents associated with this sprint."}),e.jsx("p",{className:"text-xs text-[var(--text-tertiary)] mt-1",children:"Import files from Krisp or assign existing documents to this sprint in the Files page."})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-xs text-[var(--text-tertiary)]",children:[l.length," document(s) in this sprint"]})}),l.map(o=>{const t=o.file_size;return e.jsxs("div",{className:w+" p-3 flex items-center gap-3",children:[e.jsx(ve,{className:"w-4 h-4 text-[var(--text-tertiary)] flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:o.original_filename||o.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.type&&e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] capitalize",children:o.type}),o.created_at&&e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:new Date(o.created_at).toLocaleDateString()}),t&&e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:[(t/1024).toFixed(1)," KB"]})]})]}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${o.status==="processed"||o.status==="completed"?"bg-green-500/10 text-green-400":o.status==="processing"?"bg-blue-500/10 text-blue-400":"bg-yellow-500/10 text-yellow-400"}`,children:o.status||"—"}),e.jsx("button",{onClick:()=>i.mutate({id:o.id,sprint_id:null},{onSuccess:()=>y.success("Removed from sprint")}),className:"p-1.5 text-[var(--text-tertiary)] hover:text-red-400 transition-colors",title:"Remove from sprint",children:e.jsx(Ct,{className:"w-3.5 h-3.5"})})]},o.id)})]})}function qt({sprintId:a,onBack:d}){const i=Rs(),{data:l,isLoading:o}=qs(a),{data:n,isLoading:t,error:x}=Hs(a),{data:h,error:g}=Us(a),{data:S,isLoading:f,error:c}=Ks(a),_=Ws(),p=Qs(),v=Vs(),j=Ys(),P=Xs(),I=Zs(),H=Js(),fe=et(),se=st(),we=tt(),[$,Fe]=u.useState("overview"),[Ie,_e]=u.useState(!1),[z,te]=u.useState({task:"",owner:"",priority:"medium"}),[B,ae]=u.useState(null),[re,ze]=u.useState(new Set),[ne,Ge]=u.useState(new Set),[ie,qe]=u.useState(""),[le,He]=u.useState(""),[ce,oe]=u.useState(!1),[E,G]=u.useState({name:"",context:"",goals:"",start_date:"",end_date:"",analysis_start_date:"",analysis_end_date:""}),[gs,ke]=u.useState(!1),Q=at(),V=rt(),[X,Ue]=u.useState(!0),[Z,Ke]=u.useState(!0),[Se,We]=u.useState("sprint_report_style_corporate_classic"),[Ce,Pe]=u.useState(null),[De,Ae]=u.useState(null);u.useEffect(()=>{Fe("overview"),qe(""),He(""),oe(!1),ke(!1),Ue(!0),Ke(!0),We("sprint_report_style_corporate_classic"),Pe(null),Ae(null),ae(null),_e(!1)},[a]);const b=u.useMemo(()=>{const s=l?.sprint??l;return s?hs(s):{id:a,name:"",start_date:"",end_date:"",status:"planning"}},[l,a]),N=n,L=N?.actions??[],de=N?.breakdown??{by_status:{},by_assignee:{}},U=N?.total_tasks??L.length,A=N?.graph_context,xe=N?.completed_tasks??L.filter(s=>s.status==="completed").length,Te=N?.total_task_points??0,Qe=N?.completed_task_points??0,vs=U>0?Math.round(xe/U*100):0,js=u.useMemo(()=>{const s={};return L.forEach(m=>{const k=m.status||"pending";s[k]||(s[k]=[]),s[k].push(m)}),s},[L]),ys=u.useCallback(()=>{G({name:b.name,context:b.context||"",goals:(b.goals||[]).join(`
`),start_date:b.start_date?.slice(0,10)||"",end_date:b.end_date?.slice(0,10)||"",analysis_start_date:b.analysis_start_date?.slice(0,10)||"",analysis_end_date:b.analysis_end_date?.slice(0,10)||""}),oe(!0)},[b]),Ns=()=>{P.mutate({id:b.id,name:E.name,context:E.context||void 0,goals:E.goals?E.goals.split(`
`).filter(s=>s.trim()):[],start_date:E.start_date||void 0,end_date:E.end_date||void 0,analysis_start_date:E.analysis_start_date||void 0,analysis_end_date:E.analysis_end_date||void 0},{onSuccess:()=>{y.success("Sprint updated"),oe(!1)},onError:s=>y.error(s.message)})},bs=()=>{I.mutate(b.id,{onSuccess:()=>{y.success("Sprint deleted"),d()},onError:s=>y.error(s.message)})},Ee=s=>{H.mutate({sprintId:b.id,status:s},{onSuccess:()=>y.success(`Sprint marked as ${s}`),onError:m=>y.error(m.message)})},fs=()=>{_.mutate(a,{onSuccess:s=>{const m={proposed_new_tasks:s?.proposed_new_tasks??[],existing_action_ids:s?.existing_action_ids??[],existing_details:s?.existing_details??[]};ae(m);const k=new Set;m.proposed_new_tasks.forEach((pe,Es)=>k.add(Es)),ze(k);const O=new Set(m.existing_action_ids);Ge(O),y.success(`Generated ${m.proposed_new_tasks.length} new tasks, found ${m.existing_action_ids.length} existing`)},onError:s=>y.error(s.message)})},ws=()=>{if(!B)return;const s=B.proposed_new_tasks.filter((k,O)=>re.has(O)),m=B.existing_action_ids.filter(k=>ne.has(k));p.mutate({sprintId:a,new_tasks:s,existing_action_ids:m},{onSuccess:k=>{y.success(`Created ${k?.created??0} tasks, linked ${k?.linked??0} existing`),ae(null)},onError:k=>y.error(k.message)})},Ve=()=>{v.mutate(a,{onSuccess:s=>{qe(s?.ai_analysis||s?.analysis||""),y.success("Analysis complete")},onError:s=>y.error(s.message)})},Ye=()=>{j.mutate(a,{onSuccess:s=>{He(s?.business_report||s?.summary||""),y.success("Business report ready")},onError:s=>y.error(s.message)})},_s=()=>{Q.mutate({sprintId:b.id,style:Se,include_analysis:X,include_business:Z},{onSuccess:s=>{s?.html&&(Pe(s.html),cs(s.html,`sprint-${b.name||b.id}-report.html`),y.success("Document downloaded"))},onError:s=>y.error(s.message)})},ks=()=>{V.mutate({sprintId:b.id,include_analysis:X,include_business:Z},{onSuccess:s=>{s?.html&&(Ae(s.html),cs(s.html,`sprint-${b.name||b.id}-presentation.html`),y.success("Presentation downloaded"))},onError:s=>y.error(s.message)})},Ss=()=>{Ce?he(Ce):Q.mutate({sprintId:b.id,style:Se,include_analysis:X,include_business:Z},{onSuccess:s=>{s?.html&&(Pe(s.html),he(s.html))},onError:s=>y.error(s.message)})},Cs=()=>{De?he(De):V.mutate({sprintId:b.id,include_analysis:X,include_business:Z},{onSuccess:s=>{s?.html&&(Ae(s.html),he(s.html))},onError:s=>y.error(s.message)})},Ps=()=>{fe.mutate({sprintId:b.id},{onSuccess:s=>{y.success(`Sprint cloned: ${s?.sprint?.name||"Copy"}${s?.tasks_cloned?` with ${s.tasks_cloned} tasks`:""}`)},onError:s=>y.error(s.message)})},Ds=u.useCallback((s,m)=>{se.mutate({id:s,status:m},{onSuccess:()=>{i.invalidateQueries({queryKey:["sprint",a]}),i.invalidateQueries({queryKey:["sprintReport",a]}),y.success("Task status updated")},onError:()=>y.error("Failed to update status")})},[se,i,a]),Xe=()=>{z.task.trim()&&we.mutate({task:z.task.trim(),owner:z.owner.trim()||void 0,priority:z.priority,status:"pending",sprint_id:a},{onSuccess:()=>{i.invalidateQueries({queryKey:["sprint",a]}),i.invalidateQueries({queryKey:["sprintReport",a]}),y.success("Task added to sprint"),te({task:"",owner:"",priority:"medium"}),_e(!1)},onError:()=>y.error("Failed to add task")})},As=u.useCallback(s=>{se.mutate({id:s,sprint_id:null},{onSuccess:()=>{i.invalidateQueries({queryKey:["sprint",a]}),i.invalidateQueries({queryKey:["sprintReport",a]}),y.success("Task removed from sprint")},onError:()=>y.error("Failed to remove task")})},[se,i,a]),R=h,Ze=S;if(o)return e.jsxs("div",{className:"space-y-5 animate-pulse",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--surface-hover)]"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 w-48 rounded bg-[var(--surface-hover)]"}),e.jsx("div",{className:"h-3 w-32 rounded bg-[var(--surface-hover)]"})]}),e.jsx("div",{className:"h-6 w-20 rounded-full bg-[var(--surface-hover)]"})]}),e.jsxs("div",{className:r(w,"p-4 space-y-2"),children:[e.jsx("div",{className:"h-3 w-16 rounded bg-[var(--surface-hover)]"}),e.jsx("div",{className:"h-3 w-full rounded bg-[var(--surface-hover)]"}),e.jsx("div",{className:"h-3 w-3/4 rounded bg-[var(--surface-hover)]"})]}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-8 w-24 rounded-lg bg-[var(--surface-hover)]"},s))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[1,2,3,4].map(s=>e.jsx("div",{className:r(w,"p-3 h-20")},s))})]});const me=Ne[b.status]||Ne.planning,Ts=me.icon;return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:d,className:"mt-1 w-8 h-8 rounded-lg bg-[var(--surface-secondary)] flex items-center justify-center hover:bg-[var(--surface-hover)] shrink-0",children:e.jsx(vt,{className:"w-4 h-4 text-[var(--text-tertiary)]"})}),e.jsx("div",{className:"flex-1 min-w-0",children:ce?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{value:E.name,onChange:s=>G(m=>({...m,name:s.target.value})),className:r(D,"w-full text-lg font-bold")}),e.jsx("input",{value:E.context,onChange:s=>G(m=>({...m,context:s.target.value})),className:r(D,"w-full"),placeholder:"Context..."}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] uppercase",children:"Start Date"}),e.jsx("input",{type:"date",value:E.start_date,onChange:s=>G(m=>({...m,start_date:s.target.value})),className:r(D,"w-full")})]}),e.jsxs("label",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] uppercase",children:"End Date"}),e.jsx("input",{type:"date",value:E.end_date,onChange:s=>G(m=>({...m,end_date:s.target.value})),className:r(D,"w-full")})]}),e.jsxs("label",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] uppercase",children:"Analysis Start"}),e.jsx("input",{type:"date",value:E.analysis_start_date,onChange:s=>G(m=>({...m,analysis_start_date:s.target.value})),className:r(D,"w-full")})]}),e.jsxs("label",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] uppercase",children:"Analysis End"}),e.jsx("input",{type:"date",value:E.analysis_end_date,onChange:s=>G(m=>({...m,analysis_end_date:s.target.value})),className:r(D,"w-full")})]})]}),e.jsx("textarea",{value:E.goals,onChange:s=>G(m=>({...m,goals:s.target.value})),className:r(D,"w-full resize-none"),rows:2,placeholder:"Goals (one per line)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:Ns,disabled:P.isPending,className:K,children:[P.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(q,{className:"w-3.5 h-3.5"})," Save"]}),e.jsxs("button",{onClick:()=>oe(!1),className:T,children:[e.jsx(Y,{className:"w-3.5 h-3.5"})," Cancel"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold text-[var(--text-primary)] truncate",children:b.name||"Sprint"}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[e.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:[b.start_date?new Date(b.start_date).toLocaleDateString():"?"," — ",b.end_date?new Date(b.end_date).toLocaleDateString():"?"]}),b.context&&e.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:["· ",b.context]})]})]})}),!ce&&e.jsx("div",{className:"flex items-center gap-2 shrink-0",children:e.jsxs("span",{className:r("text-[10px] font-medium px-2.5 py-1 rounded-full border capitalize",me.bg,me.color,me.border),children:[e.jsx(Ts,{className:"w-3 h-3 inline mr-1"}),b.status]})})]}),!ce&&b.goals&&b.goals.length>0&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("h3",{className:M,children:"Goals"}),e.jsx("ul",{className:"mt-2 space-y-1.5",children:b.goals.map((s,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--text-secondary)]",children:[e.jsx($e,{className:"w-3.5 h-3.5 text-[var(--accent-primary)] mt-0.5 shrink-0"}),s]},m))})]}),!ce&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:ys,className:T,children:[e.jsx(jt,{className:"w-3.5 h-3.5"})," Edit"]}),b.status==="planning"&&e.jsxs("button",{onClick:()=>Ee("active"),disabled:H.isPending,className:r(T,"text-[var(--status-success)] border-[var(--status-success)]/30"),children:[H.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(yt,{className:"w-3.5 h-3.5"})," Start Sprint"]}),b.status==="active"&&e.jsxs("button",{onClick:()=>Ee("completed"),disabled:H.isPending,className:r(T,"text-[var(--status-info)] border-[var(--status-info)]/30"),children:[H.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Nt,{className:"w-3.5 h-3.5"})," Complete Sprint"]}),b.status==="completed"&&e.jsxs("button",{onClick:()=>Ee("planning"),disabled:H.isPending,className:T,children:[H.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(je,{className:"w-3.5 h-3.5"})," Reopen"]}),e.jsx("div",{className:"w-px h-6 bg-[var(--border-primary)] self-center"}),e.jsxs("button",{onClick:fs,disabled:_.isPending,className:K,children:[_.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Je,{className:"w-3.5 h-3.5"})," Generate Tasks (AI)"]}),e.jsxs("button",{onClick:Ve,disabled:v.isPending,className:r(T,"text-purple-400 border-purple-400/30"),children:[v.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"})," AI Analysis"]}),e.jsxs("button",{onClick:Ye,disabled:j.isPending,className:r(T,"text-emerald-400 border-emerald-400/30"),children:[j.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(W,{className:"w-3.5 h-3.5"})," Business Report"]}),e.jsxs("button",{onClick:Ps,disabled:fe.isPending,className:T,children:[fe.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(bt,{className:"w-3.5 h-3.5"})," Clone"]}),e.jsx("div",{className:"flex-1"}),gs?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:bs,disabled:I.isPending,className:ts,children:[I.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(es,{className:"w-3.5 h-3.5"})," Confirm Delete"]}),e.jsx("button",{onClick:()=>ke(!1),className:T,children:e.jsx(Y,{className:"w-3.5 h-3.5"})})]}):e.jsxs("button",{onClick:()=>ke(!0),className:ts,children:[e.jsx(es,{className:"w-3.5 h-3.5"})," Delete"]})]}),B&&e.jsxs("div",{className:r(w,"p-4 space-y-3"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:M,children:"AI Generated Tasks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:ws,disabled:p.isPending||re.size===0&&ne.size===0,className:K,children:[p.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(q,{className:"w-3.5 h-3.5"}),"Apply Selected (",re.size+ne.size,")"]}),e.jsxs("button",{onClick:()=>ae(null),className:T,children:[e.jsx(Y,{className:"w-3.5 h-3.5"})," Dismiss"]})]})]}),B.proposed_new_tasks.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5",children:["New Tasks (",B.proposed_new_tasks.length,")"]}),e.jsx("div",{className:"space-y-1.5",children:B.proposed_new_tasks.map((s,m)=>e.jsxs("label",{className:"flex items-start gap-2 p-2 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.has(m),onChange:k=>{ze(O=>{const pe=new Set(O);return k.target.checked?pe.add(m):pe.delete(m),pe})},className:"mt-0.5 rounded border-[var(--border-primary)]"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:s.task}),s.description&&e.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] mt-0.5 line-clamp-2",children:s.description})]}),s.size_estimate&&e.jsx("span",{className:"text-[9px] px-2 py-0.5 rounded-full bg-[var(--status-info-bg)] text-[var(--status-info)] shrink-0",children:s.size_estimate}),s.priority&&e.jsx("span",{className:r("text-[9px] px-2 py-0.5 rounded-full shrink-0",s.priority==="high"||s.priority==="urgent"?"bg-[var(--status-danger-bg)] text-[var(--status-danger)]":s.priority==="medium"?"bg-[var(--status-warning-bg)] text-[var(--status-warning)]":"bg-[var(--surface-secondary)] text-[var(--text-tertiary)]"),children:s.priority})]},m))})]}),B.existing_details&&B.existing_details.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5",children:["Existing Actions to Link (",B.existing_details.length,")"]}),e.jsx("div",{className:"space-y-1.5",children:B.existing_details.map(s=>e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg bg-[var(--surface-secondary)] hover:bg-[var(--surface-hover)] cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ne.has(s.id),onChange:m=>{Ge(k=>{const O=new Set(k);return m.target.checked?O.add(s.id):O.delete(s.id),O})},className:"rounded border-[var(--border-primary)]"}),e.jsx("span",{className:"text-xs text-[var(--text-primary)] flex-1 truncate",children:s.task}),e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] capitalize",children:s.status})]},s.id))})]})]}),ie&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("h3",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"AI Analysis"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:ie})]}),le&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("h3",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-[0.1em]",children:"Business Report"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:le})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx(ls,{health:Ze,isLoading:f,compact:!0}),R?.daily_progress&&e.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:[R.completed_tasks,"/",R.total_tasks," tasks · ",R.completed_points,"/",R.total_points," pts"]})]}),e.jsx("div",{className:"flex gap-1 bg-[var(--surface-secondary)] rounded-xl p-1 border border-[var(--border-primary)] overflow-x-auto",children:zt.map(s=>{const m=s.icon;return e.jsxs("button",{onClick:()=>Fe(s.id),className:r("flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium transition-colors whitespace-nowrap",$===s.id?"bg-[var(--interactive-primary)]/15 text-[var(--accent-primary)]":"text-[var(--text-tertiary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-hover)]"),children:[e.jsx(m,{className:"w-3.5 h-3.5"}),s.label]},s.id)})}),e.jsx(Le,{mode:"wait",children:e.jsxs(ge.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.15},children:[$==="overview"&&e.jsxs("div",{className:"space-y-5",children:[t&&e.jsxs("div",{className:"flex items-center justify-center py-6 gap-2",children:[e.jsx(C,{className:"w-4 h-4 animate-spin text-[var(--accent-primary)]"}),e.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:"Loading report data..."})]}),(x||g||c)&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-[var(--status-danger-bg)] border border-[var(--status-danger)]/20",children:[e.jsx(J,{className:"w-4 h-4 text-[var(--status-danger)] shrink-0"}),e.jsx("span",{className:"text-xs text-[var(--status-danger)]",children:"Some report data failed to load. Partial data may be shown."})]}),U>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Total Tasks",value:U},{label:"Completed",value:xe,sub:U>0?`${Math.round(xe/U*100)}%`:""},{label:"Total Points",value:N?.total_task_points??0},{label:"Done Points",value:N?.completed_task_points??0}].map(s=>e.jsxs("div",{className:r(w,"p-3 text-center"),children:[e.jsx("p",{className:"text-2xl font-bold text-[var(--text-primary)]",children:s.value}),e.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider",children:s.label}),s.sub&&e.jsx("p",{className:"text-xs text-[var(--accent-primary)] mt-0.5",children:s.sub})]},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:r(w,"p-4"),children:e.jsx(ue,{title:"By Status",data:de.by_status})}),e.jsx("div",{className:r(w,"p-4"),children:e.jsx(ue,{title:"By Assignee",data:de.by_assignee})})]})]}),e.jsx("div",{className:r(w,"p-4"),children:e.jsx(ls,{health:Ze,isLoading:f})}),A&&(A.assignees?.length||A.sprint_name)&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("h3",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"Graph Context"}),e.jsxs("div",{className:"mt-2 space-y-1.5",children:[A.sprint_name&&e.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[e.jsx("span",{className:"text-[var(--text-tertiary)]",children:"Sprint node:"})," ",A.sprint_name,A.sprint_context&&e.jsxs("span",{className:"text-[var(--text-tertiary)]",children:[" — ",A.sprint_context]})]}),A.assignees&&A.assignees.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:"Assignees:"}),A.assignees.map(s=>e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-purple-500/10 text-purple-400",children:s},s))]})]})]}),e.jsxs("div",{className:r(w,"p-4"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:M,children:["Sprint Tasks (",L.length,")"]}),e.jsxs("button",{onClick:()=>_e(!Ie),className:T,children:[e.jsx(ee,{className:"w-3 h-3"})," Add Task"]})]}),e.jsx(Le,{children:Ie&&e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-3 space-y-2 p-3 rounded-lg bg-[var(--surface-secondary)] border border-[var(--border-primary)]",children:[e.jsx("input",{value:z.task,onChange:s=>te(m=>({...m,task:s.target.value})),className:r(D,"w-full"),placeholder:"Task description...",onKeyDown:s=>s.key==="Enter"&&Xe()}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:z.owner,onChange:s=>te(m=>({...m,owner:s.target.value})),className:r(D,"flex-1"),placeholder:"Owner (optional)"}),e.jsxs("select",{value:z.priority,onChange:s=>te(m=>({...m,priority:s.target.value})),className:r(D,"w-28"),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]}),e.jsx("button",{onClick:Xe,disabled:!z.task.trim()||we.isPending,className:K,children:we.isPending?e.jsx(C,{className:"w-3 h-3 animate-spin"}):"Add"})]})]})})})]}),L.length>0&&e.jsx("div",{className:r(w,"p-4"),children:e.jsx("div",{className:"mt-3 space-y-4",children:["in_progress","pending","overdue","completed"].map(s=>{const m=js[s];return!m||m.length===0?null:e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider mb-1.5 flex items-center gap-1.5",children:[e.jsx("span",{className:r("w-2 h-2 rounded-full",os(s))}),s.replace("_"," ")," (",m.length,")"]}),e.jsx("div",{className:"space-y-1",children:m.map(k=>e.jsxs("div",{className:"group flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-[var(--surface-hover)]",children:[e.jsx("span",{className:r("w-1.5 h-1.5 rounded-full shrink-0",os(k.status))}),e.jsx("span",{className:r("text-xs flex-1 truncate",k.status==="completed"?"line-through text-[var(--text-tertiary)]":"text-[var(--text-primary)]"),children:k.task||k.title||"(untitled)"}),k.owner&&e.jsx(ps,{name:k.owner,size:"sm"}),k.task_points!=null&&e.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-[var(--status-info-bg)] text-[var(--accent-primary)] tabular-nums",children:[k.task_points,"pt"]}),e.jsx(Ot,{sprintId:a,taskDescription:k.task||k.title||""}),e.jsx("button",{onClick:O=>{O.stopPropagation(),As(k.id)},className:"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:bg-[var(--status-danger-bg)] text-[var(--status-danger)] transition-all",title:"Remove from sprint",children:e.jsx(Y,{className:"w-3 h-3"})})]},k.id))})]},s)})})}),N?.knowledge_counts&&(N.knowledge_counts.facts>0||N.knowledge_counts.decisions>0||N.knowledge_counts.risks>0||N.knowledge_counts.questions>0)&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsxs("h3",{className:r(M,"mb-3 flex items-center gap-1.5"),children:[e.jsx(W,{className:"w-3.5 h-3.5"})," Knowledge Base"]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[{label:"Facts",count:N.knowledge_counts.facts,color:"text-blue-400"},{label:"Decisions",count:N.knowledge_counts.decisions,color:"text-emerald-400"},{label:"Risks",count:N.knowledge_counts.risks,color:"text-orange-400"},{label:"Questions",count:N.knowledge_counts.questions,color:"text-purple-400"}].map(s=>e.jsxs("div",{className:"text-center p-2 rounded-lg bg-[var(--surface-hover)]",children:[e.jsx("p",{className:r("text-lg font-bold tabular-nums",s.color),children:s.count}),e.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] uppercase tracking-wider",children:s.label})]},s.label))}),e.jsxs("div",{className:"space-y-3",children:[(N.facts?.length??0)>0&&e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-[var(--text-secondary)] uppercase tracking-wider hover:text-[var(--text-primary)]",children:[e.jsx(q,{className:"w-3 h-3 text-blue-400"})," Facts (",N.facts.length,")"]}),e.jsxs("div",{className:"mt-1.5 space-y-1 pl-4",children:[N.facts.slice(0,15).map((s,m)=>e.jsxs("div",{className:"text-xs text-[var(--text-secondary)] py-1 border-l-2 border-blue-400/30 pl-2",children:[e.jsxs("span",{className:"text-[9px] text-blue-400 mr-1",children:["[",s.category||"general","]"]}),typeof s.content=="string"?s.content.slice(0,200):""]},s.id||m)),N.facts.length>15&&e.jsxs("p",{className:"text-[9px] text-[var(--text-tertiary)] pl-2",children:["+",N.facts.length-15," more"]})]})]}),(N.decisions?.length??0)>0&&e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-[var(--text-secondary)] uppercase tracking-wider hover:text-[var(--text-primary)]",children:[e.jsx($e,{className:"w-3 h-3 text-emerald-400"})," Decisions (",N.decisions.length,")"]}),e.jsxs("div",{className:"mt-1.5 space-y-1 pl-4",children:[N.decisions.slice(0,15).map((s,m)=>e.jsxs("div",{className:"text-xs text-[var(--text-secondary)] py-1 border-l-2 border-emerald-400/30 pl-2",children:[e.jsxs("span",{className:"text-[9px] text-emerald-400 mr-1",children:["[",s.status||"active","]"]}),typeof s.content=="string"?s.content.slice(0,200):"",s.owner&&e.jsxs("span",{className:"text-[9px] text-[var(--text-tertiary)] ml-1",children:["(",s.owner,")"]})]},s.id||m)),N.decisions.length>15&&e.jsxs("p",{className:"text-[9px] text-[var(--text-tertiary)] pl-2",children:["+",N.decisions.length-15," more"]})]})]}),(N.risks?.length??0)>0&&e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-[var(--text-secondary)] uppercase tracking-wider hover:text-[var(--text-primary)]",children:[e.jsx(J,{className:"w-3 h-3 text-orange-400"})," Risks (",N.risks.length,")"]}),e.jsxs("div",{className:"mt-1.5 space-y-1 pl-4",children:[N.risks.slice(0,15).map((s,m)=>e.jsxs("div",{className:"text-xs text-[var(--text-secondary)] py-1 border-l-2 border-orange-400/30 pl-2",children:[e.jsxs("span",{className:r("text-[9px] mr-1",s.status==="open"?"text-orange-400":"text-[var(--text-tertiary)]"),children:["[",s.impact||"medium","/",s.status||"open","]"]}),typeof s.content=="string"?s.content.slice(0,200):""]},s.id||m)),N.risks.length>15&&e.jsxs("p",{className:"text-[9px] text-[var(--text-tertiary)] pl-2",children:["+",N.risks.length-15," more"]})]})]}),(N.questions?.length??0)>0&&e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-[var(--text-secondary)] uppercase tracking-wider hover:text-[var(--text-primary)]",children:[e.jsx(ms,{className:"w-3 h-3 text-purple-400"})," Questions (",N.questions.length,")"]}),e.jsxs("div",{className:"mt-1.5 space-y-1 pl-4",children:[N.questions.slice(0,15).map((s,m)=>e.jsxs("div",{className:"text-xs text-[var(--text-secondary)] py-1 border-l-2 border-purple-400/30 pl-2",children:[e.jsxs("span",{className:r("text-[9px] mr-1",s.status==="answered"||s.status==="closed"?"text-[var(--text-tertiary)]":"text-purple-400"),children:["[",s.priority||"medium","/",s.status||"open","]"]}),typeof s.content=="string"?s.content.slice(0,200):""]},s.id||m)),N.questions.length>15&&e.jsxs("p",{className:"text-[9px] text-[var(--text-tertiary)] pl-2",children:["+",N.questions.length-15," more"]})]})]})]})]})]}),$==="kanban"&&e.jsx("div",{className:r(w,"p-4"),children:e.jsx(Et,{actions:L,onStatusChange:Ds})}),$==="timeline"&&e.jsx("div",{className:r(w,"p-4"),children:e.jsx(Mt,{actions:L,sprintStart:b.start_date,sprintEnd:b.end_date})}),$==="burndown"&&e.jsxs("div",{className:"space-y-4",children:[R?.daily_progress?e.jsx("div",{className:r(w,"p-4"),children:e.jsx(rs,{dailyProgress:R.daily_progress,totalTasks:R.total_tasks,totalPoints:R.total_points})}):e.jsxs("div",{className:r(w,"p-8 text-center"),children:[e.jsx(be,{className:"w-8 h-8 mx-auto text-[var(--text-tertiary)] mb-2"}),e.jsx("p",{className:"text-xs text-[var(--text-tertiary)]",children:"Burndown data will appear as tasks are completed"})]}),R?.daily_progress&&e.jsx("div",{className:r(w,"p-4"),children:e.jsx(rs,{dailyProgress:R.daily_progress,totalTasks:R.total_tasks,totalPoints:R.total_points,usePoints:!0})}),R?.velocity_history?.length>0&&e.jsx("div",{className:r(w,"p-4"),children:e.jsx(Pt,{history:R.velocity_history})})]}),$==="standup"&&e.jsx($t,{sprintId:a}),$==="capacity"&&e.jsx(Bt,{sprintId:a,actions:L}),$==="retro"&&e.jsx(Lt,{sprintId:a}),$==="documents"&&e.jsx(Gt,{sprintId:a}),$==="report"&&e.jsx("div",{className:"space-y-5",children:t?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"w-6 h-6 animate-spin text-[var(--accent-primary)]"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Total Tasks",value:U,sub:""},{label:"Completed",value:xe,sub:`${vs}%`},{label:"Total Points",value:Te,sub:""},{label:"Done Points",value:Qe,sub:Te>0?`${Math.round(Qe/Te*100)}%`:""}].map(s=>e.jsxs("div",{className:r(w,"p-3 text-center"),children:[e.jsx("p",{className:"text-2xl font-bold text-[var(--text-primary)]",children:s.value}),e.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider",children:s.label}),s.sub&&e.jsx("p",{className:"text-xs text-[var(--accent-primary)] mt-0.5",children:s.sub})]},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:r(w,"p-4"),children:e.jsx(ue,{title:"By Status",data:de.by_status})}),e.jsx("div",{className:r(w,"p-4"),children:e.jsx(ue,{title:"By Assignee",data:de.by_assignee})})]}),A&&(A.assignees?.length||A.sprint_name)&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"Graph Context"}),e.jsxs("div",{className:"mt-2 space-y-1.5",children:[A.sprint_name&&e.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[e.jsx("span",{className:"text-[var(--text-tertiary)]",children:"Sprint node:"})," ",A.sprint_name,A.sprint_context&&e.jsxs("span",{className:"text-[var(--text-tertiary)]",children:[" — ",A.sprint_context]})]}),A.assignees&&A.assignees.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)]",children:"Assignees:"}),A.assignees.map(s=>e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-purple-500/10 text-purple-400",children:s},s))]})]})]}),L.length>0&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsxs("span",{className:"text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]",children:["Tasks (",L.length,")"]}),e.jsx("div",{className:"mt-2 space-y-1 max-h-48 overflow-y-auto",children:L.map(s=>{const m=s.status==="completed";return e.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-[var(--surface-hover)]",children:[m?e.jsx(q,{className:"w-3.5 h-3.5 text-[var(--status-success)] shrink-0"}):e.jsx(je,{className:"w-3.5 h-3.5 text-[var(--text-tertiary)] shrink-0"}),e.jsx("span",{className:r("text-xs flex-1 truncate",m?"line-through text-[var(--text-tertiary)]":"text-[var(--text-primary)]"),children:s.task||s.title||"(untitled)"}),s.owner&&e.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] truncate max-w-[100px]",children:s.owner}),e.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] capitalize shrink-0",children:s.status})]},s.id)})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:Ve,disabled:v.isPending,className:r(T,"text-purple-400 border-purple-400/30"),children:[v.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Je,{className:"w-3.5 h-3.5"}),"AI Analysis"]}),e.jsxs("button",{onClick:Ye,disabled:j.isPending,className:r(T,"text-emerald-400 border-emerald-400/30"),children:[j.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(it,{className:"w-3.5 h-3.5"}),"Business Report"]})]}),ie&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-[0.1em]",children:"AI Analysis"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:ie})]}),le&&e.jsxs("div",{className:r(w,"p-4"),children:[e.jsx("span",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-[0.1em]",children:"Business Report"}),e.jsx("div",{className:"mt-2 text-xs text-[var(--text-secondary)] whitespace-pre-wrap leading-relaxed",children:le})]}),e.jsxs("div",{className:r(w,"p-4 space-y-3"),children:[e.jsx("span",{className:"text-[10px] font-bold text-[var(--accent-primary)] uppercase tracking-[0.1em]",children:"Export"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:X,onChange:s=>Ue(s.target.checked),className:"rounded border-[var(--border-primary)]"}),"Include AI Analysis"]}),e.jsxs("label",{className:"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Z,onChange:s=>Ke(s.target.checked),className:"rounded border-[var(--border-primary)]"}),"Include Business Report"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] uppercase tracking-wider block mb-1",children:"Document Style"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Ft.map(s=>e.jsx("button",{onClick:()=>We(s.key),className:r("px-2.5 py-1 rounded-md text-[10px] font-medium border transition-colors",Se===s.key?"bg-[var(--interactive-primary)]/20 text-[var(--accent-primary)] border-[var(--accent-primary)]/30":"bg-[var(--surface-secondary)] text-[var(--text-tertiary)] border-[var(--border-primary)] hover:text-[var(--text-primary)]"),children:s.label},s.key))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-1",children:[e.jsxs("button",{onClick:_s,disabled:Q.isPending,className:r(K),children:[Q.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ve,{className:"w-3.5 h-3.5"}),"Download A4 Document"]}),e.jsxs("button",{onClick:ks,disabled:V.isPending,className:r(T,"text-orange-400 border-orange-400/30"),children:[V.isPending?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(_t,{className:"w-3.5 h-3.5"}),"Download Presentation"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:Ss,disabled:Q.isPending,className:T,children:[Q.isPending&&!Ce?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ss,{className:"w-3.5 h-3.5"}),"Open Document for PDF"]}),e.jsxs("button",{onClick:Cs,disabled:V.isPending,className:T,children:[V.isPending&&!De?e.jsx(C,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ss,{className:"w-3.5 h-3.5"}),"Open Presentation for PDF"]})]})]})]})})]},$)})]})}function ha(){const a=Is(),{data:d,isLoading:i}=a,[l,o]=u.useState(null),[n,t]=u.useState(!1),x=u.useMemo(()=>(d?.sprints??(Array.isArray(d)?d:[])).map(_=>hs(_)),[d]),h=x.filter(c=>c.status==="active"),g=x.filter(c=>c.status==="planning"),S=x.filter(c=>c.status==="completed");if(l)return e.jsx("div",{className:"p-6",children:e.jsx(qt,{sprintId:l,onBack:()=>o(null)})});const f=c=>{const _=Ne[c.status]||Ne.planning,p=_.icon;return e.jsxs(ge.div,{layout:!0,className:r(w,"p-4 hover:border-[var(--accent-primary)]/30 transition-colors cursor-pointer"),onClick:()=>o(c.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:r("w-4 h-4 shrink-0",_.color)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:c.name||"Unnamed Sprint"}),e.jsxs("p",{className:"text-[10px] text-[var(--text-tertiary)]",children:[c.start_date?new Date(c.start_date).toLocaleDateString():"?"," — ",c.end_date?new Date(c.end_date).toLocaleDateString():"?",c.context&&e.jsxs("span",{className:"ml-2",children:["· ",c.context.substring(0,50),c.context.length>50?"...":""]})]})]}),e.jsx("span",{className:r("text-[10px] font-medium px-2.5 py-1 rounded-full border capitalize",_.bg,_.color,_.border),children:c.status}),e.jsx(Gs,{className:"w-4 h-4 text-[var(--text-tertiary)]"})]}),c.goals&&c.goals.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2 ml-7",children:[c.goals.slice(0,3).map((v,j)=>e.jsx("span",{className:"text-[9px] px-2 py-0.5 rounded-full bg-[var(--surface-secondary)] text-[var(--text-tertiary)]",children:v},j)),c.goals.length>3&&e.jsxs("span",{className:"text-[9px] text-[var(--text-tertiary)]",children:["+",c.goals.length-3," more"]})]})]},c.id)};return e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Sprints"}),e.jsxs("p",{className:"text-xs text-[var(--text-tertiary)]",children:[x.length," sprint",x.length!==1?"s":"",h.length>0&&e.jsxs("span",{className:"text-[var(--status-success)] ml-2",children:["· ",h.length," active"]})]})]}),e.jsxs("button",{onClick:()=>t(!n),className:K,children:[e.jsx(ee,{className:"w-3.5 h-3.5"})," New Sprint"]})]}),e.jsx(Le,{children:n&&e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx(It,{onCreated:()=>t(!1)})})}),a.error?e.jsx(dt,{message:"Failed to load sprints.",onRetry:()=>a.refetch()}):i?e.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3].map(c=>e.jsx("div",{className:r(w,"p-4"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-[var(--surface-hover)]"}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx("div",{className:"h-4 w-40 rounded bg-[var(--surface-hover)]"}),e.jsx("div",{className:"h-3 w-56 rounded bg-[var(--surface-hover)]"})]}),e.jsx("div",{className:"h-5 w-16 rounded-full bg-[var(--surface-hover)]"})]})},c))}):x.length===0?e.jsxs("div",{className:r(w,"p-12 text-center"),children:[e.jsx(zs,{className:"w-10 h-10 mx-auto text-[var(--text-tertiary)] mb-3"}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:"No sprints yet. Create your first sprint to get started."})]}):e.jsxs("div",{className:"space-y-6",children:[h.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-bold text-[var(--status-success)] uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[e.jsx(xs,{className:"w-3.5 h-3.5"})," Active (",h.length,")"]}),e.jsx("div",{className:"space-y-3",children:h.map(f)})]}),g.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-bold text-[var(--text-tertiary)] uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[e.jsx(je,{className:"w-3.5 h-3.5"})," Planning (",g.length,")"]}),e.jsx("div",{className:"space-y-3",children:g.map(f)})]}),S.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-bold text-[var(--accent-primary)] uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[e.jsx(q,{className:"w-3.5 h-3.5"})," Completed (",S.length,")"]}),e.jsx("div",{className:"space-y-3",children:S.map(f)})]})]})]})}export{ha as default};
//# sourceMappingURL=SprintsPage-1kXkwG-K.js.map
