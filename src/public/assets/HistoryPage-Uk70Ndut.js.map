{"version":3,"file":"HistoryPage-Uk70Ndut.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/log-in.js","../../../node_modules/lucide-react/dist/esm/icons/pencil.js","../../../node_modules/lucide-react/dist/esm/icons/user-minus.js","../../frontend/src/components/shared/PersonAvatar.tsx","../../frontend/src/pages/HistoryPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m10 17 5-5-5-5\", key: \"1bsop3\" }],\n  [\"path\", { d: \"M15 12H3\", key: \"6jk70r\" }],\n  [\"path\", { d: \"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\", key: \"u53s6r\" }]\n];\nconst LogIn = createLucideIcon(\"log-in\", __iconNode);\n\nexport { __iconNode, LogIn as default };\n//# sourceMappingURL=log-in.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n];\nconst Pencil = createLucideIcon(\"pencil\", __iconNode);\n\nexport { __iconNode, Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.564.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserMinus = createLucideIcon(\"user-minus\", __iconNode);\n\nexport { __iconNode, UserMinus as default };\n//# sourceMappingURL=user-minus.js.map\n","import { useState } from 'react';\r\nimport { resolveAvatarUrl, getInitials, cn } from '../../lib/utils';\r\n\r\ninterface PersonAvatarProps {\r\n  person: Record<string, unknown> | null | undefined;\r\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\r\n  className?: string;\r\n  showInfo?: boolean;\r\n  infoClassName?: string;\r\n}\r\n\r\nconst SIZES = {\r\n  xs: { box: 'w-6 h-6', text: 'text-[8px]', img: 'w-6 h-6' },\r\n  sm: { box: 'w-8 h-8', text: 'text-[10px]', img: 'w-8 h-8' },\r\n  md: { box: 'w-10 h-10', text: 'text-xs', img: 'w-10 h-10' },\r\n  lg: { box: 'w-14 h-14', text: 'text-sm', img: 'w-14 h-14' },\r\n  xl: { box: 'w-20 h-20', text: 'text-lg', img: 'w-20 h-20' },\r\n};\r\n\r\nconst GRADIENTS = [\r\n  'from-blue-500 to-indigo-600',\r\n  'from-emerald-500 to-teal-600',\r\n  'from-violet-500 to-purple-600',\r\n  'from-amber-500 to-orange-600',\r\n  'from-rose-500 to-pink-600',\r\n  'from-cyan-500 to-sky-600',\r\n];\r\n\r\nfunction gradientFor(name: string): string {\r\n  let hash = 0;\r\n  for (let i = 0; i < name.length; i++) hash = name.charCodeAt(i) + ((hash << 5) - hash);\r\n  return GRADIENTS[Math.abs(hash) % GRADIENTS.length];\r\n}\r\n\r\nexport function PersonAvatar({ person, size = 'md', className, showInfo, infoClassName }: PersonAvatarProps) {\r\n  const [imgError, setImgError] = useState(false);\r\n  const url = resolveAvatarUrl(person);\r\n  const name = String(person?.name || person?.display_name || person?.username || person?.email || '');\r\n  const initials = getInitials(name);\r\n  const s = SIZES[size];\r\n\r\n  const role = String(person?.cargo || person?.role || person?.title || '');\r\n  const company = String(person?.empresa || person?.organization || person?.company || '');\r\n\r\n  const avatar = url && !imgError ? (\r\n    <img src={url} alt={name} onError={() => setImgError(true)}\r\n      className={cn(s.img, 'rounded-full object-cover flex-shrink-0', className)} />\r\n  ) : (\r\n    <div className={cn(s.box, 'rounded-full flex items-center justify-center flex-shrink-0 bg-gradient-to-br', gradientFor(name), className)}>\r\n      <span className={cn(s.text, 'font-bold text-white leading-none')}>{initials}</span>\r\n    </div>\r\n  );\r\n\r\n  if (!showInfo) return avatar;\r\n\r\n  return (\r\n    <div className={cn('flex items-center gap-2.5 min-w-0', infoClassName)}>\r\n      {avatar}\r\n      <div className=\"min-w-0 flex-1\">\r\n        <p className=\"text-xs font-medium text-[var(--gm-text-primary)] truncate\">{name || 'Unknown'}</p>\r\n        {(role || company) && (\r\n          <p className=\"text-[10px] text-[var(--gm-text-tertiary)] truncate\">\r\n            {role}{role && company ? ' · ' : ''}{company}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useMemo, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n  useActivityLog, useProcessingHistory,\r\n  type ActivityEntry, type ProcessingHistoryEntry,\r\n} from '../hooks/useGodMode';\r\nimport { useProject } from '../contexts/ProjectContext';\r\nimport {\r\n  Search, Download, ChevronDown, X, Plus, Pencil, Trash2,\r\n  RotateCw, Zap, Upload, Clock, Filter, FileText, HelpCircle,\r\n  ShieldAlert, Lightbulb, CheckSquare, GitCommit, Users, Mail,\r\n  Calendar, Activity, Cpu, UserPlus, UserMinus, Settings, Key,\r\n  MessageSquare, LogIn, LogOut, Loader2, ChevronRight,\r\n} from 'lucide-react';\r\nimport { cn } from '../lib/utils';\r\nimport { PersonAvatar } from '../components/shared/PersonAvatar';\r\nimport { ErrorState } from '../components/shared/ErrorState';\r\nimport { Skeleton } from '../components/ui/skeleton';\r\n\r\n// ── Style tokens (aligned with ProfilePage) ────────────────────────────────\r\n\r\nconst CARD = 'rounded-xl border border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] shadow-[var(--shadow-sm)] transition-all duration-200';\r\nconst BTN_PRIMARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] hover:bg-[var(--gm-interactive-primary-hover)] shadow-sm transition-all duration-150 disabled:opacity-50';\r\nconst BTN_SECONDARY = 'inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--gm-interactive-secondary)] text-[var(--gm-text-primary)] hover:bg-[var(--gm-interactive-secondary-hover)] border border-[var(--gm-border-primary)] transition-all duration-150';\r\nconst INPUT = 'w-full bg-[var(--gm-bg-tertiary)] border border-[var(--gm-border-primary)] rounded-lg px-3 py-2 text-sm text-[var(--gm-text-primary)] placeholder:text-[var(--gm-text-placeholder)] focus:outline-none focus:border-[var(--gm-border-focus)] focus:shadow-[var(--shadow-focus)] transition-all duration-150';\r\nconst SECTION_TITLE = 'text-[10px] font-bold text-[var(--gm-accent-primary)] uppercase tracking-[0.1em]';\r\n\r\ntype HistoryTab = 'activity' | 'processing';\r\n\r\nconst NAV_ITEMS: { id: HistoryTab; label: string; icon: typeof Activity }[] = [\r\n  { id: 'activity', label: 'Activity Log', icon: Activity },\r\n  { id: 'processing', label: 'Processing', icon: Cpu },\r\n];\r\n\r\nfunction SectionHeader({ title, subtitle }: { title: string; subtitle?: string }) {\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <h2 className=\"text-lg font-bold text-[var(--gm-text-primary)]\">{title}</h2>\r\n      {subtitle && <p className=\"text-xs text-[var(--gm-text-tertiary)] mt-0.5\">{subtitle}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ── Action / Entity config ──────────────────────────────────────────────────\r\n\r\nconst ACTION_CFG: Record<string, { icon: typeof Plus; color: string; bg: string; border: string; label: string }> = {\r\n  created:   { icon: Plus,       color: 'text-green-500',  bg: 'bg-green-500/10',  border: 'border-green-500/30',  label: 'Created' },\r\n  updated:   { icon: Pencil,     color: 'text-blue-500',   bg: 'bg-blue-500/10',   border: 'border-blue-500/30',   label: 'Updated' },\r\n  deleted:   { icon: Trash2,     color: 'text-red-500',    bg: 'bg-red-500/10',    border: 'border-red-500/30',    label: 'Deleted' },\r\n  restored:  { icon: RotateCw,   color: 'text-yellow-500', bg: 'bg-yellow-500/10', border: 'border-yellow-500/30', label: 'Restored' },\r\n  processed: { icon: Zap,        color: 'text-cyan-500',   bg: 'bg-cyan-500/10',   border: 'border-cyan-500/30',   label: 'Processed' },\r\n  uploaded:  { icon: Upload,     color: 'text-purple-500', bg: 'bg-purple-500/10', border: 'border-purple-500/30', label: 'Uploaded' },\r\n  added:     { icon: UserPlus,   color: 'text-emerald-500',bg: 'bg-emerald-500/10',border: 'border-emerald-500/30',label: 'Added' },\r\n  removed:   { icon: UserMinus,  color: 'text-orange-500', bg: 'bg-orange-500/10', border: 'border-orange-500/30', label: 'Removed' },\r\n  changed:   { icon: Settings,   color: 'text-indigo-500', bg: 'bg-indigo-500/10', border: 'border-indigo-500/30', label: 'Changed' },\r\n  login:     { icon: LogIn,      color: 'text-teal-500',   bg: 'bg-teal-500/10',   border: 'border-teal-500/30',   label: 'Login' },\r\n  logout:    { icon: LogOut,     color: 'text-slate-500',  bg: 'bg-slate-500/10',  border: 'border-slate-500/30',  label: 'Logout' },\r\n  access:    { icon: Key,        color: 'text-rose-500',   bg: 'bg-rose-500/10',   border: 'border-rose-500/30',   label: 'Access' },\r\n  comment:   { icon: MessageSquare, color: 'text-sky-500', bg: 'bg-sky-500/10',    border: 'border-sky-500/30',    label: 'Comment' },\r\n};\r\n\r\nconst ENTITY_CFG: Record<string, { icon: typeof FileText; label: string }> = {\r\n  project:  { icon: FileText,    label: 'Project' },\r\n  document: { icon: FileText,    label: 'Document' },\r\n  fact:     { icon: Lightbulb,   label: 'Fact' },\r\n  question: { icon: HelpCircle,  label: 'Question' },\r\n  risk:     { icon: ShieldAlert, label: 'Risk' },\r\n  action:   { icon: CheckSquare, label: 'Action' },\r\n  decision: { icon: GitCommit,   label: 'Decision' },\r\n  contact:  { icon: Users,       label: 'Contact' },\r\n  email:    { icon: Mail,        label: 'Email' },\r\n  member:   { icon: Users,       label: 'Member' },\r\n  invite:   { icon: UserPlus,    label: 'Invite' },\r\n  content:  { icon: FileText,    label: 'Content' },\r\n  comment:  { icon: MessageSquare, label: 'Comment' },\r\n  settings: { icon: Settings,    label: 'Settings' },\r\n  user:     { icon: Users,       label: 'User' },\r\n  password: { icon: Key,         label: 'Auth' },\r\n  admin:    { icon: Key,         label: 'Admin' },\r\n};\r\n\r\nconst DEFAULT_ACTION = { icon: Pencil, color: 'text-blue-500', bg: 'bg-blue-500/10', border: 'border-blue-500/30', label: 'Action' };\r\nconst DEFAULT_ENTITY = { icon: FileText, label: 'Item' };\r\n\r\nfunction parseActivityAction(action: string): { actionKey: string; entityKey: string } {\r\n  const parts = action.split('.');\r\n  const entityKey = parts[0] || 'item';\r\n  const actionKey = parts[1] || 'updated';\r\n  return { actionKey, entityKey };\r\n}\r\n\r\nfunction getActionCfg(key: string) {\r\n  return ACTION_CFG[key] || DEFAULT_ACTION;\r\n}\r\n\r\nfunction getEntityCfg(key: string) {\r\n  return ENTITY_CFG[key] || DEFAULT_ENTITY;\r\n}\r\n\r\n// ── Time helpers ────────────────────────────────────────────────────────────\r\n\r\nfunction getDateKey(ts: string): string {\r\n  return ts ? new Date(ts).toISOString().split('T')[0] : 'unknown';\r\n}\r\n\r\nfunction getDateLabel(dateStr: string): string {\r\n  const d = new Date(dateStr);\r\n  const now = new Date();\r\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n  const diff = Math.floor((today.getTime() - new Date(d.getFullYear(), d.getMonth(), d.getDate()).getTime()) / 86400000);\r\n  if (diff === 0) return 'Today';\r\n  if (diff === 1) return 'Yesterday';\r\n  if (diff < 7) return d.toLocaleDateString('en-US', { weekday: 'long' });\r\n  return d.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: d.getFullYear() !== now.getFullYear() ? 'numeric' : undefined });\r\n}\r\n\r\nfunction relativeTime(ts: string): string {\r\n  const mins = Math.floor((Date.now() - new Date(ts).getTime()) / 60000);\r\n  if (mins < 1) return 'just now';\r\n  if (mins < 60) return `${mins}m ago`;\r\n  const hrs = Math.floor(mins / 60);\r\n  if (hrs < 24) return `${hrs}h ago`;\r\n  const days = Math.floor(hrs / 24);\r\n  if (days < 7) return `${days}d ago`;\r\n  return new Date(ts).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n}\r\n\r\nfunction snakeToTitle(s: string): string {\r\n  return s.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());\r\n}\r\n\r\n// ── Unified entry type ──────────────────────────────────────────────────────\r\n\r\ninterface TimelineEntry {\r\n  id: string;\r\n  actionKey: string;\r\n  entityKey: string;\r\n  title: string;\r\n  description?: string;\r\n  timestamp: string;\r\n  actor?: { name: string; avatar_url?: string };\r\n  metadata?: Record<string, unknown>;\r\n  source: 'activity' | 'processing';\r\n}\r\n\r\nfunction activityToTimeline(a: ActivityEntry): TimelineEntry {\r\n  const { actionKey, entityKey } = parseActivityAction(a.action);\r\n  const meta = a.metadata || {};\r\n  const name = String(meta.name || meta.target_name || meta.filename || '');\r\n  const aCfg = getActionCfg(actionKey);\r\n  const eCfg = getEntityCfg(entityKey);\r\n  return {\r\n    id: a.id,\r\n    actionKey,\r\n    entityKey,\r\n    title: name || `${eCfg.label} ${aCfg.label.toLowerCase()}`,\r\n    description: meta.description ? String(meta.description) : undefined,\r\n    timestamp: a.created_at,\r\n    actor: a.actor ? {\r\n      name: a.actor.display_name || a.actor.username || 'Unknown',\r\n      avatar_url: a.actor.avatar_url || undefined,\r\n    } : undefined,\r\n    metadata: meta,\r\n    source: 'activity',\r\n  };\r\n}\r\n\r\nfunction processingToTimeline(p: ProcessingHistoryEntry, idx: number): TimelineEntry {\r\n  const stats: string[] = [];\r\n  if (p.facts_extracted) stats.push(`${p.facts_extracted} facts`);\r\n  if (p.questions_added) stats.push(`${p.questions_added} questions`);\r\n  if (p.decisions_added) stats.push(`${p.decisions_added} decisions`);\r\n  if (p.risks_added) stats.push(`${p.risks_added} risks`);\r\n  if (p.actions_added) stats.push(`${p.actions_added} actions`);\r\n  if (p.people_added) stats.push(`${p.people_added} contacts`);\r\n  return {\r\n    id: `proc-${idx}-${p.timestamp}`,\r\n    actionKey: 'processed',\r\n    entityKey: 'document',\r\n    title: p.filename || 'Document processing',\r\n    description: stats.length ? `Extracted: ${stats.join(', ')}` : undefined,\r\n    timestamp: p.timestamp,\r\n    metadata: {\r\n      status: p.status,\r\n      model: p.model_used,\r\n      tokens: p.tokens_used,\r\n      duration_ms: p.duration_ms,\r\n      files_processed: p.files_processed,\r\n    },\r\n    source: 'processing',\r\n  };\r\n}\r\n\r\n// ── Skeleton ────────────────────────────────────────────────────────────────\r\n\r\nfunction HistorySkeleton() {\r\n  return (\r\n    <div className=\"flex-1 p-6 space-y-5 animate-in fade-in duration-300\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <Skeleton className=\"h-6 w-36 bg-[var(--gm-surface-secondary)]\" />\r\n        <Skeleton className=\"h-8 w-48 rounded-lg bg-[var(--gm-surface-secondary)]\" />\r\n      </div>\r\n      <div className=\"flex gap-2\">{[1, 2, 3, 4, 5].map(i => <Skeleton key={i} className=\"h-7 w-20 rounded-lg bg-[var(--gm-surface-secondary)]\" />)}</div>\r\n      {[1, 2, 3].map(g => (\r\n        <div key={g} className=\"space-y-3\">\r\n          <Skeleton className=\"h-4 w-40 bg-[var(--gm-surface-secondary)]\" />\r\n          {[1, 2, 3].map(i => (\r\n            <div key={i} className={cn(CARD, 'flex items-start gap-3 p-3')}>\r\n              <Skeleton className=\"h-9 w-9 rounded-lg shrink-0 bg-[var(--gm-surface-secondary)]\" />\r\n              <div className=\"flex-1 space-y-2\">\r\n                <Skeleton className=\"h-3 w-2/3 bg-[var(--gm-surface-secondary)]\" />\r\n                <Skeleton className=\"h-2.5 w-1/3 bg-[var(--gm-surface-secondary)]\" />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ── Filter pill button ──────────────────────────────────────────────────────\r\n\r\nfunction FilterPill({\r\n  active, onClick, icon: Icon, label, activeColor, activeBg, activeBorder,\r\n}: {\r\n  active: boolean; onClick: () => void; icon: typeof Plus; label: string;\r\n  activeColor?: string; activeBg?: string; activeBorder?: string;\r\n}) {\r\n  return (\r\n    <button onClick={onClick} aria-pressed={active}\r\n      className={cn(\r\n        'px-2 py-1 rounded-md text-[10px] font-medium transition-all border flex items-center gap-1',\r\n        active\r\n          ? `${activeBg || 'bg-blue-500/10'} ${activeBorder || 'border-blue-500/30'} ${activeColor || 'text-blue-500'}`\r\n          : 'bg-[var(--gm-surface-secondary)] border-transparent text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)] hover:border-[var(--gm-border-primary)]'\r\n      )}>\r\n      <Icon className=\"w-3 h-3\" /> {label}\r\n    </button>\r\n  );\r\n}\r\n\r\n// ── Timeline entry card ─────────────────────────────────────────────────────\r\n\r\nfunction EntryCard({ entry, isOpen, onToggle }: { entry: TimelineEntry; isOpen: boolean; onToggle: () => void }) {\r\n  const aCfg = getActionCfg(entry.actionKey);\r\n  const eCfg = getEntityCfg(entry.entityKey);\r\n  const ActionIcon = aCfg.icon;\r\n  const meta = entry.metadata;\r\n\r\n  return (\r\n    <div className={cn(CARD, 'overflow-hidden hover:border-[var(--gm-interactive-primary)] hover:shadow-md')}>\r\n      <div className=\"py-3 px-4 flex items-start gap-3 cursor-pointer\" onClick={onToggle}>\r\n        <div className={cn('rounded-lg flex items-center justify-center shrink-0 h-8 w-8', aCfg.bg)}>\r\n          <ActionIcon className={cn('w-4 h-4', aCfg.color)} />\r\n        </div>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"flex items-center gap-2 flex-wrap\">\r\n            <span className={cn('text-[10px] font-medium px-1.5 py-0.5 rounded border', aCfg.bg, aCfg.border, aCfg.color)}>\r\n              {aCfg.label}\r\n            </span>\r\n            <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-[var(--gm-surface-secondary)] text-[var(--gm-text-tertiary)]\">\r\n              {eCfg.label}\r\n            </span>\r\n          </div>\r\n          <p className=\"text-sm text-[var(--gm-text-primary)] mt-1 leading-snug truncate\">{entry.title}</p>\r\n          {entry.description && (\r\n            <p className=\"text-[10px] text-[var(--gm-text-tertiary)] mt-0.5 truncate\">{entry.description}</p>\r\n          )}\r\n          <div className=\"flex items-center gap-3 mt-1.5\">\r\n            {entry.actor && (\r\n              <div className=\"flex items-center gap-1.5\">\r\n                <PersonAvatar person={{ name: entry.actor.name, avatar_url: entry.actor.avatar_url }} size=\"xs\" />\r\n                <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">{entry.actor.name}</span>\r\n              </div>\r\n            )}\r\n            {entry.timestamp && (\r\n              <span className=\"text-[10px] text-[var(--gm-text-tertiary)] opacity-60\" title={new Date(entry.timestamp).toLocaleString()}>\r\n                {relativeTime(entry.timestamp)}\r\n              </span>\r\n            )}\r\n            {entry.source === 'processing' && meta?.model && (\r\n              <span className=\"text-[9px] px-1.5 py-0.5 rounded bg-[var(--gm-surface-secondary)] text-[var(--gm-text-tertiary)]\">\r\n                {String(meta.model)}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <ChevronDown className={cn('w-3.5 h-3.5 text-[var(--gm-text-tertiary)] transition-transform mt-1', isOpen && 'rotate-180')} />\r\n      </div>\r\n      {isOpen && meta && Object.keys(meta).length > 0 && (\r\n        <div className=\"px-4 pb-3 border-t border-[var(--gm-border-primary)] pt-3\">\r\n          <div className=\"grid grid-cols-[auto_1fr] gap-x-4 gap-y-1\">\r\n            {Object.entries(meta).filter(([, v]) => v !== null && v !== undefined && v !== '').map(([k, v]) => (\r\n              <div key={k} className=\"contents\">\r\n                <span className=\"text-[10px] font-medium text-[var(--gm-text-tertiary)]\">{snakeToTitle(k)}</span>\r\n                <span className=\"text-[10px] text-[var(--gm-text-secondary)] truncate\">\r\n                  {typeof v === 'object' ? JSON.stringify(v) : String(v)}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ── Main page ───────────────────────────────────────────────────────────────\r\n\r\nconst ITEMS_PER_PAGE = 50;\r\n\r\nconst ACTIVITY_ACTION_FILTERS = [\r\n  { key: 'created',   label: 'Created' },\r\n  { key: 'updated',   label: 'Updated' },\r\n  { key: 'deleted',   label: 'Deleted' },\r\n  { key: 'processed', label: 'Processed' },\r\n  { key: 'uploaded',  label: 'Uploaded' },\r\n  { key: 'added',     label: 'Added' },\r\n  { key: 'removed',   label: 'Removed' },\r\n  { key: 'changed',   label: 'Changed' },\r\n] as const;\r\n\r\nconst ENTITY_FILTERS = [\r\n  'project', 'document', 'content', 'member', 'invite', 'fact',\r\n  'question', 'risk', 'action', 'decision', 'contact', 'email',\r\n] as const;\r\n\r\nexport default function HistoryPage() {\r\n  const { project } = useProject();\r\n  const [tab, setTab] = useState<HistoryTab>('activity');\r\n  const [search, setSearch] = useState('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState('');\r\n  const [actionFilter, setActionFilter] = useState('');\r\n  const [entityFilter, setEntityFilter] = useState('');\r\n  const [dateFrom, setDateFrom] = useState('');\r\n  const [dateTo, setDateTo] = useState('');\r\n  const [expandedId, setExpandedId] = useState<string | null>(null);\r\n  const [showExport, setShowExport] = useState(false);\r\n  const [visibleCount, setVisibleCount] = useState(ITEMS_PER_PAGE);\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n  const exportRef = useRef<HTMLDivElement>(null);\r\n\r\n  const activityQuery = useActivityLog({ limit: 500 });\r\n  const processingQuery = useProcessingHistory();\r\n\r\n  // Auto-select processing tab if activity is empty but processing has data\r\n  const [autoSwitched, setAutoSwitched] = useState(false);\r\n  useEffect(() => {\r\n    if (autoSwitched) return;\r\n    if (!activityQuery.isLoading && !processingQuery.isLoading) {\r\n      const actCount = activityQuery.data?.activities?.length ?? 0;\r\n      const procCount = (processingQuery.data ?? []).length;\r\n      if (actCount === 0 && procCount > 0) {\r\n        setTab('processing');\r\n        setAutoSwitched(true);\r\n      }\r\n    }\r\n  }, [activityQuery.isLoading, processingQuery.isLoading, activityQuery.data, processingQuery.data, autoSwitched]);\r\n\r\n  const isLoading = tab === 'activity' ? activityQuery.isLoading : processingQuery.isLoading;\r\n  const isError = tab === 'activity' ? activityQuery.isError : processingQuery.isError;\r\n  const refetch = tab === 'activity' ? activityQuery.refetch : processingQuery.refetch;\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setDebouncedSearch(search), 200);\r\n    return () => clearTimeout(t);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    setVisibleCount(ITEMS_PER_PAGE);\r\n    setExpandedId(null);\r\n  }, [tab, actionFilter, entityFilter, dateFrom, dateTo, debouncedSearch]);\r\n\r\n  const allEntries: TimelineEntry[] = useMemo(() => {\r\n    if (tab === 'activity') {\r\n      const raw = activityQuery.data;\r\n      const activities = raw?.activities ?? [];\r\n      return activities.map(activityToTimeline);\r\n    }\r\n    const history = processingQuery.data ?? [];\r\n    return history.map(processingToTimeline);\r\n  }, [tab, activityQuery.data, processingQuery.data]);\r\n\r\n  const filtered = useMemo(() => {\r\n    return allEntries.filter(e => {\r\n      if (actionFilter && e.actionKey !== actionFilter) return false;\r\n      if (entityFilter && e.entityKey !== entityFilter) return false;\r\n      if (dateFrom && e.timestamp < dateFrom) return false;\r\n      if (dateTo) {\r\n        const endDate = dateTo + 'T23:59:59.999Z';\r\n        if (e.timestamp > endDate) return false;\r\n      }\r\n      if (debouncedSearch) {\r\n        const text = `${e.title} ${e.description || ''} ${e.actor?.name || ''} ${e.actionKey} ${e.entityKey}`.toLowerCase();\r\n        if (!text.includes(debouncedSearch.toLowerCase())) return false;\r\n      }\r\n      return true;\r\n    });\r\n  }, [allEntries, actionFilter, entityFilter, dateFrom, dateTo, debouncedSearch]);\r\n\r\n  const visible = useMemo(() => filtered.slice(0, visibleCount), [filtered, visibleCount]);\r\n  const hasMore = visibleCount < filtered.length;\r\n\r\n  const grouped = useMemo(() => {\r\n    const map = new Map<string, TimelineEntry[]>();\r\n    const order: string[] = [];\r\n    visible.forEach(e => {\r\n      const dk = getDateKey(e.timestamp);\r\n      if (!map.has(dk)) { map.set(dk, []); order.push(dk); }\r\n      map.get(dk)!.push(e);\r\n    });\r\n    const todayKey = new Date().toISOString().split('T')[0];\r\n    return order.map(dk => ({\r\n      dateKey: dk,\r\n      label: dk === 'unknown' ? 'Unknown Date' : getDateLabel(dk),\r\n      isToday: dk === todayKey,\r\n      entries: map.get(dk)!,\r\n    }));\r\n  }, [visible]);\r\n\r\n  const clearFilters = useCallback(() => {\r\n    setSearch(''); setActionFilter(''); setEntityFilter('');\r\n    setDateFrom(''); setDateTo('');\r\n  }, []);\r\n  const hasFilters = search || actionFilter || entityFilter || dateFrom || dateTo;\r\n\r\n  const handleExport = useCallback((format: 'json' | 'csv') => {\r\n    setShowExport(false);\r\n    const rows = filtered.map(e => ({\r\n      action: e.actionKey, entity: e.entityKey,\r\n      title: e.title, description: e.description || '',\r\n      actor: e.actor?.name || '', timestamp: e.timestamp,\r\n    }));\r\n    let blob: Blob, filename: string;\r\n    const dateSuffix = new Date().toISOString().split('T')[0];\r\n    if (format === 'json') {\r\n      blob = new Blob([JSON.stringify(rows, null, 2)], { type: 'application/json' });\r\n      filename = `history-${dateSuffix}.json`;\r\n    } else {\r\n      const hdr = Object.keys(rows[0] || {});\r\n      const csv = [hdr.join(','), ...rows.map(r => hdr.map(h => `\"${String((r as Record<string, string>)[h] || '').replace(/\"/g, '\"\"')}\"`).join(','))];\r\n      blob = new Blob([csv.join('\\n')], { type: 'text/csv' });\r\n      filename = `history-${dateSuffix}.csv`;\r\n    }\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url; a.download = filename; a.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [filtered]);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handler = (e: KeyboardEvent) => {\r\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\r\n        if (e.key === 'Escape') { (e.target as HTMLElement).blur(); setSearch(''); }\r\n        return;\r\n      }\r\n      if (e.key === '/') { e.preventDefault(); searchRef.current?.focus(); }\r\n      if (e.key === 'Escape') { setExpandedId(null); }\r\n    };\r\n    window.addEventListener('keydown', handler);\r\n    return () => window.removeEventListener('keydown', handler);\r\n  }, []);\r\n\r\n  // Close export dropdown on outside click\r\n  useEffect(() => {\r\n    if (!showExport) return;\r\n    const handler = (e: MouseEvent) => {\r\n      if (exportRef.current && !exportRef.current.contains(e.target as Node)) setShowExport(false);\r\n    };\r\n    document.addEventListener('mousedown', handler);\r\n    return () => document.removeEventListener('mousedown', handler);\r\n  }, [showExport]);\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-4rem)] bg-[var(--gm-bg-primary)]\">\r\n      {/* Side nav */}\r\n      <aside className=\"w-52 shrink-0 border-r border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)] flex flex-col\">\r\n        <div className=\"px-4 py-4 border-b border-[var(--gm-border-primary)]\">\r\n          <h1 className=\"text-sm font-bold text-[var(--gm-text-primary)] flex items-center gap-2\">\r\n            <Clock className=\"w-4 h-4 text-[var(--gm-accent-primary)]\" /> History\r\n          </h1>\r\n        </div>\r\n        <nav className=\"flex-1 p-2 space-y-0.5\">\r\n          {NAV_ITEMS.map(item => {\r\n            const Icon = item.icon;\r\n            const active = tab === item.id;\r\n            return (\r\n              <button key={item.id} onClick={() => setTab(item.id)}\r\n                className={cn(\r\n                  'w-full flex items-center gap-2.5 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-150',\r\n                  active\r\n                    ? 'bg-[var(--gm-interactive-primary)] text-[var(--gm-text-on-brand)] shadow-sm'\r\n                    : 'text-[var(--gm-text-secondary)] hover:bg-[var(--gm-surface-secondary)] hover:text-[var(--gm-text-primary)]'\r\n                )}>\r\n                <Icon className=\"w-3.5 h-3.5\" />\r\n                {item.label}\r\n                {item.id === 'activity' && activityQuery.data?.total !== undefined && activityQuery.data.total > 0 && (\r\n                  <span className={cn(\r\n                    'ml-auto text-[9px] px-1.5 py-0.5 rounded-full',\r\n                    active ? 'bg-white/20 text-white' : 'bg-[var(--gm-surface-secondary)] text-[var(--gm-text-tertiary)]'\r\n                  )}>\r\n                    {activityQuery.data.total}\r\n                  </span>\r\n                )}\r\n                {item.id === 'processing' && !processingQuery.isLoading && (processingQuery.data ?? []).length > 0 && (\r\n                  <span className={cn(\r\n                    'ml-auto text-[9px] px-1.5 py-0.5 rounded-full',\r\n                    active ? 'bg-white/20 text-white' : 'bg-[var(--gm-surface-secondary)] text-[var(--gm-text-tertiary)]'\r\n                  )}>\r\n                    {(processingQuery.data ?? []).length}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </aside>\r\n\r\n      {/* Main content */}\r\n      <main className=\"flex-1 flex flex-col min-w-0 overflow-hidden\">\r\n        {/* Header toolbar */}\r\n        <div className=\"shrink-0 border-b border-[var(--gm-border-primary)] bg-[var(--gm-surface-primary)]\">\r\n          <div className=\"px-5 py-3\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <SectionHeader\r\n                  title={tab === 'activity' ? 'Activity Log' : 'Processing History'}\r\n                  subtitle={tab === 'activity' ? 'All actions and changes in this project' : 'Document processing sessions and results'}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-[10px] text-[var(--gm-text-tertiary)] bg-[var(--gm-surface-secondary)] px-2 py-0.5 rounded-full\">\r\n                  {filtered.length}{allEntries.length > filtered.length ? ` / ${allEntries.length}` : ''} entries\r\n                </span>\r\n                <div className=\"relative\" ref={exportRef}>\r\n                  <button onClick={() => setShowExport(!showExport)} aria-expanded={showExport}\r\n                    className={BTN_SECONDARY}>\r\n                    <Download className=\"w-3.5 h-3.5\" /> Export <ChevronDown className=\"w-3 h-3\" />\r\n                  </button>\r\n                  {showExport && (\r\n                    <div className={cn(CARD, 'absolute right-0 top-full mt-1 z-30 min-w-[130px] overflow-hidden')}>\r\n                      <button onClick={() => handleExport('csv')}\r\n                        className=\"w-full text-left px-3 py-2 text-xs text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-secondary)] transition-colors\">\r\n                        Export CSV\r\n                      </button>\r\n                      <button onClick={() => handleExport('json')}\r\n                        className=\"w-full text-left px-3 py-2 text-xs text-[var(--gm-text-primary)] hover:bg-[var(--gm-surface-secondary)] transition-colors\">\r\n                        Export JSON\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Search + date range */}\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <div className=\"relative flex-1 max-w-sm\">\r\n                <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-[var(--gm-text-tertiary)]\" />\r\n                <input ref={searchRef} value={search} onChange={e => setSearch(e.target.value)}\r\n                  placeholder=\"Search history... (press / to focus)\" aria-label=\"Search history\"\r\n                  className={cn(INPUT, '!pl-8 !pr-8 !py-1.5 !text-xs')} />\r\n                {search && (\r\n                  <button onClick={() => setSearch('')} aria-label=\"Clear search\"\r\n                    className=\"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--gm-text-tertiary)] hover:text-[var(--gm-text-primary)]\">\r\n                    <X className=\"w-3.5 h-3.5\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n              <div className=\"flex items-center gap-1.5\">\r\n                <Calendar className=\"w-3.5 h-3.5 text-[var(--gm-text-tertiary)]\" />\r\n                <input type=\"date\" value={dateFrom} onChange={e => setDateFrom(e.target.value)}\r\n                  aria-label=\"Date from\"\r\n                  className={cn(INPUT, '!w-[130px] !py-1.5 !text-[10px]')} />\r\n                <span className=\"text-[10px] text-[var(--gm-text-tertiary)]\">to</span>\r\n                <input type=\"date\" value={dateTo} onChange={e => setDateTo(e.target.value)}\r\n                  aria-label=\"Date to\"\r\n                  className={cn(INPUT, '!w-[130px] !py-1.5 !text-[10px]')} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action filters */}\r\n            <div className=\"flex items-center gap-1.5 flex-wrap mb-1.5\" role=\"toolbar\" aria-label=\"Filter by action type\">\r\n              <Filter className=\"w-3 h-3 text-[var(--gm-text-tertiary)] mr-0.5\" />\r\n              {ACTIVITY_ACTION_FILTERS.map(f => {\r\n                const cfg = getActionCfg(f.key);\r\n                return (\r\n                  <FilterPill key={f.key}\r\n                    active={actionFilter === f.key}\r\n                    onClick={() => setActionFilter(actionFilter === f.key ? '' : f.key)}\r\n                    icon={cfg.icon} label={f.label}\r\n                    activeColor={cfg.color} activeBg={cfg.bg} activeBorder={cfg.border}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Entity filters */}\r\n            <div className=\"flex items-center gap-1.5 flex-wrap\" role=\"toolbar\" aria-label=\"Filter by entity type\">\r\n              <span className=\"w-3 mr-0.5\" />\r\n              {ENTITY_FILTERS.map(key => {\r\n                const cfg = getEntityCfg(key);\r\n                return (\r\n                  <FilterPill key={key}\r\n                    active={entityFilter === key}\r\n                    onClick={() => setEntityFilter(entityFilter === key ? '' : key)}\r\n                    icon={cfg.icon} label={cfg.label}\r\n                    activeColor=\"text-blue-400\"\r\n                    activeBg=\"bg-blue-500/10\"\r\n                    activeBorder=\"border-blue-500/30\"\r\n                  />\r\n                );\r\n              })}\r\n              {hasFilters && (\r\n                <button onClick={clearFilters}\r\n                  className=\"px-2 py-1 rounded-md text-[10px] font-medium text-[var(--gm-text-tertiary)] hover:text-red-500 transition-colors flex items-center gap-1\">\r\n                  <X className=\"w-3 h-3\" /> Clear all\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeline body */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {isLoading ? (\r\n            <HistorySkeleton />\r\n          ) : isError ? (\r\n            <div className=\"p-6\">\r\n              <ErrorState message={`Failed to load ${tab === 'activity' ? 'activity log' : 'processing history'}.`} onRetry={() => refetch()} />\r\n            </div>\r\n          ) : filtered.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center h-full text-center px-5\">\r\n              <div className=\"w-20 h-20 rounded-full bg-[var(--gm-surface-secondary)] flex items-center justify-center mb-4\">\r\n                <Clock className=\"w-10 h-10 text-[var(--gm-text-tertiary)] opacity-30\" />\r\n              </div>\r\n              <p className=\"text-sm font-medium text-[var(--gm-text-secondary)] mb-1\">\r\n                {tab === 'activity' ? 'No activity found' : 'No processing history'}\r\n              </p>\r\n              <p className=\"text-xs text-[var(--gm-text-tertiary)] opacity-60 max-w-sm mb-4\">\r\n                {hasFilters\r\n                  ? 'Try adjusting your filters or search terms.'\r\n                  : tab === 'activity'\r\n                    ? 'Activity will appear here as changes are made to the project.'\r\n                    : 'Processing history will appear here after documents are processed.'}\r\n              </p>\r\n              <div className=\"flex items-center gap-2\">\r\n                {hasFilters && (\r\n                  <button onClick={clearFilters} className={BTN_PRIMARY}>Clear Filters</button>\r\n                )}\r\n                {!hasFilters && tab === 'activity' && (processingQuery.data ?? []).length > 0 && (\r\n                  <button onClick={() => setTab('processing')} className={BTN_SECONDARY}>\r\n                    <Cpu className=\"w-3.5 h-3.5\" /> View Processing History\r\n                  </button>\r\n                )}\r\n                {!hasFilters && tab === 'processing' && (activityQuery.data?.activities?.length ?? 0) > 0 && (\r\n                  <button onClick={() => setTab('activity')} className={BTN_SECONDARY}>\r\n                    <Activity className=\"w-3.5 h-3.5\" /> View Activity Log\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"px-5 py-4\">\r\n              {grouped.map(group => (\r\n                <div key={group.dateKey} className=\"mb-6\">\r\n                  <div className=\"sticky top-0 z-10 flex items-center gap-3 py-2 bg-[var(--gm-bg-primary)]\">\r\n                    <div className={cn('w-2.5 h-2.5 rounded-full shrink-0',\r\n                      group.isToday ? 'bg-[var(--gm-interactive-primary)] ring-2 ring-blue-500/30' : 'bg-[var(--gm-text-tertiary)] opacity-40')} />\r\n                    <span className={cn('text-[11px] font-semibold uppercase tracking-wider',\r\n                      group.isToday ? 'text-[var(--gm-interactive-primary)]' : 'text-[var(--gm-text-tertiary)]')}>\r\n                      {group.label}\r\n                    </span>\r\n                    <span className=\"text-[10px] text-[var(--gm-text-tertiary)] opacity-50\">{group.entries.length}</span>\r\n                    <div className=\"flex-1 h-px bg-[var(--gm-border-primary)]\" />\r\n                  </div>\r\n\r\n                  <div className=\"ml-[5px] border-l-2 border-[var(--gm-border-primary)] space-y-1.5 pl-5\">\r\n                    {group.entries.map(entry => (\r\n                      <EntryCard key={entry.id} entry={entry}\r\n                        isOpen={expandedId === entry.id}\r\n                        onToggle={() => setExpandedId(expandedId === entry.id ? null : entry.id)} />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Load More */}\r\n              {hasMore && (\r\n                <div className=\"flex justify-center py-4\">\r\n                  <button onClick={() => setVisibleCount(c => c + ITEMS_PER_PAGE)} className={BTN_SECONDARY}>\r\n                    Load More ({filtered.length - visibleCount} remaining)\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {!hasMore && filtered.length > 0 && (\r\n                <div className=\"flex items-center justify-center gap-3 py-3 text-[9px] text-[var(--gm-text-tertiary)] opacity-40\">\r\n                  <span>End of history</span>\r\n                  <span className=\"mx-2\">·</span>\r\n                  <span><kbd className=\"px-1 py-0.5 rounded bg-[var(--gm-surface-secondary)] border border-[var(--gm-border-primary)] text-[8px]\">/</kbd> search</span>\r\n                  <span><kbd className=\"px-1 py-0.5 rounded bg-[var(--gm-surface-secondary)] border border-[var(--gm-border-primary)] text-[8px]\">Esc</kbd> collapse</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","LogIn","createLucideIcon","Pencil","UserMinus","SIZES","GRADIENTS","gradientFor","name","hash","i","PersonAvatar","person","size","className","showInfo","infoClassName","imgError","setImgError","useState","url","resolveAvatarUrl","initials","getInitials","s","role","company","avatar","jsx","cn","jsxs","CARD","BTN_PRIMARY","BTN_SECONDARY","INPUT","NAV_ITEMS","Activity","Cpu","SectionHeader","title","subtitle","ACTION_CFG","Plus","Trash2","RotateCw","Zap","Upload","UserPlus","Settings","LogOut","Key","MessageSquare","ENTITY_CFG","FileText","Lightbulb","HelpCircle","ShieldAlert","CheckSquare","GitCommit","Users","Mail","DEFAULT_ACTION","DEFAULT_ENTITY","parseActivityAction","action","parts","entityKey","getActionCfg","key","getEntityCfg","getDateKey","ts","getDateLabel","dateStr","d","now","today","diff","relativeTime","mins","hrs","days","snakeToTitle","c","activityToTimeline","a","actionKey","meta","aCfg","eCfg","processingToTimeline","p","idx","stats","HistorySkeleton","Skeleton","g","FilterPill","active","onClick","Icon","label","activeColor","activeBg","activeBorder","EntryCard","entry","isOpen","onToggle","ActionIcon","ChevronDown","v","k","ITEMS_PER_PAGE","ACTIVITY_ACTION_FILTERS","ENTITY_FILTERS","HistoryPage","project","useProject","tab","setTab","search","setSearch","debouncedSearch","setDebouncedSearch","actionFilter","setActionFilter","entityFilter","setEntityFilter","dateFrom","setDateFrom","dateTo","setDateTo","expandedId","setExpandedId","showExport","setShowExport","visibleCount","setVisibleCount","searchRef","useRef","exportRef","activityQuery","useActivityLog","processingQuery","useProcessingHistory","autoSwitched","setAutoSwitched","useEffect","actCount","procCount","isLoading","isError","refetch","t","allEntries","useMemo","filtered","e","endDate","visible","hasMore","grouped","map","order","dk","todayKey","clearFilters","useCallback","hasFilters","handleExport","format","rows","blob","filename","dateSuffix","hdr","csv","r","h","handler","Clock","item","Download","Search","X","Calendar","Filter","f","cfg","ErrorState","group"],"mappings":"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","x_google_ignoreList":[0,1,2]}